<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>1, 2, 3, tested | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Testing AngularJS requires too much boilerplate code. We were so fed up with writing extra lines, looking up the syntax, etc. that we wrote a helper library kensho&#x2F;ng-describe with a single funct">
<meta property="og:type" content="article">
<meta property="og:title" content="1, 2, 3, tested">
<meta property="og:url" content="https://glebbahmutov.com/blog/1-2-3-tested/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Testing AngularJS requires too much boilerplate code. We were so fed up with writing extra lines, looking up the syntax, etc. that we wrote a helper library kensho&#x2F;ng-describe with a single funct">
<meta property="og:locale">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/coverage/code-coverage-add.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/coverage/code-coverage-missed-branch.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/unit-testing-angularjs-tutorial/master/images/controller.png">
<meta property="article:published_time" content="2015-08-15T04:00:00.000Z">
<meta property="article:modified_time" content="2024-04-23T22:55:08.481Z">
<meta property="article:author" content="Gleb Bahmutov">
<meta property="article:tag" content="testing">
<meta property="article:tag" content="angularjs">
<meta property="article:tag" content="tutorial">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/bahmutov/talks/master/images/coverage/code-coverage-add.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" as="style">
  
<link rel="stylesheet" href="../css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-titles">
      <div id="header-title" class="inner">
        <h1 id="logo-wrap">
          <a href="../index.html" id="logo">Better world by better software</a>
        </h1>
        <!--
        
        -->
        <!-- <span class="no-mobile">Software advice from</span> -->
        <h2 id="subtitle-wrap">
          <span class="subtitle">
            <a id="subtitle" href="https://glebbahmutov.com">Gleb Bahmutov PhD</a>
            <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
            
              <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
            
            <a id="nav-search-btn" class="nav-icon" title="Search"></a>
            <div id="search-form-wrap">
              <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
            </div>
          </span>
        </h2>

      </div>
    </div>
    <div id="climate-crisis">
      <h2>Our planet üåè is in danger</h2>
      <h3>Act today: <a href="/blog/climate-emergency/">what you can do</a></h3>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-1-2-3-tested" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2015-08-15T04:00:00.000Z" itemprop="datePublished">Aug 15 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      1, 2, 3, tested
    </h1>

    <h2 class="article-title" itemprop="name">
      Unit testing AngularJS code in record time using ng-describe.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Testing AngularJS requires too much boilerplate code. We were so fed up with
writing extra lines, looking up the syntax, etc. that we wrote a helper library
<a target="_blank" rel="noopener" href="https://github.com/kensho/ng-describe">kensho&#x2F;ng-describe</a> with a single function. Yet that function can hide
all the gory AngularJS details, allowing you to write unit tests in record times.
In this tutorial I will show how to start unit testing an AngularJS code, how to
get code coverage, and how to test different Angular features using <em>ng-describe</em> library.</p>
<p>The code to go with this tutorial is available at <a target="_blank" rel="noopener" href="https://github.com/bahmutov/unit-testing-angularjs-tutorial">bahmutov&#x2F;unit-testing-angularjs-tutorial</a>.
I advise to clone that repo to a local folder, checkout each tag as you read the tutorial,
try running the code and the unit tests.</p>
<pre><code>git clone git@github.com:bahmutov/unit-testing-angularjs-tutorial.git
cd unit-testing-angularjs-tutorial
npm install
</code></pre>
<h2><span id="unit-testing-javascript-code">Unit testing JavaScript code</span></h2><h3><span id="step-0">step-0</span></h3><p>You can find the source for the following section under tag <code>step-0</code>. If you checked out
the repository, run <code>git checkout step-0</code> to get to this commit.</p>
<p>Let us start with the simplest example to get a feel for Jasmine framework and Karma
test runner. First we need to write the simplest function one can test.</p>
<figure class="highlight js"><figcaption><span>add.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>There are no unit tests yet - we are not sure how the <code>add</code> function behaves when we pass numbers
or strings or undefined values. We need to unit test the code in <code>add.js</code>.</p>
<p>Let us create a <em>spec</em> file - in the Behavior Driven Development (BDD for short) testing language
we are going to use, the <em>spec</em> file <em>specifies</em> how the <code>add</code> function behaves. Typically, I 
give the <em>spec</em> file the same name as the source file plus <code>-spec.js</code> suffix.</p>
<figure class="highlight js"><figcaption><span>add-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;adds numbers&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toEqual</span>(<span class="number">5</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>File <code>add-spec.js</code> describes the <code>add</code> function, telling us that <code>it</code> (meaning <code>add</code>) <em>adds numbers</em>.
When we add number 2 to number 3 we expect to get back number 5.</p>
<p>Where do functions <code>describe</code> and <code>it</code> come from? From the Jasmine testing library we are going to use
to execute the unit tests. While we could get a stand alone Jasmine command line tool, a much better
solution is to use <a target="_blank" rel="noopener" href="http://karma-runner.github.io/">Karma</a> test runner. It has Jasmine adapter for executing Jasmine unit tests,
plus can do a lot more. It is easier to just start using it right away.</p>
<h3><span id="step-1">step-1</span></h3><p>In the project folder, I added Karma configuration file. You can create one if you install
Karma globally (<code>npm install -g karma</code>) and then call <code>karma init</code>. Here is the file I generated</p>
<figure class="highlight js"><figcaption><span>karma.conf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  config.<span class="title function_">set</span>(&#123;</span><br><span class="line">    <span class="attr">frameworks</span>: [<span class="string">&#x27;jasmine&#x27;</span>],</span><br><span class="line">    <span class="attr">files</span>: [</span><br><span class="line">      <span class="string">&#x27;*.js&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">port</span>: <span class="number">9876</span>,</span><br><span class="line">    <span class="attr">browsers</span>: [<span class="string">&#x27;Chrome&#x27;</span>],</span><br><span class="line">    <span class="attr">singleRun</span>: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Then I installed Karma and the necessary plugins (like Jasmine, Chrome launcher) in the project&#39;s 
folder.</p>
<pre><code>npm install --save-dev karma karma-jasmine karma-chrome-launcher
</code></pre>
<p>Then I added the <code>karma start</code> command as the package test script.
Here is the <code>package.json</code></p>
<figure class="highlight json"><figcaption><span>package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;karma start&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;jasmine-core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.3.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;karma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.13.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;karma-chrome-launcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;karma-jasmine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.3.6&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>You can now execute <code>npm test</code> command, which will flash Chrome browser and will report a single
successfully passed unit test.</p>
<pre><code>$ npm test
&gt; unit-testing-angularjs-tutorial@1.0.0 test /Users/gleb/git/unit-testing-angularjs-tutorial
&gt; karma start
15 08 2015 17:28:06.164:INFO [karma]: Karma v0.13.9 server started at http://localhost:9876/
15 08 2015 17:28:06.169:INFO [launcher]: Starting browser Chrome
15 08 2015 17:28:07.260:INFO [Chrome 44.0.2403 (Mac OS X 10.10.2)]: 
    Connected on socket aU7IWF2FR43DDxjmAAAA with id 6382992
Chrome 44.0.2403 (Mac OS X 10.10.2): Executed 1 of 1 SUCCESS (0.006 secs / 0.002 secs)
</code></pre>
<p>You can see the code and run the test command by using tag <code>step-1</code></p>
<h3><span id="step-2">step-2</span></h3><p>Before we run each unit test, we might need to set things up. In the simple source example above,
let us verify that the <code>add</code> is an existing function. In Jasmine (and other BDD testing libraries)
one can perform actions before each unit test by registering a single or multiple callbacks</p>
<figure class="highlight js"><figcaption><span>add-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="keyword">typeof</span> add).<span class="title function_">toEqual</span>(<span class="string">&#x27;function&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;adds numbers&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toEqual</span>(<span class="number">5</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Running <code>npm test</code> should still pass, but if we expected <code>add</code> to be an object instead of a function
we would get an error</p>
<figure class="highlight js"><figcaption><span>add-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="keyword">typeof</span> add).<span class="title function_">toEqual</span>(<span class="string">&#x27;object&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<pre><code>$ npm test
&gt; unit-testing-angularjs-tutorial@1.0.0 test /Users/gleb/git/unit-testing-angularjs-tutorial
&gt; karma start
15 08 2015 17:32:28.636:INFO [karma]: Karma v0.13.9 server started at http://localhost:9876/
15 08 2015 17:32:28.641:INFO [launcher]: Starting browser Chrome
15 08 2015 17:32:30.081:INFO [Chrome 44.0.2403 (Mac OS X 10.10.2)]: 
    Connected on socket tjX2X1rAcWJHTSmJAAAA with id 38618292
Chrome 44.0.2403 (Mac OS X 10.10.2) add adds numbers FAILED
    Expected &#39;function&#39; to equal &#39;object&#39;.
        at Object.&lt;anonymous&gt; (/Users/gleb/git/unit-testing-angularjs-tutorial/add-spec.js:3:24)
Chrome 44.0.2403 (Mac OS X 10.10.2): Executed 1 of 1 (1 FAILED) ERROR (0.009 secs / 0.004 secs)
npm ERR! Test failed.  See above for more details.
</code></pre>
<p>We will use <code>beforeEach</code> callbacks to initialize AngularJS state before running unit tests in the
future steps. Note, there is also <code>afterEach</code> callback, and you can register multiple <code>before</code> and
<code>after</code> functions to run.</p>
<h3><span id="step-3">step-3</span></h3><p>It is important for the unit tests to execute most if not every line of the source code.
One can check if the unit tests do this by computing <em>code coverage</em> automatically every time
the unit tests run. This is very simple to do using another Karma plugin.</p>
<pre><code>npm install --save-dev karma-coverage
</code></pre>
<p>Add <code>coverage</code> preprocessor for the JavaScript files (typically I prefer to only instrument the source files,
not the specs), and add the <code>coverage</code> reporter to save the results</p>
<figure class="highlight js"><figcaption><span>karma.conf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  config.<span class="title function_">set</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">preprocessors</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;*.js&#x27;</span>: <span class="string">&#x27;coverage&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reporters</span>: [<span class="string">&#x27;progres&#x27;</span>, coverage<span class="string">&#x27;]</span></span><br><span class="line"><span class="string">  &#125;);</span></span><br><span class="line"><span class="string">&#125;;</span></span><br></pre></td></tr></table></figure>

<p>Run the command <code>npm test</code> and then open the coverage report page in the browser</p>
<pre><code>open coverage/Chrome&lt;...&gt;/index.html
</code></pre>
<p>It will show code coverage information line by line for both <code>add.js</code> and <code>add-spec.js</code>.
We can see that we have hit every line of the <code>add.js</code> source file</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/talks/master/images/coverage/code-coverage-add.png" alt="code coverage"></p>
<p>If we add some other code to the <code>add.js</code>, we will see missed lines after executing the same tests</p>
<figure class="highlight js"><figcaption><span>add.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">  add = <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The coverage shows missed line and missed branch <code>if (false)</code>.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/talks/master/images/coverage/code-coverage-missed-branch.png" alt="missed line"></p>
<p>Code coverage will become invaluable when you want to target the unit tests to the specific areas
of the code before refactoring or fixing a bug.</p>
<h2><span id="step-4">step-4</span></h2><p>Let us make a tiny Angular application that will add numbers. The simplest way to use our addition
function is to make it a value of an Angular module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;Calc&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">value</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>We now need AngularJS library and if we want to test it, <a target="_blank" rel="noopener" href="https://docs.angularjs.org/api/ngMock">angular-mocks</a> helper
library.</p>
<pre><code>npm install --save angular
npm install --save-dev angular-mocks
</code></pre>
<p>We should add these two libraries to the Karma configuration file, loading them before
our source files.</p>
<figure class="highlight js"><figcaption><span>karma.conf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  config.<span class="title function_">set</span>(&#123;</span><br><span class="line">    <span class="attr">files</span>: [</span><br><span class="line">      <span class="string">&#x27;node_modules/angular/angular.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;node_modules/angular-mocks/angular-mocks.js&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;*.js&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">    ...</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>This tutorial is mainly about using <a target="_blank" rel="noopener" href="https://github.com/kensho/ng-describe">ng-describe</a> to perform AngularJS unit
testing with minimum boilerplate code, but just for fun, let us first write a unit
test using just the <code>angular-mocks</code> library. Modify the <code>add-spec.js</code> to load the
<code>Calc</code> module and then inject <code>add</code> value.</p>
<figure class="highlight js"><figcaption><span>add-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> add;</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    angular.<span class="property">mock</span>.<span class="title function_">module</span>(<span class="string">&#x27;Calc&#x27;</span>);</span><br><span class="line">    angular.<span class="property">mock</span>.<span class="title function_">inject</span>(<span class="keyword">function</span> (<span class="params">_add_</span>) &#123;</span><br><span class="line">      add = _add_;</span><br><span class="line">      <span class="title function_">expect</span>(<span class="keyword">typeof</span> add).<span class="title function_">toEqual</span>(<span class="string">&#x27;function&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;adds numbers&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toEqual</span>(<span class="number">5</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Notice the extra lines and calls to first load the module <code>Calc</code> to be available
during the testing, second to inject the function provided by the <code>value(&#39;add&#39;, function ...)</code>
We also had to surround normal name <code>add</code> with underscores in <code>inject(function (_add_) &#123; ...</code>
to avoid clashing with the local variable <code>add</code>.</p>
<p>This is a common theme when unit testing AngularJS code - things hidden by the framework&#39;s
dependency injection and other &quot;magic&quot; code are suddenly exposed and require non-trivial
amount of code to be setup during unit testing. To get even better perspective, let us
write a controller that would use <code>add</code> function to perform additions.</p>
<h2><span id="step-5">step-5</span></h2><p>I created simple page that adds user-entered two number. The markup:</p>
<figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Addition<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;node_modules/angular/angular.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;add.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;add-app.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">&quot;AddApp&quot;</span> <span class="attr">ng-controller</span>=<span class="string">&quot;AddController&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;a&quot;</span> /&gt;</span> + <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;b&quot;</span> /&gt;</span> =</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">ng-model</span>=<span class="string">&quot;sum&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code for <code>AddApp</code> module will be in <code>add-app.js</code></p>
<figure class="highlight js"><figcaption><span>add-app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;AddApp&#x27;</span>, [<span class="string">&#x27;Calc&#x27;</span>])</span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;AddController&#x27;</span>, <span class="keyword">function</span> (<span class="params">$scope, add</span>) &#123;</span><br><span class="line">    $scope.<span class="property">a</span> = $scope.<span class="property">b</span> = $scope.<span class="property">sum</span> = <span class="number">0</span>;</span><br><span class="line">    $scope.$watch(<span class="string">&#x27;a&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      $scope.<span class="property">sum</span> = <span class="title function_">add</span>($scope.<span class="property">a</span>, $scope.<span class="property">b</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $scope.$watch(<span class="string">&#x27;b&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      $scope.<span class="property">sum</span> = <span class="title function_">add</span>($scope.<span class="property">a</span>, $scope.<span class="property">b</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>The result is simple to see, you can open the <code>index.html</code> file using any browser locally</p>
<pre><code>open index.html
</code></pre>
<p>Enter two numbers and see their sum</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/unit-testing-angularjs-tutorial/master/images/controller.png" alt="AddApp"></p>
<p>We have already unit tested the <code>add</code> function using <code>angular-mocks</code> and have encountered
writing a little bit of boilerplate code. Let us unit test the controller <code>AddController</code> if
it is an easy thing to do using <code>angular-mocks</code>.</p>
<h2><span id="step-6">step-6</span></h2><p>Let us test if the controller <code>AddController</code> initializes properties <code>a</code>, <code>b</code> and <code>sum</code> to
zeroes. It must be simple, right?</p>
<figure class="highlight js"><figcaption><span>add-controller-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;add controller&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> $controller, $rootScope, $scope;</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    angular.<span class="property">mock</span>.<span class="title function_">module</span>(<span class="string">&#x27;AddApp&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="title function_">beforeEach</span>(angular.<span class="property">mock</span>.<span class="title function_">inject</span>(<span class="keyword">function</span> (<span class="params">_$controller_, _$rootScope_</span>) &#123;</span><br><span class="line">    $controller = _$controller_;</span><br><span class="line">    $rootScope = _$rootScope_;</span><br><span class="line">  &#125;));</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $scope = $rootScope.$new();</span><br><span class="line">    $controller(<span class="string">&#x27;AddController&#x27;</span>, &#123; <span class="attr">$scope</span>: $scope &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;sets a, b and sum to zero&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">expect</span>($scope.<span class="property">a</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="title function_">expect</span>($scope.<span class="property">b</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="title function_">expect</span>($scope.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The unit test looks nothing like the simplet AngularJS application code. The same magic
that works so nicely behind the scenes now requires the <em>developer</em> to work to execute.
We had to use 3 <code>beforeEach</code> callbacks to set things up before our unit test</p>
<ul>
<li>Load the module under test <code>AddApp</code>, which is reasonable</li>
<li>Inject both <code>$controller</code> and <code>$rootScope</code> services - something we almost never do in the normal
AngularJS code</li>
<li>Create a new scope object using <code>$rootScope.$new</code> method and then create the controller instance.</li>
</ul>
<p>This is a lot of boilerplate code just to get the ball rolling.</p>
<h2><span id="step-7">step-7</span></h2><p>Let us use the <a target="_blank" rel="noopener" href="https://github.com/kensho/ng-describe">kensho&#x2F;ng-describe</a> to remove all the boilerplate code from the above
unit test. First install the library and add it to the <code>karma.conf.js</code> before your specs</p>
<pre><code>npm install --save-dev ng-describe
</code></pre>
<figure class="highlight js"><figcaption><span>karma.conf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">files</span>: [</span><br><span class="line">  <span class="string">&#x27;node_modules/angular/angular.js&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;node_modules/angular-mocks/angular-mocks.js&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;node_modules/ng-describe/dist/ng-describe.js&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;*.js&#x27;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p><code>ng-describe</code> is a library with a minimal api. It is a single function that takes an object of options</p>
<pre><code>ngDescribe(&#123; ... &#125;);
</code></pre>
<p>That is it. You can think that <code>ngDescribe</code> replaces <code>describe</code> function calls used above to perform
Angular-specific initialization before each unit test. For example, to test <code>add</code> function from 
the <code>add-spec.js</code> change the code to do the following</p>
<figure class="highlight js"><figcaption><span>add-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;Calc&#x27;</span>,</span><br><span class="line">  <span class="attr">inject</span>: <span class="string">&#x27;add&#x27;</span>,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;adds numbers&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toEqual</span>(<span class="number">5</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Unit test <code>adds numbers</code> needs function <code>add</code> provided by the module <code>Calc</code>. The module loading
and <code>add</code> injection happen because we specified the module and the list of services to inject</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;Calc&#x27;</span>,</span><br><span class="line">  <span class="attr">inject</span>: <span class="string">&#x27;add&#x27;</span>,</span><br><span class="line">  ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>You can specify multiple modules and multiple values to inject. All injected values will be properties
of the first argument to the special <code>test</code> callback. In my code I usually name the first argument <code>deps</code>,
which is short for <code>dependencies</code>. Thus the unit test just calls <code>deps.add</code> inside:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;adds numbers&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="title function_">add</span>(<span class="number">2</span>, <span class="number">3</span>)).<span class="title function_">toEqual</span>(<span class="number">5</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>This is how <code>ng-describe</code> works - it does a lot of Angular-specific work behind the scenes, placing
the result into the <code>deps</code> argument. The unit tests go inside the <code>test</code> callback, and have full access
to the <code>deps</code> object because it encloses them.</p>
<h2><span id="step-8">step-8</span></h2><p>Let us look how much boilerplate <code>ng-describe</code> removes when testing the controller <code>AddController</code>.
We already saw that unit testing a controller using <code>angular-mocks</code> requires a lot of code just
a controller instance. Here is the same unit test switched to <code>ng-describe</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;AddApp&#x27;</span>,</span><br><span class="line">  <span class="attr">controller</span>: <span class="string">&#x27;AddController&#x27;</span>,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;sets a, b and sum to zero&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">a</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">b</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>That is it. We tell <code>ng-describe</code> that we need a controller <code>AddController</code> and it does the rest behind
the scenes. What is the object <code>deps.AddController</code> then? In most cases when creating a controller, 
we really need the <code>$scope</code> object. Thus the <code>ng-describe</code> when creating a controller, places 
<em>its created scope</em> into the object passed to the tests. The unit tests then interact with the scope
object</p>
<pre><code>expect(deps.AddController.a).toEqual(0);
// logically same as
expect($scope.a).toEqual(0);
</code></pre>
<h2><span id="step-9">step-9</span></h2><p>We have only tested the initial values set inside the controller. 
Can we test the summation logic too? If we set the values of <code>a</code> and <code>b</code> in the controller&#39;s scope,
we should get the property <code>sum</code> updated too. Here is the second unit test we can add to 
the <code>add-controller-spec.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;AddApp&#x27;</span>,</span><br><span class="line">  <span class="attr">controller</span>: <span class="string">&#x27;AddController&#x27;</span>,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="comment">// first unit test as before</span></span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;computes the sum&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">b</span> = <span class="number">20</span>;</span><br><span class="line">      deps.<span class="title function_">step</span>();</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The <code>deps.step()</code> method is equivalent to <code>$rootScope.$digest()</code> or <code>deps.AddController.$apply();</code> 
but removes need to inject the  <code>$rootScope</code> dependency or remember the syntax. It is up to you which one you
prefer.</p>
<h2><span id="step-10">step-10</span></h2><p>We will finish this tutorial with another powerful <code>ng-describe</code> feature: simple server response mocking.
Sometimes our application has to make requests to the server. For example, imagine that instead of computing
the sum on the client side, we send both numbers <code>a</code> and <code>b</code> to a server that performs the computation and
returns the sum.</p>
<figure class="highlight js"><figcaption><span>add.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;RemoteCalc&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">service</span>(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">function</span> (<span class="params">$http</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> $http.<span class="title function_">get</span>(<span class="string">&#x27;/add/&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">params</span>: &#123;</span><br><span class="line">          <span class="attr">a</span>: a,</span><br><span class="line">          <span class="attr">b</span>: b</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>We will change our application code to use <code>RemoteCalc</code> instead of plain <code>Calc</code> to provide <code>add</code>,
and will use the resolved value instead of the returned result</p>
<figure class="highlight js"><figcaption><span>add-app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;AddApp&#x27;</span>, [<span class="string">&#x27;RemoteCalc&#x27;</span>])</span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;AddController&#x27;</span>, <span class="keyword">function</span> (<span class="params">$scope, add</span>) &#123;</span><br><span class="line">    $scope.<span class="property">a</span> = $scope.<span class="property">b</span> = $scope.<span class="property">sum</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">computeSum</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">add</span>($scope.<span class="property">a</span>, $scope.<span class="property">b</span>)</span><br><span class="line">        .<span class="title function_">success</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">          $scope.<span class="property">sum</span> = response;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    $scope.$watch(<span class="string">&#x27;a&#x27;</span>, computeSum);</span><br><span class="line">    $scope.$watch(<span class="string">&#x27;b&#x27;</span>, computeSum);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>If we run the unit tests now, we get an error - an Ajax request!</p>
<pre><code>Chrome 44.0.2403 (Mac OS X 10.10.2) default tests computes the sum FAILED
    Error: Unexpected request: GET /add/?a=10&amp;b=20
</code></pre>
<p>Of course, our unit test sets values 10 and 20, the controller makes the request right away!</p>
<figure class="highlight js"><figcaption><span>add-controller-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;AddApp&#x27;</span>,</span><br><span class="line">  <span class="attr">controller</span>: <span class="string">&#x27;AddController&#x27;</span>,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;computes the sum&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">b</span> = <span class="number">20</span>;</span><br><span class="line">      deps.<span class="title function_">step</span>();</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>We need to return 30 in this case, luckily it is simple to do using <code>ngDescribe</code>. Just add another property
to the <code>ngDescribe</code> options with values to be returned for each expected HTTP request</p>
<figure class="highlight js"><figcaption><span>add-controller-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;AddApp&#x27;</span>,</span><br><span class="line">  <span class="attr">controller</span>: <span class="string">&#x27;AddController&#x27;</span>,</span><br><span class="line">  <span class="attr">http</span>: &#123;</span><br><span class="line">    <span class="attr">get</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/add/?a=10&amp;b=20&#x27;</span>: <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;computes the sum&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">b</span> = <span class="number">20</span>;</span><br><span class="line">      deps.<span class="title function_">step</span>();</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>When during the course of the unit test, the controller uses <code>RemoteCalc.add</code> service, which
calls <code>$http.get</code> and executes the <code>GET /add/?a=10&amp;b=20</code> - the mock backend will be ready to
return 30.</p>
<h2><span id="step-11">step-11</span></h2><p>While mocking the responses to the expected <code>http</code> requests is powerful, I would argue that the unit
test gets way too deep to the implementation details. We are testing <code>AddController</code>, yet we looked
inside the <code>RemoteCalc</code> to find that it makes a GET request to the server. The unit test is mocking
an action very far from the code under the test itself. Can we do better?</p>
<p>Yes we can using <em>mocks</em>, which are pieces of fake code to be used instead of the real code during
unit tests. For example, the entire actual <code>RemoteCalc.add</code> service making the GET http request
can be replaced with a <em>mock</em> for the duration of the unit test. With <code>ng-describe</code> it is simple</p>
<figure class="highlight js"><figcaption><span>add-controller-spec.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ngDescribe</span>(&#123;</span><br><span class="line">  <span class="attr">module</span>: <span class="string">&#x27;AddApp&#x27;</span>,</span><br><span class="line">  <span class="attr">controller</span>: <span class="string">&#x27;AddController&#x27;</span>,</span><br><span class="line">  <span class="attr">mock</span>: &#123;</span><br><span class="line">    <span class="title class_">AddApp</span>: &#123;</span><br><span class="line">      <span class="attr">add</span>: <span class="keyword">function</span> (<span class="params">$q, a, b</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> $q.<span class="title function_">when</span>(a + b);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">tests</span>: <span class="keyword">function</span> (<span class="params">deps</span>) &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;computes the sum&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">a</span> = <span class="number">10</span>;</span><br><span class="line">      deps.<span class="property">AddController</span>.<span class="property">b</span> = <span class="number">20</span>;</span><br><span class="line">      deps.<span class="title function_">step</span>();</span><br><span class="line">      <span class="title function_">expect</span>(deps.<span class="property">AddController</span>.<span class="property">sum</span>).<span class="title function_">toEqual</span>(<span class="number">30</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Using the special property <code>mock</code> we are setting fake implementation to be injected by the
Angular dependency injection:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mock</span>: &#123;</span><br><span class="line">  <span class="title class_">AddApp</span>: &#123;</span><br><span class="line">    <span class="attr">add</span>: <span class="keyword">function</span> (<span class="params">$q, a, b</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> $q.<span class="title function_">when</span>(a + b);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Whenever module <code>AddApp</code> injects service <code>add</code>, the environment will provide our fake function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> (<span class="params">$q, a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> $q.<span class="title function_">when</span>(a + b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Notice that <code>ng-describe</code> is smart enough to inject <em>other services</em> into the fake code. For example,
because <code>$http.get</code> returns a promise, we need to return a promise too from the fake code. We do this
by asking for the <code>$q</code> service and returning <code>$q.when(expression)</code>. This is every better code than
mocking <code>http</code> because it will return a correct computed sum <code>a+b</code> instead of hardcoded 30 for
a single expected request <code>/add/?a=10&amp;b=20</code>.</p>
<h2><span id="conclusion">Conclusion</span></h2><p>I hope this tutorial set you on the path to effectively unit test your AngularJS application code.
You can now target a particular code with the tests and write a test with minimum boilerplate.</p>
<p>The <a target="_blank" rel="noopener" href="https://github.com/kensho/ng-describe">ng-describe&#x2F;README.md</a> has lots of examples showing every supported test feature,
including testing directives, spying on services and other boilerplate-prone test cases. I would start
by reading the examples. If there is a question, or a particular testing feature missing, please
open a Github <a target="_blank" rel="noopener" href="https://github.com/kensho/ng-describe/issues">issue</a> with a detailed example; including
the code to be tested and the unit test that is not working.</p>
<h2><span id="additional-information">Additional information</span></h2><ul>
<li><a target="_blank" rel="noopener" href="http://slides.com/bahmutov/ng-describe/">Unit testing AngularJS</a> - slides for the presentation I have delivered at AngularJS NYC 
meetup in August 2015</li>
<li><a href="../testing-angularjs-under-node/">Testing AngularJS under Node</a></li>
<li><a href="../testing-angular-async-stuff/">Testing Angular async stuff</a></li>
</ul>

      
    </div>

    
      <footer class="article-footer personal-links">
  <p>
    Follow Gleb Bahmutov <a target="_blank" rel="noopener" href="https://twitter.com/bahmutov">@bahmutov</a>,
    see his projects at <a href="https://glebbahmutov.com">glebbahmutov.com</a>,
    watch his Cypress <a target="_blank" rel="noopener" href="https://www.youtube.com/c/glebbahmutov/videos">videos</a>,
    browse his <a target="_blank" rel="noopener" href="https://slides.com/bahmutov">presentations</a>
  </p>
  <p>
    Want to know more about Cypress? Check out <a href="https://cypress.tips" target="_blank">cypress.tips</a>
  </p>
  <p>
    Have a Cypress question? Want me to answer it? Consider supporting me via <a target="_blank" rel="noopener" href="https://github.com/sponsors/bahmutov">GitHub Sponsors</a> or by purchasing my <a target="_blank" rel="noopener" href="https://cypress.tips/courses">Cypress courses</a>.
  </p>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/1-2-3-tested/" data-id="cly3dzo57000dcun78s8075es" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/1-2-3-tested/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/testing/" rel="tag">testing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../express-sessions/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Express sessions
        
      </div>
    </a>
  
  
    <a href="../perfect-code-zero-effort/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Perfect code, zero effort</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/climate/">climate</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">173</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">566</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="../tags/11ty/" rel="tag">11ty</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/" rel="tag">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/a11y/" rel="tag">a11y</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/" rel="tag">advice</a><span class="tag-list-count">120</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/algolia/" rel="tag">algolia</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/" rel="tag">angular</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/" rel="tag">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/" rel="tag">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/" rel="tag">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/" rel="tag">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/" rel="tag">browser</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/" rel="tag">ci</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/circle/" rel="tag">circle</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/climate/" rel="tag">climate</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/code-coverage/" rel="tag">code coverage</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/" rel="tag">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/" rel="tag">cypress</a><span class="tag-list-count">317</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress-dashboard/" rel="tag">cypress dashboard</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/" rel="tag">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/" rel="tag">db</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/" rel="tag">docker</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/documentation/" rel="tag">documentation</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/email/" rel="tag">email</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/" rel="tag">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/" rel="tag">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/" rel="tag">functional</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/" rel="tag">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/" rel="tag">git</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/github/" rel="tag">github</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/" rel="tag">graphql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/" rel="tag">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/" rel="tag">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hiring/" rel="tag">hiring</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/" rel="tag">hyperapp</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/" rel="tag">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/" rel="tag">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/" rel="tag">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">166</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/" rel="tag">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/model-based-testing/" rel="tag">model-based testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/" rel="tag">modular development</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/netlify/" rel="tag">netlify</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">85</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/" rel="tag">performance</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/" rel="tag">presentation</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/" rel="tag">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/" rel="tag">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react/" rel="tag">react</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react-native/" rel="tag">react native</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/" rel="tag">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/" rel="tag">reactjs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/renovate/" rel="tag">renovate</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/" rel="tag">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/" rel="tag">security</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/" rel="tag">sentry</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/state-machine/" rel="tag">state machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/" rel="tag">testing</a><span class="tag-list-count">194</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/" rel="tag">typescript</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/" rel="tag">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vercel/" rel="tag">vercel</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/visual-testing/" rel="tag">visual testing</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/" rel="tag">vuejs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/11ty/" style="font-size: 10.34px;">11ty</a> <a href="../tags/QUnit/" style="font-size: 11.38px;">QUnit</a> <a href="../tags/a11y/" style="font-size: 10.69px;">a11y</a> <a href="../tags/advice/" style="font-size: 18.97px;">advice</a> <a href="../tags/algolia/" style="font-size: 10.69px;">algolia</a> <a href="../tags/angular/" style="font-size: 10.69px;">angular</a> <a href="../tags/angularjs/" style="font-size: 17.93px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 12.76px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.41px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 14.48px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 15.52px;">browser</a> <a href="../tags/ci/" style="font-size: 17.24px;">ci</a> <a href="../tags/circle/" style="font-size: 14.48px;">circle</a> <a href="../tags/climate/" style="font-size: 14.83px;">climate</a> <a href="../tags/code-coverage/" style="font-size: 15.17px;">code coverage</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.07px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 20px;">cypress</a> <a href="../tags/cypress-dashboard/" style="font-size: 14.14px;">cypress dashboard</a> <a href="../tags/d3/" style="font-size: 10.69px;">d3</a> <a href="../tags/db/" style="font-size: 14.14px;">db</a> <a href="../tags/docker/" style="font-size: 13.79px;">docker</a> <a href="../tags/documentation/" style="font-size: 11.72px;">documentation</a> <a href="../tags/email/" style="font-size: 10.69px;">email</a> <a href="../tags/es6/" style="font-size: 14.14px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.28px;">functional</a> <a href="../tags/generators/" style="font-size: 11.38px;">generators</a> <a href="../tags/git/" style="font-size: 14.83px;">git</a> <a href="../tags/github/" style="font-size: 17.59px;">github</a> <a href="../tags/graphql/" style="font-size: 11.38px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.07px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.69px;">gulp</a> <a href="../tags/hiring/" style="font-size: 11.38px;">hiring</a> <a href="../tags/hyperapp/" style="font-size: 12.07px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.38px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.69px;">interview</a> <a href="../tags/jade/" style="font-size: 11.03px;">jade</a> <a href="../tags/javascript/" style="font-size: 19.31px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.69px;">jshint</a> <a href="../tags/markdown/" style="font-size: 13.45px;">markdown</a> <a href="../tags/model-based-testing/" style="font-size: 10px;">model-based testing</a> <a href="../tags/modular-development/" style="font-size: 16.21px;">modular development</a> <a href="../tags/netlify/" style="font-size: 11.03px;">netlify</a> <a href="../tags/nodejs/" style="font-size: 18.62px;">nodejs</a> <a href="../tags/performance/" style="font-size: 15.86px;">performance</a> <a href="../tags/presentation/" style="font-size: 12.07px;">presentation</a> <a href="../tags/promises/" style="font-size: 16.9px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.34px;">proposal</a> <a href="../tags/ramda/" style="font-size: 16.21px;">ramda</a> <a href="../tags/react/" style="font-size: 12.07px;">react</a> <a href="../tags/react-native/" style="font-size: 11.72px;">react native</a> <a href="../tags/reactive/" style="font-size: 13.79px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 11.38px;">reactjs</a> <a href="../tags/renovate/" style="font-size: 11.38px;">renovate</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 13.45px;">security</a> <a href="../tags/sentry/" style="font-size: 13.45px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 11.72px;">service workers</a> <a href="../tags/state-machine/" style="font-size: 10px;">state machine</a> <a href="../tags/testing/" style="font-size: 19.66px;">testing</a> <a href="../tags/tutorial/" style="font-size: 16.55px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 12.76px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.34px;">ui</a> <a href="../tags/vercel/" style="font-size: 13.1px;">vercel</a> <a href="../tags/visual-testing/" style="font-size: 11.38px;">visual testing</a> <a href="../tags/vuejs/" style="font-size: 11.38px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 11.72px;">web workers</a> <a href="../tags/webpack/" style="font-size: 10.69px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/07/">July 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/06/">June 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/04/">April 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/03/">March 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/02/">February 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/01/">January 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/12/">December 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/11/">November 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/10/">October 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/09/">September 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/08/">August 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/07/">July 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/06/">June 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/05/">May 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/04/">April 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/03/">March 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/02/">February 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/01/">January 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/12/">December 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/11/">November 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/10/">October 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/09/">September 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/08/">August 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/07/">July 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/06/">June 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/05/">May 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/04/">April 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/12/">December 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/11/">November 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/10/">October 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/09/">September 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/08/">August 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/07/">July 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/06/">June 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/05/">May 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/04/">April 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/03/">March 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/01/">January 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/11/">November 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/03/">March 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/03/">March 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/01/">January 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/09/">September 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../i-stopped-using-twitter/">I Stopped Using Twitter</a>
          </li>
        
          <li>
            <a href="../how-to-pick-cypress-plugins/">How To Pick Cypress Plugins You Can Trust</a>
          </li>
        
          <li>
            <a href="../pass-cypress-info-via-request-headers/">Pass Cypress Test Info Via Request Headers</a>
          </li>
        
          <li>
            <a href="../cypress-alias-documentation/">Cypress Alias Documentation Trick</a>
          </li>
        
          <li>
            <a href="../flaky-iframe-test/">Flaky IFrame Online Store Test</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/1-2-3-tested/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="../fancybox/jquery.fancybox.css">

  
<script src="../fancybox/jquery.fancybox.pack.js"></script>




<script src="../js/script.js"></script>


  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
