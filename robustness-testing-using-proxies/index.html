<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Robustness testing using proxies | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="What happens to your web application if one of the static libraries takes 10 seconds to load instead of 100ms? Does it stay blank? Does it crash? Does it show the page but then crashes when the user t">
<meta property="og:type" content="article">
<meta property="og:title" content="Robustness testing using proxies">
<meta property="og:url" content="https://glebbahmutov.com/blog/robustness-testing-using-proxies/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="What happens to your web application if one of the static libraries takes 10 seconds to load instead of 100ms? Does it stay blank? Does it crash? Does it show the page but then crashes when the user t">
<meta property="og:locale">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/github-user.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/turtle-run-overview.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/pending-angularjs.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle-hi.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle-500.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/ng-wedge-diagram.png">
<meta property="og:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/ng-wedge-example.png">
<meta property="article:published_time" content="2014-12-23T05:00:00.000Z">
<meta property="article:modified_time" content="2024-04-23T22:55:08.579Z">
<meta property="article:author" content="Gleb Bahmutov">
<meta property="article:tag" content="testing">
<meta property="article:tag" content="advice">
<meta property="article:tag" content="service workers">
<meta property="article:tag" content="browser">
<meta property="article:tag" content="web workers">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/bahmutov/github-user/master/images/github-user.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" as="style">
  
<link rel="stylesheet" href="../css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-titles">
      <div id="header-title" class="inner">
        <h1 id="logo-wrap">
          <a href="../index.html" id="logo">Better world by better software</a>
        </h1>
        <!--
        
        -->
        <!-- <span class="no-mobile">Software advice from</span> -->
        <h2 id="subtitle-wrap">
          <span class="subtitle">
            <a id="subtitle" href="https://glebbahmutov.com">Gleb Bahmutov PhD</a>
            <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
            
              <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
            
            <a id="nav-search-btn" class="nav-icon" title="Search"></a>
            <div id="search-form-wrap">
              <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
            </div>
          </span>
        </h2>

      </div>
    </div>
    <div id="climate-crisis">
      <h2>Our planet üåè is in danger</h2>
      <h3>Act today: <a href="/blog/climate-emergency/">what you can do</a></h3>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-robustness-testing-using-proxies" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2014-12-23T05:00:00.000Z" itemprop="datePublished">Dec 23 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Robustness testing using proxies
    </h1>

    <h2 class="article-title" itemprop="name">
      Mocking responses using turtle-run, service-turtle and ng-wedge.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>What happens to your web application if one of the static libraries takes 10 seconds to load instead of 100ms?
Does it stay blank? Does it crash? Does it show the page but then crashes when the user tries to interact with it?</p>
<p>What happens if the server responds with a 500 error code to an Ajax request? Do you silently swallow the error,
and the user keeps waiting in vain? Does the web application crash? Or does it show a meaningful error message
to the user? Is the error sent to the crash reporting service, like <a href="../tags/sentry">Sentry</a>?</p>
<p>I consider the web sites that graciously handle run time errors like an occasional 500 server response to be
well-built and trustworthy ones. It is a good sign that the team not only has finished working on the
regular features but has also properly designed and tested the error handling code paths.</p>
<p>From my personal development experience testing all possible intermittent failures is very hard
and time consuming. It is very difficult to simulate an occasional 500 error on demand - the feature testing against
the staging or production environments assumes the servers are a black box. Adding the ability to simulate the server&#39;s
failures will surely add unnecessary complexity to the server&#39;s code. It also does not allow simulating
network delays and responses with an unexpected data formats (two things very common in the real world).</p>
<p>I have designed and coded 3 different types of proxies for simulating these specific types of failures.
The proxies can be used without any or with minimal application code modifications and allow simulating server
failures, network delays and returning data in an unexpected format. These proxies are:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/turtle-run">turtle-run</a> is a stand alone proxy that runs between the tester and server.
It can slow down some requests, or return a specific status code or mock data based on url match.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/service-turtle">service-turtle</a> is a proxy that runs inside the latest Chrome browser using
<a target="_blank" rel="noopener" href="http://jakearchibald.com/2014/using-serviceworker-today/">ServiceWorker</a> technology. It can intercept any HTTP request and return a fake status,
and even delay the mock response by a given time period.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/ng-wedge">ng-wedge</a> is the last script that can modify the web application&#39;s code on the fly. It is the most
flexible approach that does not require an intermediate proxy server or an experimental browser API. Unfortunately this
approach assumes the tested application uses AngularJS framework and requires good development insight into the
application&#39;s code. In my opinion it is most useful to the developer who is working on the application.</li>
</ul>
<p>I will show how these proxies can be used to test the web application&#39;s robustness to the common errors
using a small AngularJS application. The source code is available at <a target="_blank" rel="noopener" href="https://github.com/bahmutov/github-user">bahmutov&#x2F;github-user</a>
and the live demo is available at <a href="https://glebbahmutov.com/github-user/">glebbahmutov.com&#x2F;github-user</a>.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/github-user.png" alt="github user screenshot"></p>
<p>You can follow the application&#39;s testing by cloning the repo and starting with tag <code>step-0</code></p>
<pre><code>git clone git@github.com:bahmutov/github-user.git
cd github-user
git checkout step-0
</code></pre>
<p>I recommend that you use a static http server to run the web application, for example <a target="_blank" rel="noopener" href="https://github.com/nodeapps/http-server">http-server</a></p>
<pre><code>cd github-user
sudo npm install -g http-server
http-server -p 3003
// open localhost:3003 in your browser
</code></pre>
<p>The application should run in the local browser at <code>localhost:3003</code>. If you enter a github username and click
&quot;Load user info&quot; there is separate Ajax request to <code>https://api.github.com</code>. The results should be displayed
below the input box.</p>
<h2><span id="testing-against-network-delays-using-turtle-run">Testing against network delays using turtle-run</span></h2><p>The first thing we want to test is how the application looks when a 3rd party library does not load at all or
loads only after a delay. The <code>github-user</code> demo page requires only a single external script to load,
and it is included with the repo itself.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;bower_components/angular/angular.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">&quot;GithubUser&quot;</span> <span class="attr">ng-controller</span>=<span class="string">&quot;GithubUserController&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>github-user<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>What happens if the <code>angular.js</code> file does not load? Does the page stay blank? Usually we load the script
<code>angular.js</code> from a CDN, so it is likely that it will ultimately load, but there might be a significant delay.
Let us simulate the delay in loading <code>angular.js</code> using a proxy and see how the web page looks
while the request is pending.</p>
<p>Install the <code>turtle-run</code> proxy and create a JSON file describing which request to delay. I created sample
file and tagged the commit <code>step-1</code></p>
<pre><code>sudo npm install -g turtle-run
git checkout step-1
</code></pre>
<p>The <code>turtles.json</code> is very simple. It tells the proxy where to forward requests to, and for each matching
url pattern what to return &#x2F; delay amount. In this case <code>angular.js</code> script will be loaded after 5 seconds.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:3003&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">8008</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;debug&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;urls&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;angular.js&quot;</span><span class="punctuation">:</span> <span class="number">5000</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>While the local <code>http-server</code> is running at port 3003, start the <code>turtle-run</code> and pass it the turtle
config json filename. We can start in the <code>github-user</code> folder using the default <code>turtles.json</code> filename</p>
<pre><code>cd github-user
http-server -p 3003 &amp;
turtle-run
</code></pre>
<p>Open the browser <code>localhost:8008</code>.</p>
<pre><code>GET /
GET /bower_components/angular/angular.js
Connect-slow: delaying 5000 ms on url /bower_components/angular/angular.js
</code></pre>
<p>The <code>turtle-run</code> sits between the local server and the user&#39;s browser, intercepting every request
and deciding how to proceed. Most of the requests are just forwarded to the target. The requests matching
the <code>/angular\.js/</code> regular expression are forwarded to the target server after 5 seconds. Note: the Ajax request
to the Github API is NOT proxied by the <code>turtle-run</code> because it is a direct cross-domain request
from the page to the Github API endpoint.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/turtle-run-overview.png" alt="turtle-run overview"></p>
<p>Notice that the page stays blank for 5 seconds before anything appears!
This is because the proxy slows down <code>bower_components/angular/angular.js</code> script, returning the
script after 5 seconds. The script is included in the <code>head</code> element and is blocking the rest of the page
from loading.</p>
<p>We can solve this problem by moving the script to the bottom of the page (or by adding <code>async</code> attribute).
After moving the <code>angular.js</code> to the bottom of the <code>body</code> tag, the page loads right away, despite the delay.
Unfortunately, this shows a few new problems.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/pending-angularjs.png" alt="pending angular"></p>
<p>We can hide the application until it is ready to interact with the user using <a target="_blank" rel="noopener" href="https://docs.angularjs.org/api/ng/directive/ngCloak">ng-cloak</a> directive.
To make the directive work, we include the angular CSS file in the <code>head</code> element
(this small file will be blocking load), and then apply the cloak directive to the angular part of the page.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;bower_components/angular/angular-csp.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>github-user<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-app</span>=<span class="string">&quot;GithubUser&quot;</span> <span class="attr">ng-controller</span>=<span class="string">&quot;GithubUserController&quot;</span> <span class="attr">ng-cloak</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-model</span>=<span class="string">&quot;username&quot;</span> /&gt;</span> <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;load&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;load()&quot;</span>&gt;</span>Load user info<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span> <span class="attr">ng-show</span>=<span class="string">&quot;info&quot;</span>&gt;</span>&#123;&#123; info | json &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;bower_components/angular/angular.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// our application&#x27;s code</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Now even if the <code>angular.js</code> takes a long time to load, the user will see the initial page content.
Then the Angular application will reveal itself. You can see the changed code at tag <code>step-2</code>.</p>
<p>Using <code>turtle-run</code> one can make the application more robust to network and server errors.
Read <a href="../give-browser-a-chance/">Give browser a chance</a> for other suggestions
how to work around the delayed or missing page information.</p>
<h2><span id="intercepting-cross-domain-ajax-calls-with-service-turtle">Intercepting cross-domain Ajax calls with service-turtle</span></h2><p>A stand alone proxy server like <code>turtle-run</code> has a downside - it cannot intercept Ajax calls from the page
to other service endpoints. For example, the demo page <code>github-user</code> makes a request directly from the page to
the Github API</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$http.<span class="title function_">get</span>(<span class="string">&#x27;https://api.github.com/users/&#x27;</span> + $scope.<span class="property">username</span>)</span><br></pre></td></tr></table></figure>

<p>Can we test how our page handles 500 error from the Github API? We can by modifying the application&#39;s
code a little and introducing <a target="_blank" rel="noopener" href="https://github.com/bahmutov/service-turtle">service-turtle</a>. It is a proxy that sits behind the
page and can intercept any request. The proxy is implemented using an experimental API called
ServiceWorker, and requires running the Chrome browser (at least version 39) with an advanced flag enabled</p>
<pre><code>Open chrome://flags/ in the Chrome browser
Enable &quot;Enable experimental Web Platform features.&quot;
Restart Chrome
</code></pre>
<p>You can grab the code and run the application with the included <code>service-turtle</code> by checking out
<code>step-3</code> and running http-server locally using <code>http-server -p 3003</code>.
When running the local server, the page loads <code>turtle.js</code>, which
in turn initializes the service worker using script <code>service-turtle.js</code>. Every Ajax request from the page
then generates <code>fetch</code> event inside the ServiceWorker.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle.png" alt="service turtle"></p>
<p>The worker can let the <code>fetch</code> event pass, letting the request through.
The worker can also respond to the event with fake data using <code>event.respondWith</code> method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// self - reference to the ServiceWorker itself</span></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="comment">// mockData - mock response for event.request.url</span></span><br><span class="line">    <span class="keyword">var</span> options = mockData.<span class="property">options</span> || &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> responseOptions = &#123;</span><br><span class="line">      <span class="attr">status</span>: options.<span class="property">code</span> || options.<span class="property">status</span> || options.<span class="property">statusCode</span>,</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json; charset=utf-8&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> body = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(options.<span class="property">body</span> || options.<span class="property">data</span>);</span><br><span class="line">    <span class="keyword">var</span> response = <span class="keyword">new</span> <span class="title class_">Response</span>(body, responseOptions);</span><br><span class="line">    event.<span class="title function_">respondWith</span>(response);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We can confirm that this is working by registering a mock response using <code>turtle</code> object the script
registers globally</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">turtle.<span class="title function_">get</span>(<span class="string">&#x27;/users/&#x27;</span>, &#123; <span class="attr">code</span>: <span class="number">200</span>, <span class="attr">body</span>: <span class="string">&#x27;hi there&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>The object <code>turtle</code> registered from the <code>bower_components/service-turtle/turtle.js</code> script
sends the arguments to the service worker by posting a message.
The execution example (first the normal request, then the mocked one) is shown below.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle-hi.png" alt="service turtle mock"></p>
<p>If we want to delay the mock response by N milliseconds, we can using Promise API.
We just need to respond with a Promise object</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="comment">// response object created as above</span></span><br><span class="line">    event.<span class="title function_">respondWith</span>(<span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(response);</span><br><span class="line">        &#125;, options.<span class="property">timeout</span>);</span><br><span class="line">    &#125;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="testing-and-handling-server-error-responses">Testing and handling server error responses</span></h3><p>In the next example, we can mock <code>/users</code> request to return server error 500.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">turtle.<span class="title function_">get</span>(<span class="string">&#x27;/users/&#x27;</span>, &#123; <span class="attr">code</span>: <span class="number">500</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>Notice that the error is only printed to the console log, no user message appears and the result of the previous
fetch is still displayed. Thus the application will NOT handle Github server errors in a user-friendly manner.</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/service-turtle-500.png" alt="service turtle 500"></p>
<p>It is simple to fix: just put the error message into the result to be displayed</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$http.<span class="title function_">get</span>(<span class="string">&#x27;https://api.github.com/users/&#x27;</span> + $scope.<span class="property">username</span>)</span><br><span class="line">  .<span class="title function_">success</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">error</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    $scope.<span class="property">info</span> = <span class="string">&#x27;Could not fetch info for user &#x27;</span> + $scope.<span class="property">username</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>Now the user will know something bad has happened and will not wait or be confused by previous data.</p>
<p>I plan to extend <a target="_blank" rel="noopener" href="https://github.com/bahmutov/service-turtle">service-turtle</a> to cover POST, DELETE, PUT and PATCH methods to allow
mocking any request. Even with just GET method support, the <code>service-turtle</code> seems a very powerful tool
at the cost of including a very small script.
The inclusion could be limited to the development and the staging environments for security.
The service workers are already limited to be loaded from <em>safe</em> urls: <code>localhost</code> or <code>https</code>.
This prevents me from demoing this feature from the Github pages, since it does not support SSL.</p>
<p>Another important thing to remember - I do not know what the actual Github server response is
for 500 errors. Instead of a plain error string like I used in the mock, it could be an object:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Something went wrong on our side&#x27;</span>,</span><br><span class="line">    <span class="attr">code</span>: <span class="number">500</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>It is important to know the response schema you might want to mock, otherwise you are in for a surprise.</p>
<h2><span id="intercepting-request-on-the-fly-using-ng-wedge">Intercepting request on the fly using ng-wedge</span></h2><p>What if we cannot run a proxy between the client and the server (like <em>turtle-run</em> works) and do not want to include
a separate ServiceWorker (like <em>service-turtle</em> does)? What if we do not even want to reload our web application,
but just want to mock a response? Seems like an impossible task - hooking into the live application and changing
its behavior.</p>
<p>Luckily, in case of AngularJS application we can do such substitution on the fly. Other frameworks could potentially
work too, but for now I use mostly AngularJS so I will concentrate on this framework. A typical application (like our
<code>github-user</code>) has a <code>$scope</code> object. The <code>$scope</code> object is initialized inside a <code>controller</code> function. The controller
also injects <code>$http</code> service object. This <code>$http</code> object is used to perform all Ajax requests.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">controller</span>(<span class="string">&#x27;GithubUserController&#x27;</span>, <span class="keyword">function</span> <span class="title function_">ctrl</span>(<span class="params">$scope, $http</span>) &#123;</span><br><span class="line">    $scope.<span class="property">load</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $http.<span class="title function_">get</span>(<span class="string">&#x27;https://api.github.com/users/&#x27;</span> + $scope.<span class="property">username</span>)</span><br><span class="line">            .<span class="title function_">success</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">                $scope.<span class="property">info</span> = data;</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">error</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">                $scope.<span class="property">info</span> = <span class="string">&#x27;Could not fetch info for user &#x27;</span> + $scope.<span class="property">username</span>;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>At runtime the method <code>$scope.load</code> will be called when the user clicks on a button</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;load&quot;</span> <span class="attr">ng-click</span>=<span class="string">&quot;load()&quot;</span>&gt;</span>Load user info<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>We can get the reference to the actual <code>$scope</code> object from the browser&#39;s console at any moment.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $scope = angular.<span class="title function_">element</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;load&#x27;</span>)).<span class="title function_">scope</span>();</span><br><span class="line"><span class="comment">// $scope is</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// internal properties ...</span></span><br><span class="line">    <span class="attr">$parent</span>: <span class="title class_">Scope</span>,</span><br><span class="line">    <span class="attr">load</span>: <span class="keyword">function</span> (<span class="params"></span>),</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&quot;bahmutov&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="mocking-live-http-call">Mocking live $http call</span></h3><p>One of the JavaScript&#39;s strengths is its dynamic nature. We can easily replace &#x2F; wrap a method with another
method at run time.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $scope = angular.<span class="title function_">element</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;load&#x27;</span>)).<span class="title function_">scope</span>();</span><br><span class="line">$scope.<span class="property">load</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>); &#125;;</span><br><span class="line"><span class="comment">// click on &quot;load&quot; button</span></span><br><span class="line"><span class="comment">// console prints &quot;hi&quot;</span></span><br></pre></td></tr></table></figure>

<p>To mock responses, we do not want to replace the <code>$scope.load</code> method. Instead we want to somehow replace
<em>the $http object</em> used inside <code>$scope.load</code>. We can replace it with our own &quot;proxy&quot; $http object that can
pass most calls to the real <code>$http</code> service, but return mock responses for some requests. In a sense
we want to mock a variable available to the <code>$scope.load</code> via lexical scope</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// application code</span></span><br><span class="line"><span class="title function_">controller</span>(<span class="string">&#x27;GithubUserController&#x27;</span>, <span class="keyword">function</span> <span class="title function_">ctrl</span>(<span class="params">$scope, $http</span>) &#123;</span><br><span class="line">    $scope.<span class="property">load</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $http.<span class="title function_">get</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// browser console</span></span><br><span class="line"><span class="keyword">var</span> $scope = angular.<span class="title function_">element</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;load&#x27;</span>)).<span class="title function_">scope</span>();</span><br><span class="line"><span class="comment">// Hmm, how can we access the $http argument passed into ctrl function?</span></span><br></pre></td></tr></table></figure>

<p>Fortunately this is possible via <a href="../faking-lexical-scope/">Faking lexical scope</a> method. In principle we
convert the actual method <code>$scope.load</code> to its source code using <code>.toString()</code>, then <code>eval</code> it back
but prepend the source code with mock <code>$http</code> variable. Any variable <code>eval</code> does not find in the source
are plucked from the lexical scope of the place where the <code>eval</code> is called.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $scope = angular.<span class="title function_">element</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;load&#x27;</span>)).<span class="title function_">scope</span>();</span><br><span class="line"><span class="keyword">var</span> $http = &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I am fake $http&#x27;</span>); &#125;</span><br><span class="line">&#125;;</span><br><span class="line">$scope.<span class="property">load</span> = <span class="built_in">eval</span>($scope.<span class="property">load</span>.<span class="title function_">toString</span>());</span><br><span class="line"><span class="comment">// click &quot;load&quot; button</span></span><br><span class="line">prints <span class="string">&#x27;I am fake $http&#x27;</span></span><br></pre></td></tr></table></figure>

<p>The code is modified in page, without any extras needed</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/ng-wedge-diagram.png" alt="ng-wedge-diagram"></p>
<h3><span id="driving-an-wedge-into-live-production-app">Driving an wedge into live production app</span></h3><p>Let us go back to our demo at <a href="https://glebbahmutov.com/github-user/">glebbahmutov.com&#x2F;github-user</a>.
Open the browser console and copy &#x2F; paste the entire file <a target="_blank" rel="noopener" href="https://github.com/bahmutov/ng-wedge/blob/master/ng-wedge.js">ng-wedge.js</a>.
<code>ng-wedge</code> operates on a specific <code>$scope</code> instance&#39;s method. First we make a mock object,
then define a fake response for specific url. Let us return an error message after a delay of 2000ms</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mock = <span class="title function_">wedge</span>(<span class="string">&#x27;#load&#x27;</span>, <span class="string">&#x27;load&#x27;</span>);</span><br><span class="line"><span class="title function_">mock</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;https://api.github.com/users/bahmutov&#x27;</span>, <span class="number">500</span>, <span class="string">&#x27;not working&#x27;</span>, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<p>Here is how it looks in action</p>
<p><img src="https://raw.githubusercontent.com/bahmutov/github-user/master/images/ng-wedge-example.png" alt="ng-wedge screenshot"></p>
<p>Notice that there is no actual HTTP request in the network tab - the request is
intercepted before the Ajax request happens.
Any other Ajax request, even to the same Github API endpoint happening through other <code>$scope</code> objects
would NOT be intercepted by <code>ng-wedge</code>. It only replaces a particular method on a specific <code>$scope</code> instance.</p>
<h2><span id="summary">Summary</span></h2><p>I created 3 different proxy tools for conveniently mocking server responses.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/turtle-run">turtle-run</a> - a stand alone proxy between the user and the server. Does not require any modifications to
the server code to run. The user needs to access the proxy URL instead of the actual server url. The proxy
cannot work with <code>https</code> servers or proxy cross-domain requests.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/service-turtle">service-turtle</a> - a good choice for local development. Requires using the latest version of
Chrome browser and turning on an experimental feature support. It is powerful and simple to control on demand,
the code is still under development.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/bahmutov/ng-wedge">ng-wedge</a> - a good choice for a developer when investigating the production website&#39;s behavior.
Does not require adding extra libraries or even reloading the page.
Currently works with AngularJS web applications only, but could be adapted to other frameworks.
Requires a &quot;simple&quot; controller code that can be reused in <code>eval</code> call.</li>
</ul>

      
    </div>

    
      <footer class="article-footer personal-links">
  <p>
    Follow Gleb Bahmutov <a target="_blank" rel="noopener" href="https://twitter.com/bahmutov">@bahmutov</a>,
    see his projects at <a href="https://glebbahmutov.com">glebbahmutov.com</a>,
    watch his Cypress <a target="_blank" rel="noopener" href="https://www.youtube.com/c/glebbahmutov/videos">videos</a>,
    browse his <a target="_blank" rel="noopener" href="https://slides.com/bahmutov">presentations</a>
  </p>
  <p>
    Want to know more about Cypress? Check out <a href="https://cypress.tips" target="_blank">cypress.tips</a>
  </p>
  <p>
    Have a Cypress question? Want me to answer it? Consider supporting me via <a target="_blank" rel="noopener" href="https://github.com/sponsors/bahmutov">GitHub Sponsors</a> or by purchasing my <a target="_blank" rel="noopener" href="https://cypress.tips/courses">Cypress courses</a>.
  </p>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/robustness-testing-using-proxies/" data-id="clxxclpn300fachn7a0wb4og1" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/robustness-testing-using-proxies/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/" rel="tag">advice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/browser/" rel="tag">browser</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/testing/" rel="tag">testing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../essence-of-functional-programming/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Essence of functional programming
        
      </div>
    </a>
  
  
    <a href="../angularjs-performance-lessons/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">AngularJS performance lessons</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/climate/">climate</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">173</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">566</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="../tags/11ty/" rel="tag">11ty</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/" rel="tag">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/a11y/" rel="tag">a11y</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/" rel="tag">advice</a><span class="tag-list-count">120</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/algolia/" rel="tag">algolia</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/" rel="tag">angular</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/" rel="tag">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/" rel="tag">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/" rel="tag">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/" rel="tag">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/" rel="tag">browser</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/" rel="tag">ci</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/circle/" rel="tag">circle</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/climate/" rel="tag">climate</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/code-coverage/" rel="tag">code coverage</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/" rel="tag">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/" rel="tag">cypress</a><span class="tag-list-count">317</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress-dashboard/" rel="tag">cypress dashboard</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/" rel="tag">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/" rel="tag">db</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/" rel="tag">docker</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/documentation/" rel="tag">documentation</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/email/" rel="tag">email</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/" rel="tag">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/" rel="tag">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/" rel="tag">functional</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/" rel="tag">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/" rel="tag">git</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/github/" rel="tag">github</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/" rel="tag">graphql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/" rel="tag">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/" rel="tag">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hiring/" rel="tag">hiring</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/" rel="tag">hyperapp</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/" rel="tag">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/" rel="tag">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/" rel="tag">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">166</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/" rel="tag">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/model-based-testing/" rel="tag">model-based testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/" rel="tag">modular development</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/netlify/" rel="tag">netlify</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">85</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/" rel="tag">performance</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/" rel="tag">presentation</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/" rel="tag">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/" rel="tag">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react/" rel="tag">react</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react-native/" rel="tag">react native</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/" rel="tag">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/" rel="tag">reactjs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/renovate/" rel="tag">renovate</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/" rel="tag">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/" rel="tag">security</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/" rel="tag">sentry</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/state-machine/" rel="tag">state machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/" rel="tag">testing</a><span class="tag-list-count">194</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/" rel="tag">typescript</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/" rel="tag">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vercel/" rel="tag">vercel</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/visual-testing/" rel="tag">visual testing</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/" rel="tag">vuejs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/11ty/" style="font-size: 10.34px;">11ty</a> <a href="../tags/QUnit/" style="font-size: 11.38px;">QUnit</a> <a href="../tags/a11y/" style="font-size: 10.69px;">a11y</a> <a href="../tags/advice/" style="font-size: 18.97px;">advice</a> <a href="../tags/algolia/" style="font-size: 10.69px;">algolia</a> <a href="../tags/angular/" style="font-size: 10.69px;">angular</a> <a href="../tags/angularjs/" style="font-size: 17.93px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 12.76px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.41px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 14.48px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 15.52px;">browser</a> <a href="../tags/ci/" style="font-size: 17.24px;">ci</a> <a href="../tags/circle/" style="font-size: 14.48px;">circle</a> <a href="../tags/climate/" style="font-size: 14.83px;">climate</a> <a href="../tags/code-coverage/" style="font-size: 15.17px;">code coverage</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.07px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 20px;">cypress</a> <a href="../tags/cypress-dashboard/" style="font-size: 14.14px;">cypress dashboard</a> <a href="../tags/d3/" style="font-size: 10.69px;">d3</a> <a href="../tags/db/" style="font-size: 14.14px;">db</a> <a href="../tags/docker/" style="font-size: 13.79px;">docker</a> <a href="../tags/documentation/" style="font-size: 11.72px;">documentation</a> <a href="../tags/email/" style="font-size: 10.69px;">email</a> <a href="../tags/es6/" style="font-size: 14.14px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.28px;">functional</a> <a href="../tags/generators/" style="font-size: 11.38px;">generators</a> <a href="../tags/git/" style="font-size: 14.83px;">git</a> <a href="../tags/github/" style="font-size: 17.59px;">github</a> <a href="../tags/graphql/" style="font-size: 11.38px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.07px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.69px;">gulp</a> <a href="../tags/hiring/" style="font-size: 11.38px;">hiring</a> <a href="../tags/hyperapp/" style="font-size: 12.07px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.38px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.69px;">interview</a> <a href="../tags/jade/" style="font-size: 11.03px;">jade</a> <a href="../tags/javascript/" style="font-size: 19.31px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.69px;">jshint</a> <a href="../tags/markdown/" style="font-size: 13.45px;">markdown</a> <a href="../tags/model-based-testing/" style="font-size: 10px;">model-based testing</a> <a href="../tags/modular-development/" style="font-size: 16.21px;">modular development</a> <a href="../tags/netlify/" style="font-size: 11.03px;">netlify</a> <a href="../tags/nodejs/" style="font-size: 18.62px;">nodejs</a> <a href="../tags/performance/" style="font-size: 15.86px;">performance</a> <a href="../tags/presentation/" style="font-size: 12.07px;">presentation</a> <a href="../tags/promises/" style="font-size: 16.9px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.34px;">proposal</a> <a href="../tags/ramda/" style="font-size: 16.21px;">ramda</a> <a href="../tags/react/" style="font-size: 12.07px;">react</a> <a href="../tags/react-native/" style="font-size: 11.72px;">react native</a> <a href="../tags/reactive/" style="font-size: 13.79px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 11.38px;">reactjs</a> <a href="../tags/renovate/" style="font-size: 11.38px;">renovate</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 13.45px;">security</a> <a href="../tags/sentry/" style="font-size: 13.45px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 11.72px;">service workers</a> <a href="../tags/state-machine/" style="font-size: 10px;">state machine</a> <a href="../tags/testing/" style="font-size: 19.66px;">testing</a> <a href="../tags/tutorial/" style="font-size: 16.55px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 12.76px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.34px;">ui</a> <a href="../tags/vercel/" style="font-size: 13.1px;">vercel</a> <a href="../tags/visual-testing/" style="font-size: 11.38px;">visual testing</a> <a href="../tags/vuejs/" style="font-size: 11.38px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 11.72px;">web workers</a> <a href="../tags/webpack/" style="font-size: 10.69px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/06/">June 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/04/">April 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/03/">March 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/02/">February 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/01/">January 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/12/">December 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/11/">November 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/10/">October 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/09/">September 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/08/">August 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/07/">July 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/06/">June 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/05/">May 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/04/">April 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/03/">March 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/02/">February 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/01/">January 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/12/">December 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/11/">November 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/10/">October 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/09/">September 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/08/">August 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/07/">July 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/06/">June 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/05/">May 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/04/">April 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/12/">December 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/11/">November 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/10/">October 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/09/">September 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/08/">August 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/07/">July 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/06/">June 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/05/">May 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/04/">April 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/03/">March 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/01/">January 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/11/">November 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/03/">March 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/03/">March 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/01/">January 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/09/">September 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../how-to-pick-cypress-plugins/">How To Pick Cypress Plugins You Can Trust</a>
          </li>
        
          <li>
            <a href="../pass-cypress-info-via-request-headers/">Pass Cypress Test Info Via Request Headers</a>
          </li>
        
          <li>
            <a href="../cypress-alias-documentation/">Cypress Alias Documentation Trick</a>
          </li>
        
          <li>
            <a href="../flaky-iframe-test/">Flaky IFrame Online Store Test</a>
          </li>
        
          <li>
            <a href="../test-apps-that-use-central-state/">Cypress Tests For Apps That Use Central State</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/robustness-testing-using-proxies/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="../fancybox/jquery.fancybox.css">

  
<script src="../fancybox/jquery.fancybox.pack.js"></script>




<script src="../js/script.js"></script>


  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
