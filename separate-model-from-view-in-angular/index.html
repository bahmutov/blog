<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Separate model from view in Angular | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="AngularJS is a Model-View-Controller framework. Model is the data, View is the rendering of the data in the browser and Controller is the glue that based on events updates the Model. Specifically, in">
<meta property="og:type" content="article">
<meta property="og:title" content="Separate model from view in Angular">
<meta property="og:url" content="https://glebbahmutov.com/blog/separate-model-from-view-in-angular/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="AngularJS is a Model-View-Controller framework. Model is the data, View is the rendering of the data in the browser and Controller is the glue that based on events updates the Model. Specifically, in">
<meta property="og:locale">
<meta property="article:published_time" content="2015-03-17T21:00:00.000Z">
<meta property="article:modified_time" content="2021-06-15T13:13:30.346Z">
<meta property="article:author" content="Gleb Bahmutov">
<meta property="article:tag" content="angularjs">
<meta property="article:tag" content="advice">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" as="style">
  
<link rel="stylesheet" href="../css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-titles">
      <div id="header-title" class="inner">
        <h1 id="logo-wrap">
          <a href="../index.html" id="logo">Better world by better software</a>
        </h1>
        <!--
        
        -->
        <!-- <span class="no-mobile">Software advice from</span> -->
        <h2 id="subtitle-wrap">
          <span class="subtitle">
            <a id="subtitle" href="https://glebbahmutov.com">Gleb Bahmutov PhD</a>
            <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
            
              <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
            
            <a id="nav-search-btn" class="nav-icon" title="Search"></a>
            <div id="search-form-wrap">
              <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
            </div>
          </span>
        </h2>

      </div>
    </div>
    <div id="climate-crisis">
      <h2>Our planet üåè is in danger</h2>
      <h3>Act today: <a href="/blog/climate-emergency/">what you can do</a></h3>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-separate-model-from-view-in-angular" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2015-03-17T21:00:00.000Z" itemprop="datePublished">Mar 17 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Separate model from view in Angular
    </h1>

    <h2 class="article-title" itemprop="name">
      Share data model via scopes and limit the view access via controllerAs syntax.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>AngularJS is a Model-View-Controller framework. Model is the data, View is the rendering
of the data in the browser and Controller is the glue that based on events updates the Model.
Specifically, in AngularJS the controller functions share data using the linked scopes objects.
The two way binding between the scopes and the templates allows easy and automatic view updates
without spending much time. It all happens magically.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.controller(&#x27;MyController&#x27;, function ($scope) &#123;</span><br><span class="line">    $scope.foo = &quot;something&quot;;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;div ng-controller=&quot;MyController&quot;&gt;&#123;&#123; foo &#125;&#125;&lt;/div&gt;</span><br><span class="line">// div always reflects the current $scope.foo value</span><br></pre></td></tr></table></figure>

<p>While this is powerful, this exposes way too many properties to every child scope, and mixes
the data model (the scope properties) with the view generation (the values that should be shown in the DOM).
The mixing of the prototypically linked scopes with templates is a bad idea: everything is visible and accessible.
You operate as if everything in your template was lexically scoped code, but you could not see the entire file!</p>
<p>Let us see how to fix the data model visibility by isolating the children scopes, and how
to separate the scopes from the templates using the new syntax <code>controllerAs</code> available in Angular 1.3.</p>
<h2><span id="isolating-scopes">Isolating scopes</span></h2><p>Let us look at an example with 3 controllers. I will call them &quot;Parent&quot;, &quot;Child&quot; and &quot;GrandChild&quot;.
Only the parent scope has any data attached to the <code>$scope</code> object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;MyApp&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;Parent&#x27;</span>, <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">    $scope.<span class="property">foo</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">    $scope.<span class="property">bar</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;Child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;)</span><br><span class="line">  .<span class="title function_">controller</span>(<span class="string">&#x27;GrandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>Notice that the controllers are NOT nested in the JavaScript code. Instead they are written as if they
did not know about each other at all. But if we <em>nest</em> them in the HTML markup, they become linked automatically.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">&quot;Parent&quot;</span>&gt;</span>foo: &#123;&#123; foo &#125;&#125;, bar: &#123;&#123; bar &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">&quot;Child&quot;</span>&gt;</span>foo: &#123;&#123; foo &#125;&#125;, bar: &#123;&#123; bar &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">&quot;GrandChild&quot;</span>&gt;</span>foo: &#123;&#123; foo &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The generated DOM will reflect <code>foo</code> and <code>bar</code> data in all 3 controllers.
Might be good, but usually this is a bad
thing because this is as if all variables were public &#x2F; global.
GrandChild controller might not be interested in
the <code>bar</code> property, but it has access to it anyway.</p>
<p>The scope objects are prototypically linked, as if we wrote the following JavaScript code to create them</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> parentScope = &#123;</span><br><span class="line">    <span class="attr">foo</span>: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">    <span class="attr">bar</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> childScope = <span class="title class_">Object</span>.<span class="title function_">create</span>(parentScope);</span><br><span class="line"><span class="keyword">var</span> grandChildScope = <span class="title class_">Object</span>.<span class="title function_">create</span>(childScope);</span><br><span class="line"><span class="comment">// verify</span></span><br><span class="line">grandChildScope.<span class="property">foo</span> <span class="comment">// &#x27;foo&#x27;</span></span><br><span class="line">grandChildScope.<span class="property">bar</span> <span class="comment">// &#x27;bar&#x27;</span></span><br><span class="line">parentScope.<span class="title function_">isPrototypeOf</span>(childScope) <span class="comment">// true</span></span><br><span class="line">childScope.<span class="title function_">isPrototypeOf</span>(grandChildScope) <span class="comment">// true</span></span><br><span class="line">parentScope.<span class="title function_">isPrototypeOf</span>(grandChildScope) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>How can we isolate each scope and control <em>which</em> variables it needs from the parent scope?
We cannot use anything but the default &quot;public&quot; inheritance when using stand alone <code>ng-controller</code> directives.
To separate scopes, we must start writing custom directives. Luckily in this simple example it is easy to do</p>
<figure class="highlight html"><figcaption><span>page</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">&quot;MyApp&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Scopes vs controllers<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>code</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;MyApp&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;parent&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Parent&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;bar: &#123;&#123; bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&lt;child foo=&quot;foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        $scope.<span class="property">foo</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">        $scope.<span class="property">bar</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">scope</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;bar: &#123;&#123; bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&lt;grand-child foo=&quot;foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        $scope.<span class="property">foo</span> = <span class="string">&#x27;not foo&#x27;</span>;</span><br><span class="line">        $scope.<span class="property">bar</span> = <span class="string">&#x27;not bar&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;grandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">scope</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Grand child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;, but the bar should be &quot;undefined&quot; &#123;&#123; bar &#125;&#125;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        $scope.<span class="property">foo</span> = $scope.<span class="property">$parent</span>.<span class="property">foo</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>The nesting of controllers &#x2F; directives is explicit in the templates. The <code>parent</code> template includes
the custom directive <code>&lt;child&gt;</code>, and if we go the directive <code>child</code>, we see that it&#39;s template includes
the <code>&lt;grand-child&gt;</code> directive. The scopes no longer share information, because we used the <code>scope: &#123;&#125;</code> property.
Thus the <code>child</code> directive can use its own values for <code>foo</code>, and the <code>grandChild</code> can explicitly
grab the parent&#39;s <code>foo</code> value while ignoring (and avoiding) the <code>bar</code> property. The <code>grandChild</code> avoids
<code>bar</code> even though the <code>child</code> controller tries to pass it via an attribute.</p>
<p>We could also automatically propagate the changes from the <code>child</code> to the <code>grandChild</code> using
the <code>scope: &#123; &#39;=&#39; &#125;</code> syntax instead of the <code>$scope.$parent</code> syntax.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">scope</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;bar: &#123;&#123; bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;&lt;grand-child foo=&quot;foo&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">    <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">      $scope.<span class="property">foo</span> = <span class="string">&#x27;not foo&#x27;</span>;</span><br><span class="line">      $scope.<span class="property">bar</span> = <span class="string">&#x27;not bar&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;grandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">scope</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Grand child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;, but the bar should be &quot;undefined&quot; &#123;&#123; bar &#125;&#125;\n&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>I prefer the later choice - it is shorter and avoids writing the controller function.</p>
<h2><span id="separate-model-from-the-view">Separate model from the view</span></h2><p>Sharing the data (model) via scopes is convenient, but by default any template expression can access
everything on the <code>$scope</code> object. For example let us pass the <code>user</code> object on the scope to be able to
print the user&#39;s first and last name. By mistake a template might print the user&#39;s secret phrase!</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;MyApp&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;parent&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;User&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;first: &#123;&#123; user.first &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;last: &#123;&#123; user.last &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&#123;&#123; user.secret &#125;&#125;&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope, User</span>) &#123;</span><br><span class="line">        $scope.<span class="property">user</span> = <span class="title class_">User</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>I am looking at the <code>controllerAs</code> and <code>bindToController</code> keywords in Angular and find them to be very
useful. They allow the separation between the hierarchy of data (the nested <code>$scope</code> objects)
and the values used inside the template markup (the expressions inside `{{ }}` brackets).
In a sense, the new keywords allow us to separate the model from the view much cleaner than before.</p>
<p>Using <code>controllerAs</code> we can better control what can be found in the template,
even without isolating every scope.
For example to pass both <code>foo</code> and <code>bar</code> through the directives,
but to avoid using the <code>bar</code> value in the template,
we can use <code>controllerAs</code> syntax.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">angular.<span class="title function_">module</span>(<span class="string">&#x27;MyApp&#x27;</span>, [])</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;parent&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Parent&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; parent.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;bar: &#123;&#123; parent.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&lt;child /&gt;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controllerAs</span>: <span class="string">&#x27;parent&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">foo</span> = $scope.<span class="property">foo</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">bar</span> = $scope.<span class="property">bar</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; child.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;bar: &#123;&#123; child.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&lt;grand-child /&gt;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controllerAs</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">foo</span> = $scope.<span class="property">foo</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">bar</span> = $scope.<span class="property">bar</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">directive</span>(<span class="string">&#x27;grandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Grand child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; grandChild.foo &#125;&#125;, but the bar should be &quot;undefined&quot; &#123;&#123; grandChild.bar &#125;&#125;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controllerAs</span>: <span class="string">&#x27;grandChild&#x27;</span>,</span><br><span class="line">      <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">foo</span> = $scope.<span class="property">foo</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>Notice that the templates now refer to the controller&#39;s name in the expressions.
We CAN still access the values on the <code>$scope</code>, perhaps accidentally, but it will be much simpler
to see where we went wrong:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// accidentally forget to refer to `grandChild.bar` on the controller instance</span></span><br><span class="line"><span class="comment">// getting the value of `$scope.bar` instead</span></span><br><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;grandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Grand child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; grandChild.foo &#125;&#125;, but the bar should be &quot;undefined&quot; &#123;&#123; bar &#125;&#125;\n&#x27;</span>,</span><br><span class="line">    <span class="attr">controllerAs</span>: <span class="string">&#x27;grandChild&#x27;</span>,</span><br><span class="line">    <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">foo</span> = $scope.<span class="property">foo</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2><span id="binding-scope-properties-to-the-controller">Binding scope properties to the controller</span></h2><p>Writing a controller constructor for each value of the property quickly becomes tiresome.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">directive</span>(<span class="string">&#x27;parent&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Parent&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; parent.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;bar: &#123;&#123; parent.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;&lt;child foo=&quot;foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">    <span class="attr">controllerAs</span>: <span class="string">&#x27;parent&#x27;</span>,</span><br><span class="line">    <span class="attr">controller</span>: <span class="keyword">function</span> (<span class="params">$scope</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">foo</span> = $scope.<span class="property">foo</span> = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">bar</span> = $scope.<span class="property">bar</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>If we want all scope properties to appear on the controller instance, we can use <code>bindToController</code> property.
In Angular 1.3 we can only bind all properties by setting it to <code>true</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">scope</span>: &#123;</span><br><span class="line">        <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span>,</span><br><span class="line">        <span class="attr">bar</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;foo: &#123;&#123; child.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;bar: &#123;&#123; child.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">        <span class="string">&#x27;&lt;grand-child foo=&quot;foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">      <span class="attr">controllerAs</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">      <span class="attr">bindToController</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">controller</span>: angular.<span class="property">noop</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>The properties <code>foo</code> and <code>bar</code> will be passed from the parent scope and then bound to the controller instance
during its creation. One needs some controller function (even <code>angular.noop</code> works!) in order for this to pass,
plus the directive must use an isolate scope.</p>
<p>*<strong>Note</strong> &#39;child&#39; directive does NOT have <code>foo</code> and <code>bar</code> attached to its scope.
Instead the scope has the property</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">child</span>: &#123;</span><br><span class="line">    <span class="attr">foo</span>: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">    <span class="attr">bar</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Thus the <code>grandChild</code> directive might not be able to access the <code>foo</code>
directly. Instead you have to use the controller name when creating the directive and specifying
attribute names in the template <code>&lt;grand-child foo=&quot;child.foo&quot; bar=&quot;bar&quot; /&gt;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">scope</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span>,</span><br><span class="line">      <span class="attr">bar</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; child.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;bar: &#123;&#123; child.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;&lt;grand-child foo=&quot;child.foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">    <span class="attr">controllerAs</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">    <span class="attr">bindToController</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">controller</span>: angular.<span class="property">noop</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;grandChild&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">scope</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Grand child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; foo &#125;&#125;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2><span id="controlling-binding-in-angular-14">Controlling binding in Angular 1.4</span></h2><p>Binding <em>every</em> user scope property to the controller kind of defeats the purpose of making the templates
(the view part) a little more separated from the data (the model part).
Thus Angular 1.4 allows <code>bindToController</code> to be
an object of properties to bind to the controller instance, instead of a primitive boolean.
The semantics is the same as an isolate scope specification. For example if we want to link <code>foo</code> and <code>bar</code>
to the outside data, but only be able to show <code>foo</code> in our templates we could do the following</p>
<figure class="highlight js"><figcaption><span>angular 1.4-beta.6</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.<span class="title function_">directive</span>(<span class="string">&#x27;child&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">scope</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span>,</span><br><span class="line">      <span class="attr">bar</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;h2&gt;Child&lt;/h2&gt;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;foo: &#123;&#123; child.foo &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;bar: &#123;&#123; child.bar &#125;&#125;\n&#x27;</span> +</span><br><span class="line">      <span class="string">&#x27;&lt;grand-child foo=&quot;child.foo&quot; bar=&quot;bar&quot; /&gt;\n&#x27;</span>,</span><br><span class="line">    <span class="attr">controllerAs</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">    <span class="attr">bindToController</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">controller</span>: angular.<span class="property">noop</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The result will be <code>foo: foo bar:</code> because there is nothing bound under the name <code>child.bar</code>.
Of course the template can simply access the scope property <code>bar</code> instead of the controller&#39;s <code>bar</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27;foo: &#123;&#123; child.foo &#125;&#125;\n&#x27; +</span><br><span class="line">&#x27;bar: &#123;&#123; bar &#125;&#125;\n&#x27;</span><br></pre></td></tr></table></figure>

<p>But this is up to you to control. Maybe there should be a mode to disallow the direct scope expressions
in the templates and only allow accessing properties on the controller?</p>
<h2><span id="conclusions">Conclusions</span></h2><p>I now think of sharing data via scope tree as my model. I can control what properties I pass to the child
directives using <code>&lt;child-name prop1=&quot;myProperty1&quot; prop2=&quot;myProperty2&quot; /&gt;</code> syntax. Inside the child directive
I declare what properties I need using syntax</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">scope</span>: &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="string">&#x27;=&#x27;</span>,</span><br><span class="line">  <span class="attr">bar</span>: <span class="string">&#x27;?=&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Using <code>controllerAs</code> with <code>bindToController</code> allows me to similarly control what data is available in
my templates. Instead of every template expression being able to access every scope property, I now
expose only certain values, keeping the rest on the scope, but &quot;hidden&quot; (well not really hidden) from
the template.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    outside directive with $scope.foo = &quot;foo&quot;</span><br><span class="line">        |   |</span><br><span class="line">        v   v</span><br><span class="line">---- model control ----- | --------- view control ------------|---- DOM (html) -----</span><br><span class="line">                         |   controllerAs: &#x27;ctrl&#x27;,            |</span><br><span class="line">                         |   bindToController: &#123; foo: &#x27;=&#x27; &#125;   |</span><br><span class="line">scope: &#123;                 |                                 $digest</span><br><span class="line">    foo: &#x27;=&#x27;, -----------|-&gt; &lt;p&gt;foo is &#123;&#123; ctrl.foo &#125;&#125;&lt;/p&gt; -------&gt; &lt;p&gt;foo is foo&lt;/p&gt;</span><br><span class="line">    bar: &#x27;@&#x27;             |                                    |</span><br><span class="line">&#125;                        |                                    |</span><br></pre></td></tr></table></figure>

<p>Hopefully I will be able to write my own plugin to ban the direct scope access from the templates without
going through the <code>bindToController</code> mapping first.
Or Angular team could add this as an option (similar to <code>ng-strict-di</code>).</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  <p>
    Follow Gleb Bahmutov <a target="_blank" rel="noopener" href="https://twitter.com/bahmutov">@bahmutov</a>,
    see his projects at <a href="https://glebbahmutov.com">glebbahmutov.com</a>,
    watch his Cypress <a target="_blank" rel="noopener" href="https://www.youtube.com/c/glebbahmutov/videos">videos</a>,
    browse his <a target="_blank" rel="noopener" href="https://slides.com/bahmutov">presentations</a>
  </p>
  <p>
    Want to know more about Cypress? Check out <a href="https://cypress.tips" target="_blank">cypress.tips</a>
  </p>
  <p>
    Have a Cypress question? Want me to answer it? Consider supporting me via <a target="_blank" rel="noopener" href="https://github.com/sponsors/bahmutov">GitHub Sponsors</a> or by purchasing my <a target="_blank" rel="noopener" href="https://cypress.tips/courses">Cypress courses</a>.
  </p>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/separate-model-from-view-in-angular/" data-id="cl5mksfht00ea1vvg212c01o3" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/separate-model-from-view-in-angular/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/" rel="tag">advice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../using-grunt-tasks-from-gulp/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Using grunt tasks from gulp
        
      </div>
    </a>
  
  
    <a href="../after-upgrading-to-angular-1.3/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">After upgrading to Angular 1.3</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/climate/">climate</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">148</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">485</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="../tags/11ty/" rel="tag">11ty</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/" rel="tag">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/a11y/" rel="tag">a11y</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/" rel="tag">advice</a><span class="tag-list-count">113</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/algolia/" rel="tag">algolia</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/" rel="tag">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/" rel="tag">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/" rel="tag">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/" rel="tag">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/" rel="tag">browser</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/" rel="tag">ci</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/circle/" rel="tag">circle</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/climate/" rel="tag">climate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/code-coverage/" rel="tag">code coverage</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/" rel="tag">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/" rel="tag">cypress</a><span class="tag-list-count">218</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress-dashboard/" rel="tag">cypress dashboard</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/" rel="tag">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/" rel="tag">db</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/" rel="tag">docker</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/documentation/" rel="tag">documentation</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/" rel="tag">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/" rel="tag">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/" rel="tag">functional</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/" rel="tag">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/" rel="tag">git</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/github/" rel="tag">github</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/" rel="tag">graphql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/" rel="tag">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/" rel="tag">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hiring/" rel="tag">hiring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/" rel="tag">hyperapp</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/" rel="tag">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/" rel="tag">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/" rel="tag">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">166</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/" rel="tag">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/model-based-testing/" rel="tag">model-based testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/" rel="tag">modular development</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/netlify/" rel="tag">netlify</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">84</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/" rel="tag">performance</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/" rel="tag">presentation</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/" rel="tag">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/" rel="tag">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react/" rel="tag">react</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react-native/" rel="tag">react native</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/" rel="tag">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/" rel="tag">reactjs</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/renovate/" rel="tag">renovate</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/" rel="tag">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/" rel="tag">security</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/" rel="tag">sentry</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/state-machine/" rel="tag">state machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/" rel="tag">testing</a><span class="tag-list-count">144</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/" rel="tag">typescript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/" rel="tag">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vercel/" rel="tag">vercel</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/visual-testing/" rel="tag">visual testing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/" rel="tag">vuejs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/11ty/" style="font-size: 10.38px;">11ty</a> <a href="../tags/QUnit/" style="font-size: 11.54px;">QUnit</a> <a href="../tags/a11y/" style="font-size: 10.77px;">a11y</a> <a href="../tags/advice/" style="font-size: 18.85px;">advice</a> <a href="../tags/algolia/" style="font-size: 10.77px;">algolia</a> <a href="../tags/angularjs/" style="font-size: 17.69px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 13.08px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.69px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 15px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 15.77px;">browser</a> <a href="../tags/ci/" style="font-size: 17.31px;">ci</a> <a href="../tags/circle/" style="font-size: 13.85px;">circle</a> <a href="../tags/climate/" style="font-size: 14.62px;">climate</a> <a href="../tags/code-coverage/" style="font-size: 15.38px;">code coverage</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.31px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 20px;">cypress</a> <a href="../tags/cypress-dashboard/" style="font-size: 14.23px;">cypress dashboard</a> <a href="../tags/d3/" style="font-size: 10.77px;">d3</a> <a href="../tags/db/" style="font-size: 14.62px;">db</a> <a href="../tags/docker/" style="font-size: 14.23px;">docker</a> <a href="../tags/documentation/" style="font-size: 11.92px;">documentation</a> <a href="../tags/es6/" style="font-size: 14.62px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.08px;">functional</a> <a href="../tags/generators/" style="font-size: 11.54px;">generators</a> <a href="../tags/git/" style="font-size: 15.38px;">git</a> <a href="../tags/github/" style="font-size: 16.54px;">github</a> <a href="../tags/graphql/" style="font-size: 11.54px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.31px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.77px;">gulp</a> <a href="../tags/hiring/" style="font-size: 11.15px;">hiring</a> <a href="../tags/hyperapp/" style="font-size: 12.31px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.54px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.77px;">interview</a> <a href="../tags/jade/" style="font-size: 11.15px;">jade</a> <a href="../tags/javascript/" style="font-size: 19.62px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.77px;">jshint</a> <a href="../tags/markdown/" style="font-size: 13.85px;">markdown</a> <a href="../tags/model-based-testing/" style="font-size: 10px;">model-based testing</a> <a href="../tags/modular-development/" style="font-size: 16.92px;">modular development</a> <a href="../tags/netlify/" style="font-size: 11.15px;">netlify</a> <a href="../tags/nodejs/" style="font-size: 18.46px;">nodejs</a> <a href="../tags/performance/" style="font-size: 16.15px;">performance</a> <a href="../tags/presentation/" style="font-size: 12.31px;">presentation</a> <a href="../tags/promises/" style="font-size: 17.31px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.38px;">proposal</a> <a href="../tags/ramda/" style="font-size: 16.92px;">ramda</a> <a href="../tags/react/" style="font-size: 12.31px;">react</a> <a href="../tags/react-native/" style="font-size: 11.15px;">react native</a> <a href="../tags/reactive/" style="font-size: 14.23px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 11.15px;">reactjs</a> <a href="../tags/renovate/" style="font-size: 11.54px;">renovate</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 13.08px;">security</a> <a href="../tags/sentry/" style="font-size: 13.85px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 11.92px;">service workers</a> <a href="../tags/state-machine/" style="font-size: 10px;">state machine</a> <a href="../tags/testing/" style="font-size: 19.23px;">testing</a> <a href="../tags/tutorial/" style="font-size: 15.77px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 12.31px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.38px;">ui</a> <a href="../tags/vercel/" style="font-size: 13.46px;">vercel</a> <a href="../tags/visual-testing/" style="font-size: 11.15px;">visual testing</a> <a href="../tags/vuejs/" style="font-size: 11.54px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 11.92px;">web workers</a> <a href="../tags/webpack/" style="font-size: 10.77px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/07/">July 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/06/">June 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/05/">May 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/04/">April 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/12/">December 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/11/">November 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/10/">October 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/09/">September 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/08/">August 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/07/">July 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/06/">June 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/05/">May 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/04/">April 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/03/">March 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/01/">January 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/11/">November 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/03/">March 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/03/">March 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/01/">January 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/09/">September 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../cypress-out-of-band/">Cypress Cannot Add Out-Of-Band Commands</a>
          </li>
        
          <li>
            <a href="../component-code-coverage/">Component Code Coverage in Cypress v10</a>
          </li>
        
          <li>
            <a href="../update-branch/">Periodically Update A Branch</a>
          </li>
        
          <li>
            <a href="../stub-react-import/">Stub an import from a Cypress v10 component test</a>
          </li>
        
          <li>
            <a href="../stub-form-that-opens-2nd-tab/">Stub The Form That Opens The Second Browser Tab</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/separate-model-from-view-in-angular/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="../fancybox/jquery.fancybox.css">

  
<script src="../fancybox/jquery.fancybox.pack.js"></script>




<script src="../js/script.js"></script>


  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
