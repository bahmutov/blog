<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Separate work from control flow using functional programming | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Thunkify = 1 step curryTake a typical Node function, like fs.readFile. It takes as arguments a file name, an optional encoding
and a callback to be executed once the file has been loaded from disk
:::">
<meta property="og:type" content="article">
<meta property="og:title" content="Separate work from control flow using functional programming">
<meta property="og:url" content="http://glebbahmutov.com/blog/separate-work-from-control-flow-using-functional-programming/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Thunkify = 1 step curryTake a typical Node function, like fs.readFile. It takes as arguments a file name, an optional encoding
and a callback to be executed once the file has been loaded from disk
:::">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Separate work from control flow using functional programming">
<meta name="twitter:description" content="Thunkify = 1 step curryTake a typical Node function, like fs.readFile. It takes as arguments a file name, an optional encoding
and a callback to be executed once the file has been loaded from disk
:::">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="..//" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="..//" id="subtitle">Software advice from Dr. Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">Software advice from <a id="subtitle" href="http://glebbahmutov.com">Dr. Gleb Bahmutov PhD</a></span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="..//">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-separate-work-from-control-flow-using-functional-programming" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2014-12-12T05:00:00.000Z" itemprop="datePublished">Dec 12 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/process/">process</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Separate work from control flow using functional programming
    </h1>

    <h2 class="article-title" itemprop="name">
      Thunkifying is currying, argument reordering and middleware stacks.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="thunkify-1-step-curry">Thunkify = 1 step curry</h2><p>Take a typical Node function, like <code>fs.readFile</code>. It takes as arguments a file name, an optional encoding
and a callback to be executed once the file has been loaded from disk</p>
<pre><code><span class="attribute">:::javascript</span>
fs.readFile(<span class="emphasis">&apos;./foo.txt&apos;</span>, <span class="emphasis">&apos;utf8&apos;</span>, function cb(err, text) {
<span class="code">    console.log(text);</span>
});
</code></pre><p>When we call <code>fs.readFile</code> we need to make two decisions at once: the load parameters (filename and encoding),
and prepare the callback function to be executed. Sometimes it makes a lot of sense to decouple these
2 decisions. First, prepare the arguments, then prepare the callback. Finally, execute the function.</p>
<p>To transform a callback-returning function into 2-step function
has its own name in Node community: to <em>thunkify</em> a function.</p>
<pre><code>:::javascript
<span class="keyword">var</span> thunkify = <span class="keyword">require</span>(<span class="string">&apos;thunkify&apos;</span>);
<span class="keyword">var</span> <span class="keyword">read</span> = thunkify(fs.readFile);
<span class="keyword">read</span>(<span class="string">&apos;package.json&apos;</span>, <span class="string">&apos;utf8&apos;</span>)(<span class="function"><span class="keyword">function</span><span class="params">(err, str)</span> <span class="comment">{ ... }</span>);</span>
</code></pre><p><code>thunkify</code> is a higher-order function that wraps its input (a normal callback-returning function) into
a new function. First execution of <code>read</code> returns another function.</p>
<pre><code><span class="attribute">:::javascript</span>
var read = thunkify(fs.readFile);
typeof read // <span class="emphasis">&apos;function&apos;</span>
var preparedRead = read(<span class="emphasis">&apos;package.json&apos;</span>, <span class="emphasis">&apos;utf8&apos;</span>);
typeof preparedRead; // <span class="emphasis">&apos;function&apos;</span>
preparedRead(cb);
</code></pre><p>We separated actual work (<code>read</code> function) from the callback execution (<code>preparedRead</code> function).</p>
<p><code>Thunkify</code> is a name for the feature generally known by its other name: <em>curry</em>. Currying a function
returns a new function that can be used the same way as a function returned by <code>thunkify</code>.</p>
<pre><code>:::javascript
<span class="keyword">var</span> R = <span class="keyword">require</span>(<span class="string">&apos;ramda&apos;</span>);
<span class="keyword">var</span> <span class="keyword">read</span> = R.curry(fs.readFile);
typeof <span class="keyword">read</span> <span class="comment">// &apos;function&apos;</span>
<span class="keyword">var</span> preparedRead = <span class="keyword">read</span>(<span class="string">&apos;package.json&apos;</span>, <span class="string">&apos;utf8&apos;</span>);
typeof preparedRead <span class="comment">// &apos;function&apos;</span>
</code></pre><p>In fact, the <code>read</code> function returned by the <code>R.curry(fs.readFile)</code> is more flexible than the function returned
from <code>thunkify</code>, because it can separate <em>each argument</em> into separate function call.</p>
<pre><code>:::javascript
<span class="keyword">var</span> <span class="keyword">read</span> = R.curry(fs.readFile);
<span class="keyword">read</span>(<span class="string">&apos;package.json&apos;</span>)(<span class="string">&apos;utf8&apos;</span>)(cb); <span class="comment">// any number of arguments can be applied at a time</span>
<span class="keyword">var</span> readThunk = thunkify(fs.readFile);
readThunk(<span class="string">&apos;package.json&apos;</span>, <span class="string">&apos;utf8&apos;</span>)(cb); <span class="comment">// all arguments up to callback have to be applied together</span>
</code></pre><h2 id="other-control-flow-tricks">Other control flow tricks</h2><p>Once we are comfortable transforming <code>fs.readFile</code> function into curried one, we can apply other tricks
to fit it to our needs. For example, if we want to build the control flow structure first, and then
read the file, we could change the order of arguments in <code>fs.readFile</code>.</p>
<pre><code>:::javascript
<span class="comment">// flip first and last arguments to the function</span>
<span class="function"><span class="keyword">function</span> <span class="title">flip</span>(<span class="params">fn</span>) </span>{
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">flipped</span>(<span class="params"></span>) </span>{
    <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">0</span>);
    <span class="keyword">var</span> cb = args.shift();
    args.push(cb);
    <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, args);
  };
}
<span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&apos;fs&apos;</span>);
<span class="keyword">var</span> read = flip(fs.readFile);
<span class="function"><span class="keyword">function</span> <span class="title">cb</span>(<span class="params">err, text</span>) </span>{
  <span class="built_in">console</span>.log(text);
}
read(cb, <span class="string">&apos;./package.json&apos;</span>, <span class="string">&apos;utf8&apos;</span>);
<span class="comment">// prints package.json</span>
</code></pre><p>Now we can partially apply the callback before knowing the name of the file to read.</p>
<pre><code><span class="attribute">:::javascript</span>
var printFile = read.bind(null, cb);
printFile(<span class="emphasis">&apos;./package.json&apos;</span>, <span class="emphasis">&apos;utf8&apos;</span>);
<span class="comment">// prints package.json</span>
</code></pre><p>We have prepared the control flow (read file, then print) using partial application <code>read.bind</code>.
Then we executed the functions by calling the prepared function with file name and encoding. This pattern
can be used to prepare customs stacks of middleware.</p>
<h2 id="middleware-stacks">Middleware stacks</h2><p>Take a typical <a href="https://github.com/senchalabs/connect#readme" target="_blank" rel="external">connect</a> / <a href="http://expressjs.com/" target="_blank" rel="external">express</a> <a href="http://expressjs.com/guide/using-middleware.html" target="_blank" rel="external">middleware</a> function.
It takes in request and response objects and a function to call to continue down the stack (if needed).</p>
<pre><code>:::javascript
app.use(<span class="function"><span class="keyword">function</span> <span class="title">printRequestTimestamp</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Time:&apos;</span>, <span class="built_in">Date</span>.now());
  next();
});
app.use(<span class="function"><span class="keyword">function</span> <span class="title">printRequestMethod</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Request Type:&apos;</span>, req.method);
  next();
});
</code></pre><p>Every request will first print the timestamp, then method (&apos;GET&apos;, &apos;POST&apos;, etc). Can we combine the two separate
functions <code>printRequestTimestamp</code> and <code>printRequestMethod</code> into single one? This would be very useful
for unit testing and for executing certain functions for a specific url.</p>
<pre><code>:::javascript
<span class="function"><span class="keyword">function</span> <span class="title">printRequestTimestamp</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Time:&apos;</span>, <span class="built_in">Date</span>.now());
  next(req, res);
}
<span class="function"><span class="keyword">function</span> <span class="title">printRequestMethod</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Request Type:&apos;</span>, req.method);
  next(req, res);
}
<span class="function"><span class="keyword">function</span> <span class="title">last</span>(<span class="params"></span>) </span>{} <span class="comment">// to server as next inside printRequestMethod</span>
<span class="keyword">var</span> printTimestamp = flip(printRequestTimestamp);
<span class="keyword">var</span> printMethod = flip(printRequestMethod);
</code></pre><p>Let us assemble single function to print timestamp, then method.</p>
<pre><code><span class="attribute">:::javascript</span>
var printBoth = printTimestamp.bind(null, printMethod.bind(null, last));
</code></pre><p>The <code>printBoth</code> function just sits there, waiting for request and response (arguments).</p>
<pre><code><span class="attribute">:::javascript</span>
printBoth(req, res);
<span class="comment">// prints timestamp</span>
<span class="comment">// prints method</span>
</code></pre><p>I used this approach when creating a series of actions to perform for matching request urls
in testing proxy <a href="https://github.com/bahmutov/turtle-run" target="_blank" rel="external">turtle-run</a>. For matching url the proxy can slow down / stop request. 
This means the request processing stack has to be constructed dynamically from the config file.</p>
<pre><code>:::javascript
<span class="function"><span class="keyword">function</span> <span class="title">printRequestTimestamp</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Time:&apos;</span>, (<span class="keyword">new</span> <span class="built_in">Date</span>()).toTimeString());
  next(req, res);
}
<span class="function"><span class="keyword">function</span> <span class="title">printRequestMethod</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Request Type:&apos;</span>, req.method);
  next(req, res);
}
<span class="keyword">var</span> allRequestMethods = [printRequestTimestamp, printRequestMethod];
</code></pre><p>Let us construct a single function that will execute the middleware stack.</p>
<pre><code>:::javascript
<span class="keyword">var</span> actionStack = allRequestMethods.reduce(<span class="function"><span class="keyword">function</span> <span class="params">(prevFn, fn)</span> </span>{
  <span class="keyword">return</span> flip(fn).bind(<span class="keyword">null</span>, prevFn);
}, <span class="function"><span class="keyword">function</span> <span class="title">end</span><span class="params">()</span> </span>{});
actionStack({ method: <span class="string">&apos;GET&apos;</span> }, <span class="keyword">null</span>);
<span class="comment">// output</span>
Request Type: GET
Time: <span class="number">22</span>:<span class="number">34</span>:<span class="number">36</span> GMT-<span class="number">0500</span> (EST)
</code></pre><p>We are taking each function in turn, flip the callback argument to be the first and
then bind the function assembled from the previous functions. 
The last function called on the stack is an empty function <code>end</code>.</p>
<p>We can even avoid calling <code>next(req, res);</code> and just use <code>next()</code> by constructing the stack
and binding the arguments using lexical scope</p>
<pre><code>:::javascript
<span class="function"><span class="keyword">function</span> <span class="title">printRequestTimestamp</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Time:&apos;</span>, (<span class="keyword">new</span> <span class="built_in">Date</span>()).toTimeString());
  next();
}
<span class="function"><span class="keyword">function</span> <span class="title">printRequestMethod</span>(<span class="params">req, res, next</span>) </span>{
  <span class="built_in">console</span>.log(<span class="string">&apos;Request Type:&apos;</span>, req.method);
  next();
}
<span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params">req, res</span>) </span>{
    <span class="keyword">var</span> actionStack = allRequestMethods.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">prevFn, fn</span>) </span>{
      <span class="keyword">return</span> flip(fn).bind(<span class="literal">null</span>, prevFn, req, res);
    }, <span class="function"><span class="keyword">function</span> <span class="title">end</span>(<span class="params"></span>) </span>{});
    actionStack();
}
process({ method: <span class="string">&apos;GET&apos;</span> }, <span class="literal">null</span>);
</code></pre><h2 id="conclusion">Conclusion</h2><p>Reordering arguments and separating out the control flow logic leads to flexible code in a few lines of code.</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>

    

    <footer class="article-footer">
      <a data-url="http://glebbahmutov.com/blog/separate-work-from-control-flow-using-functional-programming/" data-id="cii7syygl0091irurx7gif7sv" class="article-share-link">Share</a>
      
        <a href="http://glebbahmutov.com/blog/separate-work-from-control-flow-using-functional-programming/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/">advice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/functional/">functional</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../performance-profiling-using-devtools-code-snippets/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Performance profiling using DevTools code snippets.
        
      </div>
    </a>
  
  
    <a href="../code-coverage-proxy/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Code coverage proxy</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">190</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">81</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">141</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 12.86px;">QUnit</a><a href="../tags/advice/" style="font-size: 19.29px;">advice</a><a href="../tags/angular/" style="font-size: 10px;">angular</a><a href="../tags/angularjs/" style="font-size: 18.57px;">angularjs</a><a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a><a href="../tags/assertions/" style="font-size: 13.57px;">assertions</a><a href="../tags/boilerplate/" style="font-size: 15.71px;">boilerplate</a><a href="../tags/browser/" style="font-size: 14.29px;">browser</a><a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a><a href="../tags/d3/" style="font-size: 11.43px;">d3</a><a href="../tags/database/" style="font-size: 10px;">database</a><a href="../tags/db/" style="font-size: 12.86px;">db</a><a href="../tags/es6/" style="font-size: 14.29px;">es6</a><a href="../tags/es7/" style="font-size: 10px;">es7</a><a href="../tags/functional/" style="font-size: 17.14px;">functional</a><a href="../tags/generators/" style="font-size: 12.86px;">generators</a><a href="../tags/git/" style="font-size: 13.57px;">git</a><a href="../tags/grunt/" style="font-size: 13.57px;">grunt</a><a href="../tags/gulp/" style="font-size: 11.43px;">gulp</a><a href="../tags/immutable/" style="font-size: 10px;">immutable</a><a href="../tags/interview/" style="font-size: 11.43px;">interview</a><a href="../tags/jade/" style="font-size: 12.14px;">jade</a><a href="../tags/javascript/" style="font-size: 20px;">javascript</a><a href="../tags/jshint/" style="font-size: 11.43px;">jshint</a><a href="../tags/modular-development/" style="font-size: 15.71px;">modular development</a><a href="../tags/nodejs/" style="font-size: 18.57px;">nodejs</a><a href="../tags/performance/" style="font-size: 15px;">performance</a><a href="../tags/promises/" style="font-size: 16.43px;">promises</a><a href="../tags/proposal/" style="font-size: 10.71px;">proposal</a><a href="../tags/reactive/" style="font-size: 10.71px;">reactive</a><a href="../tags/reactjs/" style="font-size: 10.71px;">reactjs</a><a href="../tags/security/" style="font-size: 12.14px;">security</a><a href="../tags/sentry/" style="font-size: 13.57px;">sentry</a><a href="../tags/testing/" style="font-size: 17.86px;">testing</a><a href="../tags/tutorial/" style="font-size: 12.86px;">tutorial</a><a href="../tags/ui/" style="font-size: 10px;">ui</a><a href="../tags/web-workers/" style="font-size: 12.86px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../my-node-tools/">My Node tools</a>
          </li>
        
          <li>
            <a href="../pass-the-logic/">Pass the logic</a>
          </li>
        
          <li>
            <a href="../use-some-es6-in-cli-apps/">Use some ES6 in CLI apps</a>
          </li>
        
          <li>
            <a href="../1-2-3-linted/">1, 2, 3, linted</a>
          </li>
        
          <li>
            <a href="../how-to-setup-semantic-release-on-circle-ci/">How to setup semantic release on Circle CI</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="..//" class="mobile-nav-link">Home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'http://glebbahmutov.com/blog/separate-work-from-control-flow-using-functional-programming/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css" type="text/css">
  <script src="../fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="../js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>