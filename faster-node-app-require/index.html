<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Faster Node app require | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="An interesting observation came across my desk a few days ago: according to 
Node&amp;#x2019;s require is dog slow
the Node require &amp;quot;hunts&amp;quot; for files to load when resolving 3rd party names. For">
<meta property="og:type" content="article">
<meta property="og:title" content="Faster Node app require">
<meta property="og:url" content="http://glebbahmutov.com/blog/faster-node-app-require/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="An interesting observation came across my desk a few days ago: according to 
Node&amp;#x2019;s require is dog slow
the Node require &amp;quot;hunts&amp;quot; for files to load when resolving 3rd party names. For">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Faster Node app require">
<meta name="twitter:description" content="An interesting observation came across my desk a few days ago: according to 
Node&amp;#x2019;s require is dog slow
the Node require &amp;quot;hunts&amp;quot; for files to load when resolving 3rd party names. For">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="..//" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="..//" id="subtitle">Software advice from Dr. Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">Software advice from <a id="subtitle" href="http://glebbahmutov.com">Dr. Gleb Bahmutov PhD</a></span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="..//">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-faster-node-app-require" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2015-04-26T04:00:00.000Z" itemprop="datePublished">Apr 26 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Faster Node app require
    </h1>

    <h2 class="article-title" itemprop="name">
      Speed up Node.js application startup by caching require path resolutions.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>An interesting observation came across my desk a few days ago: according to 
<a href="https://kev.inburke.com/kevin/node-require-is-dog-slow/" target="_blank" rel="external">Node&#x2019;s <code>require</code> is dog slow</a>
the Node <code>require</code> &quot;hunts&quot; for files to load when resolving 3rd party names. For example
when you <code>require(&quot;express&quot;)</code> in your application source file, the Node require will
try to load <code>node_modules/express.js</code> and will fail, then it will try to load
<code>node_modules/express.json</code> and will fail, then it will try to load 
<code>node_modules/express.node</code>. Finally it will &quot;give up&quot; and will load 
<code>node_modules/express/package.json</code> to read the proper main filename. Only then it will
read the <code>node_modules/express/index.js</code> from the disk!</p>
<p>You can see this for yourself if you profile our own Node application using
the <code>dtruss</code> program (included with Mac OS). Just start the profiling from the first terminal</p>
<pre><code>sudo dtruss -d -n &apos;<span class="keyword">node</span><span class="identifier"></span><span class="title">&apos; &gt; /tmp</span>/require.log <span class="number">2</span>&gt;&amp;<span class="number">1</span>
</code></pre><p>Then go to the second terminal window and start the application. For example I will
load <code>express</code>, and that is it. Because <code>require</code> calls are synchronous I can simply time the
call using high resolution timer</p>
<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">time</span>(<span class="params">fn</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> t = process.hrtime();</span><br><span class="line">  <span class="keyword">var</span> result = fn();</span><br><span class="line">  t = process.hrtime(t);</span><br><span class="line">  <span class="keyword">var</span> nanoToMs = <span class="number">1e-6</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;benchmark took %d seconds and %d milliseconds&apos;</span>,</span><br><span class="line">    t[<span class="number">0</span>], <span class="built_in">Math</span>.round(t[<span class="number">1</span>] * nanoToMs));</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;bencharm function was&apos;</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(fn.toString());</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">load</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> exp = <span class="built_in">require</span>(<span class="string">&apos;express&apos;</span>);</span><br><span class="line">}</span><br><span class="line">time(load);</span><br></pre></td></tr></table></figure>
<p>Run this program and the load the <code>/tmp/require.log</code> in a text editor. The result shows lots of calls just to find
the right source file to start loading <code>express</code> library!</p>
<pre><code><span class="preprocessor"># microseconds call</span>
<span class="number">664730</span> stat64(<span class="string">&quot;.../test/node_modules/express\0&quot;</span>, <span class="number">0x7FFF5FBFECF8</span>, <span class="number">0x204</span>)        = <span class="number">0</span> <span class="number">0</span>
<span class="number">664784</span> stat64(<span class="string">&quot;.../test/node_modules/express.js\0&quot;</span>, <span class="number">0x7FFF5FBFED28</span>, <span class="number">0x204</span>)         = -<span class="number">1</span> Err<span class="preprocessor">#<span class="number">2</span></span>
<span class="number">664834</span> stat64(<span class="string">&quot;.../test/node_modules/express.json\0&quot;</span>, <span class="number">0x7FFF5FBFED28</span>, <span class="number">0x204</span>)       = -<span class="number">1</span> Err<span class="preprocessor">#<span class="number">2</span></span>
<span class="number">664859</span> stat64(<span class="string">&quot;.../test/node_modules/express.node\0&quot;</span>, <span class="number">0x7FFF5FBFED28</span>, <span class="number">0x204</span>)       = -<span class="number">1</span> Err<span class="preprocessor">#<span class="number">2</span></span>
<span class="number">664969</span> open(<span class="string">&quot;.../test/node_modules/express/package.json\0&quot;</span>, <span class="number">0x0</span>, <span class="number">0x1B6</span>)        = <span class="number">11</span> <span class="number">0</span>
<span class="number">664976</span> fstat64(<span class="number">0xB</span>, <span class="number">0x7FFF5FBFEC38</span>, <span class="number">0x1B6</span>)         = <span class="number">0</span> <span class="number">0</span>
<span class="number">665022</span> read(<span class="number">0xB</span>, <span class="string">&quot;{\n  \&quot;name\&quot;: \&quot;express\&quot;, ...}&quot;</span>, <span class="number">0x103D</span>)        = <span class="number">4157</span> <span class="number">0</span>
<span class="number">665030</span> close(<span class="number">0xB</span>)      = <span class="number">0</span> <span class="number">0</span>
</code></pre><p>The first column shows the timestamp in microseconds. 
Each wasted file system call takes only 100 microseconds,
but the tiny delays add up to hundreds of milliseconds and finally seconds for larger frameworks.</p>
<p>I will show the end-to-end timing results later.</p>
<h2 id="cache-path-resolution">Cache path resolution</h2><p>Luckily we can easily <a href="../hooking-into-node-loader-for-fun-and-profit/">hook into the Nodejs loader</a>,
overwrite the <code>require</code> calls and cache the resolved filenames. 
I wrote <a href="https://github.com/bahmutov/cache-require-paths" target="_blank" rel="external">cache-require-paths</a> that does this. The entire
source is only generous 30 lines and here is the main gist: wrap <code>Module.prototype.require</code> and
save the resolved filenames into an object on the first run. On the second run, if the name cache
already has the resolution for given filename, load that module.</p>
<figure class="highlight js"><figcaption><span>cache-require-paths</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Module = <span class="built_in">require</span>(<span class="string">&apos;module&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&apos;fs&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> exists = fs.existsSync;</span><br><span class="line"><span class="keyword">var</span> _require = Module.prototype.require;</span><br><span class="line"><span class="keyword">var</span> nameCache = exists(SAVE_FILENAME) ? <span class="built_in">JSON</span>.parse(fs.readFileSync(SAVE_FILENAME, <span class="string">&apos;utf-8&apos;</span>)) : {};</span><br><span class="line">Module.prototype.require = <span class="function"><span class="keyword">function</span> <span class="title">cachePathsRequire</span>(<span class="params">name</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> pathToLoad;</span><br><span class="line">  <span class="keyword">var</span> currentModuleCache = nameCache[<span class="keyword">this</span>.filename];</span><br><span class="line">  <span class="keyword">if</span> (!currentModuleCache) {</span><br><span class="line">    currentModuleCache = {};</span><br><span class="line">    nameCache[<span class="keyword">this</span>.filename] = currentModuleCache;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (currentModuleCache[name]) {</span><br><span class="line">    pathToLoad = currentModuleCache[name];</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    pathToLoad = Module._resolveFilename(name, <span class="keyword">this</span>);</span><br><span class="line">    currentModuleCache[name] = pathToLoad;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> _require.call(<span class="keyword">this</span>, pathToLoad);</span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>One can simple load this as the first line in the application and get the cache benefits</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> <span class="comment">--save cache-require-paths</span>
// <span class="keyword">first</span> line <span class="keyword">of</span> your app.js
require(<span class="string">&apos;cache-require-paths&apos;</span>);</span>
</code></pre><p>The cache mechanism avoids a lot of wasted file system calls (always slow!) and generates the following results
for a couple of popular libraries.</p>
<p>Using node 0.10.37</p>
<pre><code>require(&apos;X&apos;)    |<span class="string">  standard (ms)  </span>|<span class="string">  with cache (ms)  </span>|<span class="string">  speedup (%)
------------------------------------------------------------------
express@4.12.3  </span>|<span class="string">        72       </span>|<span class="string">       46          </span>|<span class="string">     36
karma@0.12.31   </span>|<span class="string">       230       </span>|<span class="string">      170          </span>|<span class="string">     26
grunt@0.4.5     </span>|<span class="string">       120       </span>|<span class="string">       95          </span>|<span class="string">     20
sails@0.11.0    </span>|<span class="string">       170       </span>|<span class="string">      120          </span>|<span class="string">     29</span>
</code></pre><p>Using node 0.12.2 - all startup times became slower.</p>
<pre><code>require(&apos;X&apos;)    |<span class="string">  standard (ms)  </span>|<span class="string">  with cache (ms)  </span>|<span class="string">  speedup (%)
------------------------------------------------------------------
express@4.12.3  </span>|<span class="string">        90       </span>|<span class="string">       55          </span>|<span class="string">     38
karma@0.12.31   </span>|<span class="string">       250       </span>|<span class="string">      200          </span>|<span class="string">     20
grunt@0.4.5     </span>|<span class="string">       150       </span>|<span class="string">      120          </span>|<span class="string">     20
sails@0.11.0    </span>|<span class="string">       200       </span>|<span class="string">      145          </span>|<span class="string">     27</span>
</code></pre><p>Interesting, isn&apos;t it? A large startup performance boost just by using a single require!</p>
<p>Of course, I need to add cache invalidation, for example if the module&apos;s dependencies changed.
Luckily this is simple to do: just look at the list of dependencies in the <code>package.json</code> file!</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>

    

    <footer class="article-footer">
      <a data-url="http://glebbahmutov.com/blog/faster-node-app-require/" data-id="ciig5173o00nscaurkedldjo8" class="article-share-link">Share</a>
      
        <a href="http://glebbahmutov.com/blog/faster-node-app-require/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/nodejs/">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/performance/">performance</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../pyramid-of-lexical-scope-doom/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Pyramid of lexical scope Doom
        
      </div>
    </a>
  
  
    <a href="../rethinkdb-and-bdd-on-ci/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">RethinkDB and BDD on CI</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">69</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">190</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">83</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">143</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 13.08px;">QUnit</a><a href="../tags/advice/" style="font-size: 19.23px;">advice</a><a href="../tags/angular/" style="font-size: 10px;">angular</a><a href="../tags/angularjs/" style="font-size: 18.46px;">angularjs</a><a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a><a href="../tags/assertions/" style="font-size: 13.85px;">assertions</a><a href="../tags/boilerplate/" style="font-size: 15.38px;">boilerplate</a><a href="../tags/browser/" style="font-size: 14.62px;">browser</a><a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a><a href="../tags/d3/" style="font-size: 11.54px;">d3</a><a href="../tags/database/" style="font-size: 10px;">database</a><a href="../tags/db/" style="font-size: 13.08px;">db</a><a href="../tags/es6/" style="font-size: 14.62px;">es6</a><a href="../tags/es7/" style="font-size: 10px;">es7</a><a href="../tags/functional/" style="font-size: 16.92px;">functional</a><a href="../tags/generators/" style="font-size: 13.08px;">generators</a><a href="../tags/git/" style="font-size: 13.85px;">git</a><a href="../tags/grunt/" style="font-size: 13.85px;">grunt</a><a href="../tags/gulp/" style="font-size: 11.54px;">gulp</a><a href="../tags/immutable/" style="font-size: 10px;">immutable</a><a href="../tags/interview/" style="font-size: 11.54px;">interview</a><a href="../tags/jade/" style="font-size: 12.31px;">jade</a><a href="../tags/javascript/" style="font-size: 20px;">javascript</a><a href="../tags/jshint/" style="font-size: 11.54px;">jshint</a><a href="../tags/modular-development/" style="font-size: 15.38px;">modular development</a><a href="../tags/nodejs/" style="font-size: 18.46px;">nodejs</a><a href="../tags/performance/" style="font-size: 15.38px;">performance</a><a href="../tags/promises/" style="font-size: 16.15px;">promises</a><a href="../tags/proposal/" style="font-size: 10.77px;">proposal</a><a href="../tags/reactive/" style="font-size: 10.77px;">reactive</a><a href="../tags/reactjs/" style="font-size: 10.77px;">reactjs</a><a href="../tags/security/" style="font-size: 12.31px;">security</a><a href="../tags/sentry/" style="font-size: 13.85px;">sentry</a><a href="../tags/testing/" style="font-size: 17.69px;">testing</a><a href="../tags/tutorial/" style="font-size: 13.08px;">tutorial</a><a href="../tags/ui/" style="font-size: 10px;">ui</a><a href="../tags/web-workers/" style="font-size: 13.08px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../hydrate-at-build-time/">Hydrate at build time</a>
          </li>
        
          <li>
            <a href="../hydrate-your-apps/">Hydrate your apps</a>
          </li>
        
          <li>
            <a href="../my-node-tools/">My Node tools</a>
          </li>
        
          <li>
            <a href="../pass-the-logic/">Pass the logic</a>
          </li>
        
          <li>
            <a href="../use-some-es6-in-cli-apps/">Use some ES6 in CLI apps</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="..//" class="mobile-nav-link">Home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'http://glebbahmutov.com/blog/faster-node-app-require/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css" type="text/css">
  <script src="../fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="../js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>