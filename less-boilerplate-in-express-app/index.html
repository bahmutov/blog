<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Less boilerplate in express app | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Fewer nested callbacksInstead of using callbacks in your middleware, use promises. This will greatly simplify the code, especially
if there are multiple asynchronous steps to execute before moving to">
<meta property="og:type" content="article">
<meta property="og:title" content="Less boilerplate in express app">
<meta property="og:url" content="http://glebbahmutov.com/blog/less-boilerplate-in-express-app/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Fewer nested callbacksInstead of using callbacks in your middleware, use promises. This will greatly simplify the code, especially
if there are multiple asynchronous steps to execute before moving to">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Less boilerplate in express app">
<meta name="twitter:description" content="Fewer nested callbacksInstead of using callbacks in your middleware, use promises. This will greatly simplify the code, especially
if there are multiple asynchronous steps to execute before moving to">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="..//" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="..//" id="subtitle">Software advice from Dr. Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">Software advice from <a id="subtitle" href="http://glebbahmutov.com">Dr. Gleb Bahmutov PhD</a></span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="..//">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-less-boilerplate-in-express-app" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2015-04-15T04:00:00.000Z" itemprop="datePublished">Apr 15 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Less boilerplate in express app
    </h1>

    <h2 class="article-title" itemprop="name">
      Simplify middleware using higher-order functions.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="fewer-nested-callbacks">Fewer nested callbacks</h2><p>Instead of using callbacks in your middleware, use promises. This will greatly simplify the code, especially
if there are multiple asynchronous steps to execute before moving to the next step.</p>
<figure class="highlight js"><figcaption><span>original code to update user profile information</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">exports.postUpdateProfile = <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>{</span><br><span class="line">  <span class="comment">// using Mongoose / MongoDB</span></span><br><span class="line">  User.findById(req.user.id, <span class="function"><span class="keyword">function</span>(<span class="params">err, user</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> next(err);</span><br><span class="line">    user.email = req.body.email || <span class="string">&apos;&apos;</span>;</span><br><span class="line">    user.profile.name = req.body.name || <span class="string">&apos;&apos;</span>;</span><br><span class="line">    user.save(<span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">err</span>) </span>{</span><br><span class="line">      <span class="keyword">if</span> (err) <span class="keyword">return</span> next(err);</span><br><span class="line">      req.flash(<span class="string">&apos;success&apos;</span>, { msg: <span class="string">&apos;Profile information updated.&apos;</span> });</span><br><span class="line">      res.redirect(<span class="string">&apos;/account&apos;</span>);</span><br><span class="line">    });</span><br><span class="line">  });</span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>The code above uses a typical callback-taking DB layer (in this case ORM <a href="http://mongoosejs.com/" target="_blank" rel="external">Mongoose</a>).
In both async operations we had to handle a possible error by executing <code>if (err) return next(err);</code>. Let us simplify
this code using <a href="../tags/promises">promises</a>. We can even keep using Mongoose or switch to promise-returning
DB like <a href="http://pouchdb.com/" target="_blank" rel="external">PouchDB</a>. Let us call <code>User.findById</code> using <a href="https://www.npmjs.com/package/q" target="_blank" rel="external">Q</a>
wrapper.</p>
<figure class="highlight js"><figcaption><span>chain of promises to update user profile information</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Q = <span class="built_in">require</span>(<span class="string">&apos;q&apos;</span>);</span><br><span class="line">exports.postUpdateProfile = <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>{</span><br><span class="line">  Q.ninvoke(User, <span class="string">&apos;findById&apos;</span>, req.user.id)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>{</span><br><span class="line">        user.email = req.body.email || <span class="string">&apos;&apos;</span>;</span><br><span class="line">        user.profile.name = req.body.name || <span class="string">&apos;&apos;</span>;</span><br><span class="line">        <span class="keyword">return</span> Q.ninvoke(user, <span class="string">&apos;save&apos;</span>); <span class="comment">// A</span></span><br><span class="line">    })</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params"></span>) </span>{</span><br><span class="line">        req.flash(<span class="string">&apos;success&apos;</span>, { msg: <span class="string">&apos;Profile information updated.&apos;</span> });</span><br><span class="line">        res.redirect(<span class="string">&apos;/account&apos;</span>);</span><br><span class="line">    });</span><br><span class="line">    .catch(next); <span class="comment">// B</span></span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>Notice an interesting fact. We can avoid a nested call to the function <code>success</code> by returning a promise
in the first step (<code>// A</code>). We also handle all errors in a single spot. No matter where the errors happen (even inside
the <code>success</code> function), they will always be caught by the single <code>.catch</code> handler (<code>// B</code>). We also avoid extra
code using the <a href="../point-free-programming-is-not-pointless/">point-free</a> style call <code>.catch(next);</code>.</p>
<h2 id="remove-the-same-auth-middleware-arguments">Remove the same auth middleware arguments</h2><p>Often when creating API routes we include the <code>login / auth</code> middleware callbacks. For example, here is 
typical code defining routes that should check first if the user logged in, and if the user has permission to
access this specific route.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&apos;/repos&apos;</span>, auth.isAuthenticated, auth.isAuthorized, github.getRepos);</span><br><span class="line">app.get(<span class="string">&apos;/repos/:user/:name&apos;</span>, auth.isAuthenticated, auth.isAuthorized, github.getRepo);</span><br><span class="line">app.get(<span class="string">&apos;/repos/view/:user/:name&apos;</span>, auth.isAuthenticated, auth.isAuthorized, github.viewFile);</span><br></pre></td></tr></table></figure>
<p>Each <code>app.get</code> method call receives the same middle 2 arguments. Only the first arugment (path) and
the final argument (controller) are different. Can we remove this duplication? Usually I remove the duplicate
arguments at the beginning of the call using <a href="../binding-vs-partial-application/">partial application</a>, but in
this case I need to leave the first argument position open. Luckily there are libraries like 
<a href="https://lodash.com/docs" target="_blank" rel="external">lodash</a> or even a single utility function <a href="https://github.com/bahmutov/spots" target="_blank" rel="external">spots</a>
providing the <a href="../selective-partial-application/">selection application</a> feature.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> S = <span class="built_in">require</span>(<span class="string">&apos;spots&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> authGet = S(app.get, S, auth.isAuthenticated, auth.isAuthorized).bind(app);</span><br><span class="line">authGet(<span class="string">&apos;/repos&apos;</span>, github.getRepos);</span><br><span class="line">authGet(<span class="string">&apos;/repos/:user/:name&apos;</span>, github.getRepo);</span><br><span class="line">authGet(<span class="string">&apos;/repos/view/:user/:name&apos;</span>, github.viewFile);</span><br></pre></td></tr></table></figure>
<p>The created <code>authGet</code> function is bound to the <code>app</code> object and leaves the spot for the 
first argument (path) unoccupied. Plus all extra
arguments after the two bound callbacks are up for grabs. We can even pass more additional callbacks if needed. 
For example we can easily add request throttling to fetching a particular file even if the request is authorized</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// isWithinRateLimit is another middleware function</span></span><br><span class="line">authGet(<span class="string">&apos;/repos/view/:user/:name&apos;</span>, isWithinRateLimit, github.viewFile);</span><br><span class="line"><span class="comment">// equivalent to</span></span><br><span class="line">app.get(<span class="string">&apos;/repos/view/:user/:name&apos;</span>, auth.isAuthenticated, auth.isAuthorized,</span><br><span class="line">    isWithinRateLimit, github.viewFile);</span><br></pre></td></tr></table></figure>
<h2 id="initialize-db-models-once">Initialize DB models once</h2><p>Several ORMs require passing an instance of the database or connection to create models.
For example <a href="http://thinky.io/" target="_blank" rel="external">thinky</a> built on top of <a href="http://rethinkdb.com/" target="_blank" rel="external">RethinkDB</a> uses this approach.
One creates <code>thinky</code> object that connects to the DB immediately. 
Any module that needs User model has to pass the DB connection information</p>
<figure class="highlight js"><figcaption><span>models.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> thinky = <span class="built_in">require</span>(<span class="string">&apos;thinky&apos;</span>)({</span><br><span class="line">    host: <span class="string">&apos;localhost&apos;</span>,</span><br><span class="line">    port: <span class="number">27015</span>,</span><br><span class="line">    db: <span class="string">&apos;myDb&apos;</span></span><br><span class="line">});</span><br><span class="line"><span class="keyword">var</span> User = thinky.createModel(<span class="string">&apos;User&apos;</span>, {</span><br><span class="line">    id: type.string(),</span><br><span class="line">    name: type.string()</span><br><span class="line">});</span><br><span class="line"><span class="built_in">module</span>.exports = User;</span><br></pre></td></tr></table></figure>
<p>Our model / business logic layer should NOT know how to connect to the DB just to create the User model.
Thus I switched the logic around and pass this information into the models file. This means I need
to move the initialization into a function to be exported.</p>
<figure class="highlight js"><figcaption><span>models.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">connection</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> thinky = <span class="built_in">require</span>(<span class="string">&apos;thinky&apos;</span>)(connection);</span><br><span class="line">    <span class="keyword">var</span> User = thinky.createModel(<span class="string">&apos;User&apos;</span>, {</span><br><span class="line">        id: type.string(),</span><br><span class="line">        name: type.string()</span><br><span class="line">    });</span><br><span class="line">    <span class="keyword">return</span> User;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">module</span>.exports = getUser;</span><br></pre></td></tr></table></figure>
<p>This solves 1 problem, but introduces 2 new ones:</p>
<ol>
<li>Every call to get the User model needs the connection information, pushing the need to provide this information
to every caller.</li>
<li>We will open a new connection in each call to get the user.</li>
</ol>
<p>I solve both problems by wrapping the exported <code>getUser</code> function with <a href="http://ramdajs.com/docs/#once" target="_blank" rel="external">Ramda.once</a>
function and call it at the server&apos;s startup with the real connection information. Every other user of the User model
can just call the method without any arguments to get the cached result.</p>
<figure class="highlight js"><figcaption><span>models.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> R = <span class="built_in">require</span>(<span class="string">&apos;ramda&apos;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUser</span>(<span class="params">connection</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> thinky = <span class="built_in">require</span>(<span class="string">&apos;thinky&apos;</span>)(connection);</span><br><span class="line">    <span class="keyword">var</span> User = thinky.createModel(<span class="string">&apos;User&apos;</span>, {</span><br><span class="line">        id: type.string(),</span><br><span class="line">        name: type.string()</span><br><span class="line">    });</span><br><span class="line">    <span class="keyword">return</span> User;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">module</span>.exports = R.once(getUser);</span><br></pre></td></tr></table></figure>
<p>The server code executes at startup</p>
<figure class="highlight js"><figcaption><span>server.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> connection = ... <span class="comment">// for example using nconf</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&apos;./models&apos;</span>)(connection); <span class="comment">// User model is cached</span></span><br></pre></td></tr></table></figure>
<p>Any other file can get the User model after that</p>
<figure class="highlight js"><figcaption><span>inside some controller</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> User = <span class="built_in">require</span>(<span class="string">&apos;../models.js&apos;</span>)();</span><br><span class="line"><span class="comment">// User is the same cached value</span></span><br></pre></td></tr></table></figure>
<p>For more functional JS examples, see my other <a href="../tags/functional">function javascript posts</a></p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>

    

    <footer class="article-footer">
      <a data-url="http://glebbahmutov.com/blog/less-boilerplate-in-express-app/" data-id="cijatlhm100j3m2ur8jemg4cb" class="article-share-link">Share</a>
      
        <a href="http://glebbahmutov.com/blog/less-boilerplate-in-express-app/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/boilerplate/">boilerplate</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/functional/">functional</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../nice-touch-rethinkdb/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Nice touch, RethinkDB
        
      </div>
    </a>
  
  
    <a href="../deployed-commit/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Deployed commit</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">70</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">192</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">84</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/">ci</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">145</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">55</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 12.35px;">QUnit</a><a href="../tags/advice/" style="font-size: 19.41px;">advice</a><a href="../tags/angular/" style="font-size: 10px;">angular</a><a href="../tags/angularjs/" style="font-size: 18.24px;">angularjs</a><a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a><a href="../tags/assertions/" style="font-size: 13.53px;">assertions</a><a href="../tags/boilerplate/" style="font-size: 15.29px;">boilerplate</a><a href="../tags/browser/" style="font-size: 14.71px;">browser</a><a href="../tags/ci/" style="font-size: 11.18px;">ci</a><a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a><a href="../tags/d3/" style="font-size: 11.18px;">d3</a><a href="../tags/database/" style="font-size: 10px;">database</a><a href="../tags/db/" style="font-size: 12.35px;">db</a><a href="../tags/es6/" style="font-size: 14.12px;">es6</a><a href="../tags/es7/" style="font-size: 10px;">es7</a><a href="../tags/functional/" style="font-size: 17.06px;">functional</a><a href="../tags/generators/" style="font-size: 12.35px;">generators</a><a href="../tags/git/" style="font-size: 13.53px;">git</a><a href="../tags/grunt/" style="font-size: 13.53px;">grunt</a><a href="../tags/gulp/" style="font-size: 11.18px;">gulp</a><a href="../tags/immutable/" style="font-size: 10px;">immutable</a><a href="../tags/interview/" style="font-size: 11.18px;">interview</a><a href="../tags/jade/" style="font-size: 11.76px;">jade</a><a href="../tags/javascript/" style="font-size: 20px;">javascript</a><a href="../tags/jshint/" style="font-size: 11.18px;">jshint</a><a href="../tags/modular-development/" style="font-size: 15.29px;">modular development</a><a href="../tags/nodejs/" style="font-size: 18.82px;">nodejs</a><a href="../tags/performance/" style="font-size: 15.88px;">performance</a><a href="../tags/promises/" style="font-size: 16.47px;">promises</a><a href="../tags/proposal/" style="font-size: 10.59px;">proposal</a><a href="../tags/reactive/" style="font-size: 10.59px;">reactive</a><a href="../tags/reactjs/" style="font-size: 10.59px;">reactjs</a><a href="../tags/security/" style="font-size: 11.76px;">security</a><a href="../tags/sentry/" style="font-size: 13.53px;">sentry</a><a href="../tags/testing/" style="font-size: 17.65px;">testing</a><a href="../tags/tutorial/" style="font-size: 12.94px;">tutorial</a><a href="../tags/ui/" style="font-size: 10px;">ui</a><a href="../tags/web-workers/" style="font-size: 12.35px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../run-express-server-in-your-browser/">Run Express server in your browser</a>
          </li>
        
          <li>
            <a href="../using-webpack/">Using webpack</a>
          </li>
        
          <li>
            <a href="../the-senior-engineer-role/">The senior engineer role</a>
          </li>
        
          <li>
            <a href="../instant-web-application/">Instant Web Application</a>
          </li>
        
          <li>
            <a href="../hydrate-at-build-time/">Hydrate at build time</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="..//" class="mobile-nav-link">Home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'http://glebbahmutov.com/blog/less-boilerplate-in-express-app/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css" type="text/css">
  <script src="../fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="../js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>