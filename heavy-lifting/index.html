<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Heavy lifting | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="introImagine a simple task: given a javascript plain object, print a property. For example,
if the object represents the user information, print the name
12345var user = {    name: &amp;apos;joe&amp;apos;};co">
<meta property="og:type" content="article">
<meta property="og:title" content="Heavy lifting">
<meta property="og:url" content="http://glebbahmutov.com/blog/heavy-lifting/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="introImagine a simple task: given a javascript plain object, print a property. For example,
if the object represents the user information, print the name
12345var user = {    name: &amp;apos;joe&amp;apos;};co">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Heavy lifting">
<meta name="twitter:description" content="introImagine a simple task: given a javascript plain object, print a property. For example,
if the object represents the user information, print the name
12345var user = {    name: &amp;apos;joe&amp;apos;};co">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="..//" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="..//" id="subtitle">Software advice from Dr. Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">Software advice from <a id="subtitle" href="http://glebbahmutov.com">Dr. Gleb Bahmutov PhD</a></span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="..//">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-heavy-lifting" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2015-05-07T04:00:00.000Z" itemprop="datePublished">May 7 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Heavy lifting
    </h1>

    <h2 class="article-title" itemprop="name">
      Adding new features to an existing function via lifting.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="intro">intro</h2><p>Imagine a simple task: given a javascript plain object, print a property. For example,
if the object represents the user information, print the name</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = {</span><br><span class="line">    name: <span class="string">&apos;joe&apos;</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, user.name);</span><br><span class="line"><span class="comment">// user name joe</span></span><br></pre></td></tr></table></figure>
<p>We will refactor this code to be testable and reusable. Let us move the printing into a
separate function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">person</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, person.name);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> user = {</span><br><span class="line">    name: <span class="string">&apos;joe&apos;</span></span><br><span class="line">};</span><br><span class="line">print(user);</span><br><span class="line"><span class="comment">// user name joe</span></span><br></pre></td></tr></table></figure>
<h2 id="guard-against-nulls">guard against nulls</h2><p>As soon as we have this simple existing single user printing, we will get a few feature requests.
First, the program above assumes the user exists. It should check if the variable <code>user</code> 
is an object with a name property before to be accessing the value. One can code this guard logic
inside the <code>print</code> function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">person</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (person &amp;&amp; person.name) {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, person.name);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>The guard code is tightly coupled with the print feature. We can split the code apart.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unsafePrint</span>(<span class="params">person</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, person.name);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">safeProperty</span>(<span class="params">name</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">object</span>) </span>{</span><br><span class="line">      <span class="keyword">if</span> (object &amp;&amp; <span class="keyword">typeof</span> object[name] !== <span class="string">&apos;undefined&apos;</span>) {</span><br><span class="line">        fn(object);</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>The <code>safeProperty</code> looks a little weird, but it has a useful property: the arguments
are in the following order: property name, callback function, object. This order matches the order we
expect to discover the information. The property name and the callback are usually known at compile
time, while the object is only known at runtime. Here is how we can use it to wrap the <code>print</code> function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> print = safeProperty(<span class="string">&apos;name&apos;</span>)(unsafePrint);</span><br><span class="line"><span class="keyword">var</span> user = {</span><br><span class="line">  name: <span class="string">&apos;joe&apos;</span></span><br><span class="line">};</span><br><span class="line">print(user);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line">print();</span><br><span class="line"><span class="comment">// does nothing</span></span><br></pre></td></tr></table></figure>
<p>I have more examples of similar argument order in the
<a href="../put-callback-first-for-elegance/">Put callback first for elegance</a> blog post.</p>
<h2 id="support-multiple-items">support multiple items</h2><p>The second request you might get after handling null values is to print multiple users.
We may add the support for printing multiple items on top of the single print.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printOne</span>(<span class="params">p</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, p.name);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">persons</span>) </span>{</span><br><span class="line">  persons.forEach(printOne);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> user1 = {</span><br><span class="line">  name: <span class="string">&apos;joe&apos;</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">var</span> user2 = {</span><br><span class="line">  name: <span class="string">&apos;ann&apos;</span></span><br><span class="line">};</span><br><span class="line">print([user1, user2]);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line"><span class="comment">// user name ann</span></span><br></pre></td></tr></table></figure>
<p>Imagine we have to support multiple items in each function you write. 
That would lead to lots of extra code with the same essential functionality. What we really need is an
utility function that can convert any function that works with a single item and produces another
function that can work with an array of items. Usually such function is called a <em>lift</em> in 
the functional vocabulary.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lift</span>(<span class="params">fn</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> arr.map(fn);</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> print = lift(printOne);</span><br><span class="line">print([user1, user2]);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line"><span class="comment">// user name ann</span></span><br></pre></td></tr></table></figure>
<p>In this case the <code>lift</code> transforms a function that expects and returns a single value.
The <code>lift</code> returns another function that expects and returns an array. 
In a mock type notation we can write what <code>lift</code> does as follows</p>
<pre><code>fn = <span class="comment">(* -&gt; *)</span> 
<span class="comment">// fn is a function that takes any value and returns a value</span>
lift = <span class="comment">(* -&gt; *)</span> -&gt; ([*] -&gt; [*])
<span class="comment">// lift is a function that takes (* -&gt; *) function as input</span>
<span class="comment">// and returns another function with signature ([*] -&gt; [*]) </span>
</code></pre><p>In the print example we do not use the return value from <code>printOne</code>. 
If the <code>printOne</code> function returned a value, its lifted version would also have a valid return value.
As it stands now the <code>print</code> function returns an array of <code>undefined</code> values.</p>
<h3 id="user-friendly-api">user-friendly API</h3><p>We have lifted the <code>printOne</code> function, now it works with an array input. It would be nice
if I did not need to always pass an array and instead it could work with separate arguments</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> print = lift(printOne);</span><br><span class="line">print(user1, user2);</span><br></pre></td></tr></table></figure>
<p>Let us add a little bit of logic to the <code>lift</code> function to handle both arrays and array-like arguments</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lift</span>(<span class="params">fn</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) {</span><br><span class="line">      arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> arr.map(fn);</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> print = lift(printOne);</span><br></pre></td></tr></table></figure>
<p>Supporting both arguments and an array in the lifted function is a nice user-friendly feature 
and it has a side benefit - the lifted function now works fine even if you don&apos;t pass any arguments.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">print([user1, user2]);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line"><span class="comment">// user name ann</span></span><br><span class="line">print(user1, user2);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line"><span class="comment">// user name ann</span></span><br><span class="line">print(user1);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line">print();</span><br><span class="line"><span class="comment">// does nothing</span></span><br></pre></td></tr></table></figure>
<h2 id="other-lifts">other lifts</h2><p>Array iteration is a common, but not the only possible feature a function can be lifted to. 
You can lift a function to add other features, for example guarding against the null values in the first
part of this blog post can be a &quot;lift&quot;.</p>
<p>We will use the original print function without any checks</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unsafePrint</span>(<span class="params">person</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, person.name);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>First, let us wrap a value that can be undefined or null in an object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MaybeNull</span>(<span class="params">val</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    value: val,</span><br><span class="line">    map: <span class="function"><span class="keyword">function</span> (<span class="params">cb</span>) </span>{</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.value) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MaybeNull( cb(<span class="keyword">this</span>.value) ); <span class="comment">// A</span></span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  };</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>The <code>MaybeNull</code> type has a property <code>map</code> that runs a given callback function on the value stored inside
the <code>MaybeNull</code> object. The returned value is wrapped in the <code>MaybeNull</code> again (<code>// A</code>). It is not
necessary for this example but is a good pattern that allows easy chaining.</p>
<p>Now we can use the <code>unsafePrint</code> without worrying about the <code>null</code> or <code>undefined</code> values.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = {</span><br><span class="line">  name: <span class="string">&apos;joe&apos;</span></span><br><span class="line">};</span><br><span class="line">(<span class="keyword">new</span> MaybeNull(user)).map(unsafePrint);</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line">(<span class="keyword">new</span> MaybeNull()).map(unsafePrint);</span><br><span class="line"><span class="comment">// does nothing</span></span><br></pre></td></tr></table></figure>
<p>Instead of wrapping the value in <code>MaybeNull</code> object and calling <code>map</code> method, let us &apos;lift&apos; the
<code>unsafePrint</code> to make a new function that expects and returns a <code>MaybeNull</code> instance.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MaybeNull.lift = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">MaybeNullValue</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> MaybeNullValue.map(fn);</span><br><span class="line">  };</span><br><span class="line">};</span><br><span class="line"><span class="keyword">var</span> print = MaybeNull.lift(unsafePrint);</span><br><span class="line">print(<span class="keyword">new</span> MaybeNull(user));</span><br><span class="line"><span class="comment">// user name joe</span></span><br><span class="line">print(<span class="keyword">new</span> MaybeNull());</span><br><span class="line"><span class="comment">// does nothing</span></span><br></pre></td></tr></table></figure>
<p>We can describe the <code>MaybeNull.lift</code> in type notation</p>
<pre><code>fn = <span class="comment">(* -&gt; *)</span> 
MaybeNull.lift = <span class="comment">(* -&gt; *)</span> -&gt; (MaybeNull -&gt; MaybeNull)
</code></pre><h2 id="composing-lifts">composing lifts</h2><p>We have two lifts that we can compose and apply to an original function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unsafePrint</span>(<span class="params">person</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;user name&apos;</span>, person.name);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> safePrint = MaybeNull.lift(unsafePrint);</span><br><span class="line"><span class="comment">// lift to array function from above</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lift</span>(<span class="params">fn</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) {</span><br><span class="line">      arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> arr.map(fn);</span><br><span class="line">  };</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> print = lift(safePrint);</span><br><span class="line">print(<span class="keyword">new</span> MaybeNull(user1), <span class="keyword">new</span> MaybeNull(), <span class="keyword">new</span> MaybeNull(user2));</span><br></pre></td></tr></table></figure>
<p>Function <code>print</code> is a lifted lifted <code>unsafePrint</code> with the following type signature</p>
<pre><code>print = (<span class="string">[MaybeNull]</span> -&gt; <span class="string">[MaybeNull]</span>)
</code></pre><h2 id="conclusions">Conclusions</h2><p>Lifting a function using array <code>lift</code> makes the iteration over multiple items a breeze. 
Similarly, we can lift a function to work with other value wrappers, like <code>null</code> value guard.
We can combine several lifts using function composition to get more features if needed.</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>

    

    <footer class="article-footer">
      <a data-url="http://glebbahmutov.com/blog/heavy-lifting/" data-id="cijcalpxk00mztiur1orn62mp" class="article-share-link">Share</a>
      
        <a href="http://glebbahmutov.com/blog/heavy-lifting/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/functional/">functional</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../fast-legoization/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Fast legoization
        
      </div>
    </a>
  
  
    <a href="../unit-testing-cli-programs/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Unit testing CLI programs</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">71</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">192</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">84</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/">ci</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">146</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">55</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 12.35px;">QUnit</a><a href="../tags/advice/" style="font-size: 19.41px;">advice</a><a href="../tags/angular/" style="font-size: 10px;">angular</a><a href="../tags/angularjs/" style="font-size: 18.24px;">angularjs</a><a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a><a href="../tags/assertions/" style="font-size: 13.53px;">assertions</a><a href="../tags/boilerplate/" style="font-size: 15.29px;">boilerplate</a><a href="../tags/browser/" style="font-size: 14.71px;">browser</a><a href="../tags/ci/" style="font-size: 11.18px;">ci</a><a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a><a href="../tags/d3/" style="font-size: 11.18px;">d3</a><a href="../tags/database/" style="font-size: 10px;">database</a><a href="../tags/db/" style="font-size: 12.35px;">db</a><a href="../tags/es6/" style="font-size: 14.12px;">es6</a><a href="../tags/es7/" style="font-size: 10px;">es7</a><a href="../tags/functional/" style="font-size: 17.06px;">functional</a><a href="../tags/generators/" style="font-size: 12.35px;">generators</a><a href="../tags/git/" style="font-size: 13.53px;">git</a><a href="../tags/grunt/" style="font-size: 13.53px;">grunt</a><a href="../tags/gulp/" style="font-size: 11.18px;">gulp</a><a href="../tags/immutable/" style="font-size: 10px;">immutable</a><a href="../tags/interview/" style="font-size: 11.18px;">interview</a><a href="../tags/jade/" style="font-size: 11.76px;">jade</a><a href="../tags/javascript/" style="font-size: 20px;">javascript</a><a href="../tags/jshint/" style="font-size: 11.18px;">jshint</a><a href="../tags/modular-development/" style="font-size: 15.29px;">modular development</a><a href="../tags/nodejs/" style="font-size: 18.82px;">nodejs</a><a href="../tags/performance/" style="font-size: 15.88px;">performance</a><a href="../tags/promises/" style="font-size: 16.47px;">promises</a><a href="../tags/proposal/" style="font-size: 10.59px;">proposal</a><a href="../tags/reactive/" style="font-size: 10.59px;">reactive</a><a href="../tags/reactjs/" style="font-size: 10.59px;">reactjs</a><a href="../tags/security/" style="font-size: 11.76px;">security</a><a href="../tags/sentry/" style="font-size: 13.53px;">sentry</a><a href="../tags/testing/" style="font-size: 17.65px;">testing</a><a href="../tags/tutorial/" style="font-size: 12.94px;">tutorial</a><a href="../tags/ui/" style="font-size: 10px;">ui</a><a href="../tags/web-workers/" style="font-size: 12.35px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../i-write-3-types-of-software/">I write 3 types of software</a>
          </li>
        
          <li>
            <a href="../run-express-server-in-your-browser/">Run Express server in your browser</a>
          </li>
        
          <li>
            <a href="../using-webpack/">Using webpack</a>
          </li>
        
          <li>
            <a href="../the-senior-engineer-role/">The senior engineer role</a>
          </li>
        
          <li>
            <a href="../instant-web-application/">Instant Web Application</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="..//" class="mobile-nav-link">Home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'http://glebbahmutov.com/blog/heavy-lifting/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css" type="text/css">
  <script src="../fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="../js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>