<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Defensive coding examples | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hunting for bugs in the production minified JavaScript code is
always fun.
Having an intelligent error message helps a lot, especially if the message
warns about the first thing that goes wrong. That">
<meta property="og:type" content="article">
<meta property="og:title" content="Defensive coding examples">
<meta property="og:url" content="http://glebbahmutov.com/blog/defensive-coding-examples/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Hunting for bugs in the production minified JavaScript code is
always fun.
Having an intelligent error message helps a lot, especially if the message
warns about the first thing that goes wrong. That">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Defensive coding examples">
<meta name="twitter:description" content="Hunting for bugs in the production minified JavaScript code is
always fun.
Having an intelligent error message helps a lot, especially if the message
warns about the first thing that goes wrong. That">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="..//" id="logo">Better world by better software</a>
      </h1>
      <!--
      
        <h2 id="subtitle-wrap">
          <a href="..//" id="subtitle">Software advice from Dr. Gleb Bahmutov PhD</a>
        </h2>
      
      -->
      <h2 id="subtitle-wrap">
        <span class="subtitle">Software advice from <a id="subtitle" href="http://glebbahmutov.com">Dr. Gleb Bahmutov PhD</a></span>
      </h2>
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="..//">Home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://glebbahmutov.com/blog"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-defensive-coding-examples" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2014-03-21T04:00:00.000Z" itemprop="datePublished">Mar 21 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/process/">process</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Defensive coding examples
    </h1>

    <h2 class="article-title" itemprop="name">
      Examples of using lodash, angular, check-types, ramda assertions
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hunting for bugs in the production minified JavaScript code is
<a href="../debugging-js-minification-bug/">always fun</a>.
Having an intelligent error message helps a lot, especially if the message
warns about the first thing that goes wrong. That is why I practice
defensive and even <a href="../paranoid-coding/">paranoid coding</a>
style. Each public facing function checks its arguments and environment
before doing any work.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (a is not a valid number) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;invalid first number to add &apos;</span> + a);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (b is not a valid number) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;invalid second number to add &apos;</span> + b);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>There are three sources of errors to guard against</p>
<ul>
<li>Logical errors in the code itself.</li>
<li>Errors in the input data, especially user supplied input.</li>
<li>Errors in the environment</li>
</ul>
<p>You can fight logical errors with unit tests that cover all code paths
using code coverage tools.</p>
<h3 id="input-data-errors">Input data errors</h3><p>You can safely assume that at some point your externally visible
functions will get junk inputs. User supplied data or information
coming from the server should never be trusted.
Always do a sanity check against
the data before doing any calculations. An immediate exception
will make hunting for the source much easier. Decouple raising
the error from trying to handle it. For example do not do this:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="title">a</span>, <span class="title">b</span>) {</span>
  <span class="keyword">if</span> (<span class="operator">a</span> is <span class="operator">not</span> <span class="operator">a</span> valid <span class="built_in">number</span>) {
    <span class="operator">a</span> = <span class="number">0</span>;<span class="comment"> // BAD!</span>
  }
  ...
}
</code></pre><p>Instead let the code calling <code>add</code> handle any errors</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">calc</span><span class="params">()</span> </span>{
  <span class="keyword">var</span> a = form().a;
  <span class="keyword">var</span> b = form().b;
  <span class="keyword">try</span> {
    <span class="keyword">return</span> add(a, b);
  } <span class="keyword">catch</span> (err) {
    showErrorMessage(err);
  }
}
</code></pre><p>The sanity checks should be O(1) if possible, otherwise they will
slow down the system. For example, if the input is an array to be
processed, do not check the entire array. Maybe you could get away with
just testing the array length to be positive
in order to guard against the junk data.</p>
<h3 id="environment-errors">Environment errors</h3><p>You might assume something about the environment, but your code
is used in a different setting. For example, you might assume your D3
code is running in a browser with full access to <code>window</code> object and
parent element <code>this</code>. What if it is being unit tested under Nodejs?
What if the parent element is invisible and has its width set to zero?</p>
<p>I would not check the environment by default. I would add a sanity
check the first time I see a bug related to the environment assumptions.
The only exception is checking for function existance that might be
used in very special cases, for example error handling support. I want
to check if they exist right away to make sure when an error happens, the
handler exists.</p>
<pre><code>(<span class="function"><span class="keyword">function</span> <span class="title">myCode</span>(<span class="params"></span>) </span>{
  <span class="comment">// check if errorHandler exists right away</span>
  <span class="keyword">if</span> (<span class="keyword">typeof</span> errorHandler === <span class="string">&apos;undefined&apos;</span>) {
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;undefined error handler&apos;</span>);
  }

  ... deep down somewhere
  <span class="keyword">if</span> (condition) {
    <span class="comment">// rare error, but the handler is ready to do something</span>
    errorHandler(<span class="string">&apos;Something went wrong&apos;</span>);
  }
}());
</code></pre><h2 id="helper-functions">Helper functions</h2><p>In a static language like C or Java, the compiler would perform
some of the sanity checks for us, for example not allowing to pass string
where an Array is expected. Unfortunately, the truly useful sanity checks
go beyond simple types. I use the following 3 collections of test functions
in my JavaScript code</p>
<h2 id="angular">Angular</h2><p>Angular has the following
<a href="http://docs.angularjs.org/api/ng/function/angular.isArray" target="_blank" rel="external">test functions</a>:</p>
<pre><code>angular<span class="class">.isArray</span>, angular<span class="class">.isDate</span>, angular<span class="class">.isDefined</span>
angular<span class="class">.isElement</span>, angular<span class="class">.isFunction</span>, angular<span class="class">.isNumber</span>, angular<span class="class">.isObject</span>
angular<span class="class">.isString</span>, angular.isUndefined
</code></pre><h2 id="lodash-underscore">Lodash / Underscore</h2><p>Lodash has the following <a href="http://lodash.com/docs#isArguments" target="_blank" rel="external">test functions</a>:</p>
<pre><code>_<span class="class">.isArguments</span>, _<span class="class">.isArray</span>, _<span class="class">.isBoolean</span>, _<span class="class">.isDate</span>,
_<span class="class">.isElement</span>, _<span class="class">.isEmpty</span>, _<span class="class">.isEqual</span>, _<span class="class">.isFinite</span>,
_<span class="class">.isFunction</span>, _<span class="class">.isNaN</span>, _<span class="class">.isNull</span>, _<span class="class">.isNumber</span>, _<span class="class">.isObject</span>,
_<span class="class">.isPlainObject</span>, _<span class="class">.isRegExp</span>, _<span class="class">.isString</span>, _.isUndefined
</code></pre><p>My favorite is <code>_.isFinite</code> that guards against undefined and NaN values.</p>
<h2 id="check-types">check-types</h2><p>For more advanced checking, I sometimes use
<a href="https://github.com/philbooth/check-types.js" target="_blank" rel="external">check-types</a> library.
It even allows throwing an exception in a single call</p>
<pre><code>var verify = check.verify;
function<span class="function"> plot(</span>xvalues<span class="function">)</span> {
 <span class="function"> verify.array(</span>xvalues, &apos;need an<span class="instruction"> array </span>of numbers to plot&apos;<span class="function">)</span>;
 <span class="function"> verify.positiveNumber(</span>xvalues.length, &apos;empty<span class="instruction"> array </span>to plot&apos;<span class="function">)</span>;
<span class="keyword">  .</span>..
}
</code></pre><p><em>check-types</em> has verify function to check an object&apos;s structure using
duck typing and batch operations, see
<a href="https://github.com/philbooth/check-types.js#some-examples" target="_blank" rel="external">examples</a></p>
<p>We have released additional helpers that build upon <code>check-types</code>, 
see <a href="https://github.com/kensho/check-more-types" target="_blank" rel="external">check-more-types</a>.</p>
<h2 id="ramda">Ramda</h2><p><a href="http://ramdajs.com" target="_blank" rel="external">Ramda</a> has multiple logical predicates, including low-level type checking
and combinators</p>
<pre><code>R.<span class="keyword">is</span>(<span class="built_in">Object</span>, {}); <span class="comment">//=&gt; true</span>
R.<span class="keyword">is</span>(Number, <span class="number">1</span>); <span class="comment">//=&gt; true</span>
<span class="comment">// a few other types can be checked</span>
R.isArrayLike, R.isEmpty, R.isSet <span class="comment">// isSet checks if all elements are unique</span>
</code></pre><p>Logical combinators included into Ramda:</p>
<pre><code>R.<span class="keyword">and</span>, R.<span class="keyword">or</span>, R.<span class="keyword">not</span>, R.ifElse, R.allPredicates, R.anyPredicates
R.cond // builds <span class="string">&quot;switch&quot;</span> statement from conditions
var fn = R.cond(
   [R.e<span class="string">q(0)</span>,      R.always(<span class="string">&apos;water freezes at 0&#xB0;C&apos;</span>)],
   [R.e<span class="string">q(100)</span>,    R.always(<span class="string">&apos;water boils at 100&#xB0;C&apos;</span>)],
   [R.alwaysTrue, function(temp) { <span class="keyword">return</span> <span class="string">&apos;nothing special happens at &apos;</span> + temp + <span class="string">&apos;&#xB0;C&apos;</span>; }]
);
fn(<span class="number">0</span>); <span class="regexp">//</span>=&gt; <span class="string">&apos;water freezes at 0&#xB0;C&apos;</span>
fn(<span class="number">50</span>); <span class="regexp">//</span>=&gt; <span class="string">&apos;nothing special happens at 50&#xB0;C&apos;</span>
fn(<span class="number">100</span>); <span class="regexp">//</span>=&gt; <span class="string">&apos;water boils at 100&#xB0;C&apos;</span>
</code></pre><h2 id="example">Example</h2><p>Here is a small example from D3 charts.
We are computing the chart&apos;s scale and need to guard agaist both
the input data errors and environment assumptions</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">plot</span><span class="params">(xvalues)</span> </span>{
  <span class="keyword">var</span> xrange = d3.extent(xvalues)
  <span class="keyword">var</span> scale = d3.scale.linear()
    .domain(xrange)
    .range([<span class="number">0</span>, <span class="keyword">this</span>.element.width()]);
</code></pre><p><code>d3.extent</code> can silently return garbage data for invalid inputs, for example</p>
<pre><code><span class="atom">d3</span>.<span class="atom">extent</span>([]);    // [<span class="atom">undefined</span>, <span class="atom">undefined</span>]
<span class="atom">d3</span>.<span class="atom">extent</span>(<span class="string">&apos;foo&apos;</span>); // [<span class="string">&apos;foo&apos;</span>, <span class="string">&apos;foo&apos;</span>]
</code></pre><p>Let&apos;s add a guard against the invalid input data.
Second, let&apos;s check the returned <code>xrange</code>, otherwise
we will probably get either empty chart, or weird <code>NaN</code> console errors.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">plot</span>(<span class="params">xvalues</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (!_.isArray(xvalues) || !xvalues.length) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;Invalid data to plot &apos;</span> +</span><br><span class="line">      <span class="built_in">JSON</span>.stringify(xvalues, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> xrange = d3.extent(xvalues);</span><br><span class="line">  <span class="keyword">if</span> (!_.isFinite(xrange[<span class="number">0</span>]) || !_.isFinite(xrange[<span class="number">1</span>])) {</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;Could not determine range from data &apos;</span> +</span><br><span class="line">      <span class="built_in">JSON</span>.stringify(xvalues, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>I would add the above sanity checks by default when I code the function the first time.
If I see some weird behavior, then I would also check the data going into the chart&apos;s range.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">plot</span>(<span class="params">xvalues</span>) </span>{
  ... previous checks
  <span class="keyword">if</span> (<span class="keyword">this</span>.element.width() &lt; <span class="number">1</span>) {
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;Invalid element width &apos;</span> + <span class="keyword">this</span>.element.width());
  }
  ... scale domain and range computation
    .range([<span class="number">0</span>, <span class="keyword">this</span>.element.width()]);
</code></pre><h3 id="do-not-use-consoleassert">Do not use console.assert</h3><p>Whenever there is a problem, throw an <code>Error</code> object, because <code>console.assert</code>
only prints an error message, it does not actually stop the script execution in
the browser (unlike in Node). Thus you will never know about the error, but
only pollute the JavaScript console with messages.</p>
<p>I use <a href="../know-unknown-unknowns-with-sentry/">Sentry error reporting</a>
to learn about all errors our users are experiencing in real time.</p>
<p>To guarantee a thrown error and avoid performance hit when passing multiple arguments,
I wrote a library of lazy assertions <a href="https://github.com/bahmutov/lazy-ass" target="_blank" rel="external">lazy-ass</a>.</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  Follow Gleb Bahmutov <a href="https://twitter.com/bahmutov">@bahmutov</a>,
  see his projects at <a href="http://glebbahmutov.com">glebbahmutov.com</a>
</footer>

    

    <footer class="article-footer">
      <a data-url="http://glebbahmutov.com/blog/defensive-coding-examples/" data-id="ciihys23z00qlaommu6snkm8h" class="article-share-link">Share</a>
      
        <a href="http://glebbahmutov.com/blog/defensive-coding-examples/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/advice/">advice</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/assertions/">assertions</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/sentry/">sentry</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/testing/">testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../cloning-2048/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Cloning 2048
        
      </div>
    </a>
  
  
    <a href="../catch-angular-minification-errors/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Catch AngularJs minification errors</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">69</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">190</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/">advice</a><span class="tag-list-count">83</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/">angularjs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/">assertions</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/">boilerplate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/">browser</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/">db</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/">es6</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/">functional</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/">git</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/">immutable</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/">javascript</a><span class="tag-list-count">143</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/">modular development</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/">nodejs</a><span class="tag-list-count">54</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/">performance</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/">promises</a><span class="tag-list-count">30</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/">reactive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/">reactjs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/">security</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/">sentry</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/">testing</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/">tutorial</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/">ui</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/">web workers</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/QUnit/" style="font-size: 13.08px;">QUnit</a><a href="../tags/advice/" style="font-size: 19.23px;">advice</a><a href="../tags/angular/" style="font-size: 10px;">angular</a><a href="../tags/angularjs/" style="font-size: 18.46px;">angularjs</a><a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a><a href="../tags/assertions/" style="font-size: 13.85px;">assertions</a><a href="../tags/boilerplate/" style="font-size: 15.38px;">boilerplate</a><a href="../tags/browser/" style="font-size: 14.62px;">browser</a><a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a><a href="../tags/d3/" style="font-size: 11.54px;">d3</a><a href="../tags/database/" style="font-size: 10px;">database</a><a href="../tags/db/" style="font-size: 13.08px;">db</a><a href="../tags/es6/" style="font-size: 14.62px;">es6</a><a href="../tags/es7/" style="font-size: 10px;">es7</a><a href="../tags/functional/" style="font-size: 16.92px;">functional</a><a href="../tags/generators/" style="font-size: 13.08px;">generators</a><a href="../tags/git/" style="font-size: 13.85px;">git</a><a href="../tags/grunt/" style="font-size: 13.85px;">grunt</a><a href="../tags/gulp/" style="font-size: 11.54px;">gulp</a><a href="../tags/immutable/" style="font-size: 10px;">immutable</a><a href="../tags/interview/" style="font-size: 11.54px;">interview</a><a href="../tags/jade/" style="font-size: 12.31px;">jade</a><a href="../tags/javascript/" style="font-size: 20px;">javascript</a><a href="../tags/jshint/" style="font-size: 11.54px;">jshint</a><a href="../tags/modular-development/" style="font-size: 15.38px;">modular development</a><a href="../tags/nodejs/" style="font-size: 18.46px;">nodejs</a><a href="../tags/performance/" style="font-size: 15.38px;">performance</a><a href="../tags/promises/" style="font-size: 16.15px;">promises</a><a href="../tags/proposal/" style="font-size: 10.77px;">proposal</a><a href="../tags/reactive/" style="font-size: 10.77px;">reactive</a><a href="../tags/reactjs/" style="font-size: 10.77px;">reactjs</a><a href="../tags/security/" style="font-size: 12.31px;">security</a><a href="../tags/sentry/" style="font-size: 13.85px;">sentry</a><a href="../tags/testing/" style="font-size: 17.69px;">testing</a><a href="../tags/tutorial/" style="font-size: 13.08px;">tutorial</a><a href="../tags/ui/" style="font-size: 10px;">ui</a><a href="../tags/web-workers/" style="font-size: 13.08px;">web workers</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../hydrate-at-build-time/">Hydrate at build time</a>
          </li>
        
          <li>
            <a href="../hydrate-your-apps/">Hydrate your apps</a>
          </li>
        
          <li>
            <a href="../my-node-tools/">My Node tools</a>
          </li>
        
          <li>
            <a href="../pass-the-logic/">Pass the logic</a>
          </li>
        
          <li>
            <a href="../use-some-es6-in-cli-apps/">Use some ES6 in CLI apps</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="..//" class="mobile-nav-link">Home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'http://glebbahmutov.com/blog/defensive-coding-examples/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="../fancybox/jquery.fancybox.css" type="text/css">
  <script src="../fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="../js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>