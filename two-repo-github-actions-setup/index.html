<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Separate Application And Tests Repos GitHub Actions Setup | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="In my previous blog post How to Keep Cypress Tests in Another Repo While Using GitHub Actions I have described how the end-to-end tests can live in a separate repository from the web application. Keep">
<meta property="og:type" content="article">
<meta property="og:title" content="Separate Application And Tests Repos GitHub Actions Setup">
<meta property="og:url" content="https://glebbahmutov.com/blog/two-repo-github-actions-setup/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="In my previous blog post How to Keep Cypress Tests in Another Repo While Using GitHub Actions I have described how the end-to-end tests can live in a separate repository from the web application. Keep">
<meta property="og:locale">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/two-repos.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/dispatch.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/found.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/named.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/params.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/finished.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/summary.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/url.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/two-repos/final.png">
<meta property="article:published_time" content="2023-11-29T05:00:00.000Z">
<meta property="article:modified_time" content="2024-04-23T22:55:08.613Z">
<meta property="article:author" content="Gleb Bahmutov">
<meta property="article:tag" content="testing">
<meta property="article:tag" content="cypress">
<meta property="article:tag" content="github">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://glebbahmutov.com/blog/images/two-repos/two-repos.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" as="style">
  
<link rel="stylesheet" href="../css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-titles">
      <div id="header-title" class="inner">
        <h1 id="logo-wrap">
          <a href="../index.html" id="logo">Better world by better software</a>
        </h1>
        <!--
        
        -->
        <!-- <span class="no-mobile">Software advice from</span> -->
        <h2 id="subtitle-wrap">
          <span class="subtitle">
            <a id="subtitle" href="https://glebbahmutov.com">Gleb Bahmutov PhD</a>
            <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
            
              <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
            
            <a id="nav-search-btn" class="nav-icon" title="Search"></a>
            <div id="search-form-wrap">
              <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
            </div>
          </span>
        </h2>

      </div>
    </div>
    <div id="climate-crisis">
      <h2>Our planet üåè is in danger</h2>
      <h3>Act today: <a href="/blog/climate-emergency/">what you can do</a></h3>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-two-repo-github-actions-setup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2023-11-29T05:00:00.000Z" itemprop="datePublished">Nov 29 2023</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Separate Application And Tests Repos GitHub Actions Setup
    </h1>

    <h2 class="article-title" itemprop="name">
      How to trigger tests in a separate repo using slash command and pass the results back.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In my previous blog post <a href="/blog/how-to-keep-cypress-tests-in-another-repo/" title="How to Keep Cypress Tests in Another Repo While Using GitHub Actions">How to Keep Cypress Tests in Another Repo While Using GitHub Actions</a> I have described how the end-to-end tests can live in a separate repository from the web application. Keeping a separate tests repo comes with its advantages and challenges. I like using a separate tests repo when we want to iterate over the tests really quickly. In this blog post I will describe how I set up two repos using GitHub Actions. To summarize: every time we open a web app pull request, we can enter a new comment with the text  <code>/cypress</code> and it will trigger a test run in the tests repo. The results of the test run will be posted back to the comment.</p>
<p><img src="../images/two-repos/two-repos.png" alt="The overall diagram"></p>
<blockquote class="pullquote"><p>üéÅ You can find the web application repo at <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app">bahmutov&#x2F;todo-app</a>, and the tests repo at <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app-tests">bahmutov&#x2F;todo-app-tests</a>.</p>
</blockquote>

<!-- toc -->

<ul>
<li><a href="#todo-app-cypress-slash-command">Todo-app: Cypress slash command</a></li>
<li><a href="#todo-app-cypress-workflow">Todo-app: Cypress workflow</a></li>
<li><a href="#todo-app-tests-trigger-workflow">Todo-app-tests: Trigger workflow</a></li>
</ul>
<!-- tocstop -->

<h2><span id="todo-app-cypress-slash-command">Todo-app: Cypress slash command</span></h2><p>To trigger the test run, we will trust the developer who opened a pull request or is reviewing it to type a new comment <code>/cypress</code>. This is our &quot;slash&quot; command, and there is a reusable Github Action <a target="_blank" rel="noopener" href="https://github.com/peter-evans/slash-command-dispatch">peter-evans&#x2F;slash-command-dispatch</a> that can handle it for us beautifully.</p>
<figure class="highlight yml"><figcaption><span>.github/workflows/slash-command-dispatch.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a workflow that runs when a user enters a pull request comment</span></span><br><span class="line"><span class="comment"># if the user enters &quot;/cypress&quot; we trigger the workflow &quot;slash-command-cypress&quot;</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Slash</span> <span class="string">Command</span> <span class="string">Dispatch</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issue_comment:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">created</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">slash_command_dispatch:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">event</span> <span class="string">üñ®Ô∏è</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo off</span></span><br><span class="line"><span class="string">          echo &#x27;$&#123;&#123; toJson(github.event) &#125;&#125;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="comment"># we only know the pull request number, like 12, 20, etc</span></span><br><span class="line">      <span class="comment"># but to trigger the workflow we need the branch name</span></span><br><span class="line">      <span class="comment"># use personal token to be able to query the branch by PR number</span></span><br><span class="line">      <span class="comment"># https://github.com/bahmutov/get-branch-name-by-pr</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Find</span> <span class="string">the</span> <span class="string">PR</span> <span class="string">branch</span> <span class="string">name</span> <span class="string">üîé</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">bahmutov/get-branch-name-by-pr@v1</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">pr</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">repo-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">pr-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.issue.number</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Slash</span> <span class="string">Command</span> <span class="string">Dispatch</span></span><br><span class="line">        <span class="comment"># https://github.com/peter-evans/slash-command-dispatch</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peter-evans/slash-command-dispatch@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># use personal token to be able to trigger more workflows</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># the personal token to post the comment emoji</span></span><br><span class="line">          <span class="attr">reaction-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">permission:</span> <span class="string">none</span></span><br><span class="line">          <span class="attr">static-args:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            repository=$&#123;&#123; github.repository &#125;&#125;</span></span><br><span class="line"><span class="string">            comment-id=$&#123;&#123; github.event.comment.id &#125;&#125;</span></span><br><span class="line"><span class="string">            ref=$&#123;&#123; steps.pr.outputs.branch &#125;&#125;</span></span><br><span class="line"><span class="string"></span>          <span class="attr">commands:</span> <span class="string">|</span></span><br><span class="line">            <span class="string">cypress</span></span><br></pre></td></tr></table></figure>

<p>A couple of notes about the above workflow that you can find at <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app/blob/main/.github/workflows/slash-command-dispatch.yml">slash-command-dispatch.yml</a>:</p>
<p>It runs on every new issue and pull request comment</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issue_comment:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">created</span>]</span><br></pre></td></tr></table></figure>

<p>It grabs the branch name using my GitHub Action <a target="_blank" rel="noopener" href="https://github.com/bahmutov/get-branch-name-by-pr">bahmutov&#x2F;get-branch-name-by-pr</a> because we will need to check out the code when running the test. We need to use a GitHub personal access token set as a repo secret.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># we only know the pull request number, like 12, 20, etc</span></span><br><span class="line"><span class="comment"># but to trigger the workflow we need the branch name</span></span><br><span class="line"><span class="comment"># use personal token to be able to query the branch by PR number</span></span><br><span class="line"><span class="comment"># https://github.com/bahmutov/get-branch-name-by-pr</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Find</span> <span class="string">the</span> <span class="string">PR</span> <span class="string">branch</span> <span class="string">name</span> <span class="string">üîé</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">bahmutov/get-branch-name-by-pr@v1</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">pr</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">repo-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">pr-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.issue.number</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>Similarly, we use the personal token to trigger the specific workflow for the &quot;cypress&quot; command</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Slash</span> <span class="string">Command</span> <span class="string">Dispatch</span></span><br><span class="line">  <span class="comment"># https://github.com/peter-evans/slash-command-dispatch</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">peter-evans/slash-command-dispatch@v3</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="comment"># use personal token to be able to trigger more workflows</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="comment"># the personal token to post the comment emoji</span></span><br><span class="line">    <span class="attr">reaction-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">permission:</span> <span class="string">none</span></span><br><span class="line">    <span class="attr">static-args:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      repository=$&#123;&#123; github.repository &#125;&#125;</span></span><br><span class="line"><span class="string">      comment-id=$&#123;&#123; github.event.comment.id &#125;&#125;</span></span><br><span class="line"><span class="string">      ref=$&#123;&#123; steps.pr.outputs.branch &#125;&#125;</span></span><br><span class="line"><span class="string"></span>    <span class="attr">commands:</span> <span class="string">|</span></span><br><span class="line">      <span class="string">cypress</span></span><br></pre></td></tr></table></figure>

<p>You can have multiple commands dispatched by this workflow, and they can even parse arguments. For example, I could trigger Cypress tests run against a new pull request, or measure its performance using <code>/lighthouse</code> command, following the blog post <a href="/blog/trying-lighthouse/" title="Trying Lighthouse">Trying Lighthouse</a>.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">commands:</span> <span class="string">|</span></span><br><span class="line"><span class="string">  cypress</span></span><br><span class="line"><span class="string">  lighthouse</span></span><br></pre></td></tr></table></figure>

<p>Ok, so let&#39;s trigger the Cypress command workflow. The dispatch workflow adds the comment id and triggers the actual <code>slash-command-cypress.yml</code> workflow</p>
<p><img src="../images/two-repos/dispatch.png" alt="The dispatch workflow execution"></p>
<p>If the workflow is found, the dispatch immediately adds two emoji reactions to the comment.</p>
<p><img src="../images/two-repos/found.png" alt="This reactions mean the command workflow was found and started"></p>
<h2><span id="todo-app-cypress-workflow">Todo-app: Cypress workflow</span></h2><p>We are still in the &quot;todo-app&quot; repository. We triggered the <code>slash-command-cypress.yml</code> workflow. You can find the current YAML code in <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app/blob/main/.github/workflows/slash-command-cypress.yml">slash-command-cypress.yml</a> and below:</p>
<figure class="highlight yml"><figcaption><span>.github/workflows/slash-command-cypress.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># this workflow runs when the user comments &quot;/cypress&quot; on a pull request</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Slash</span> <span class="string">Command</span> <span class="string">(Cypress)</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">cypress-command</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">read</span></span><br><span class="line">  <span class="attr">pull-requests:</span> <span class="string">write</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">launc-tests:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Launch</span> <span class="string">API</span> <span class="string">tests</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">event</span> <span class="string">üñ®Ô∏è</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo off</span></span><br><span class="line"><span class="string">          echo &#x27;$&#123;&#123; toJson(github.event.client_payload.slash_command) &#125;&#125;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Check</span> <span class="string">out</span> <span class="string">the</span> <span class="string">repo</span> <span class="string">üõéÔ∏è</span></span><br><span class="line">        <span class="comment"># https://github.com/actions/checkout</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># only check out one JS file</span></span><br><span class="line">          <span class="comment"># that we use to trigger workflow in the tests repo</span></span><br><span class="line">          <span class="attr">sparse-checkout:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            .github/workflows/trigger-cypress.js</span></span><br><span class="line"><span class="string"></span>          <span class="attr">sparse-checkout-cone-mode:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Trigger</span> <span class="string">Cypress</span> <span class="string">run</span></span><br><span class="line">        <span class="comment"># https://github.com/actions/github-script</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/github-script@v6</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">trigger</span></span><br><span class="line">        <span class="comment"># pass this repo&#x27;s name and PR number</span></span><br><span class="line">        <span class="comment"># plus the comment ID so the tests workflow can post results back</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">REPO_NAME:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.slash_command.args.named.repository</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">PR_NUMBER:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pull_request.number</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">REF:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.slash_command.args.named.ref</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">FEEDBACK_COMMENT_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.github.payload.comment.id</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># unfortunately we need to use a personal token to trigger</span></span><br><span class="line">          <span class="comment"># a workflow in another repo, cannot use just GITHUB_TOKEN</span></span><br><span class="line">          <span class="attr">github-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">script:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            const result = await require(&#x27;./.github/workflows/trigger-cypress.js&#x27;)(&#123; github, core &#125;);</span></span><br><span class="line"><span class="string">            return result;</span></span><br></pre></td></tr></table></figure>

<p>Let me explain what the workflow is doing step by step.</p>
<p>The workflow runs when triggered by the GitHub API with <code>repository_dispatch</code> event and <code>type=cypress-command</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">cypress-command</span>]</span><br></pre></td></tr></table></figure>

<p>This workflow needs to trigger a new run in another repo &quot;bahmutov&#x2F;todo-app-tests&quot;. A simple way to call GitHub API is to use the GitHub&#39;s own action <a target="_blank" rel="noopener" href="https://github.com/actions/github-script">actions&#x2F;github-script</a>. Since I put some logic into a Node.js script, which I will show in a second, I need to check out just the file <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app/blob/main/.github/workflows/trigger-cypress.js">.github&#x2F;workflows&#x2F;trigger-cypress.js</a>. This is the sparse checkout step:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Check</span> <span class="string">out</span> <span class="string">the</span> <span class="string">repo</span> <span class="string">üõéÔ∏è</span></span><br><span class="line">  <span class="comment"># https://github.com/actions/checkout</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="comment"># only check out one JS file</span></span><br><span class="line">    <span class="comment"># that we use to trigger workflow in the tests repo</span></span><br><span class="line">    <span class="attr">sparse-checkout:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      .github/workflows/trigger-cypress.js</span></span><br><span class="line"><span class="string"></span>    <span class="attr">sparse-checkout-cone-mode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>Now let&#39;s see what the dispatch workflow sent us in the payload. I am printing the object first</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">event</span> <span class="string">üñ®Ô∏è</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    echo off</span></span><br><span class="line"><span class="string">    echo &#x27;$&#123;&#123; toJson(github.event.client_payload.slash_command) &#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>For our run, it shows:</p>
<p><img src="../images/two-repos/named.png" alt="Cypress todo-app workflow was given parsed arguments by the dispatch workflow"></p>
<p>Great, so if we want to grab individual arguments, like the name of the branch, we can use expression to get the nested property <code>$&#123;&#123; github.event.client_payload.slash_command.args.named.ref &#125;&#125;</code>. We now call the script <code>trigger-cypress.js</code> and pass the individual values as environment variables:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Trigger</span> <span class="string">Cypress</span> <span class="string">run</span></span><br><span class="line">  <span class="comment"># https://github.com/actions/github-script</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/github-script@v6</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">trigger</span></span><br><span class="line">  <span class="comment"># pass this repo&#x27;s name and PR number</span></span><br><span class="line">  <span class="comment"># plus the comment ID so the tests workflow can post results back</span></span><br><span class="line">  <span class="attr">env:</span></span><br><span class="line">    <span class="attr">REPO_NAME:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.slash_command.args.named.repository</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">PR_NUMBER:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pull_request.number</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">REF:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.slash_command.args.named.ref</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">FEEDBACK_COMMENT_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.github.payload.comment.id</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="comment"># unfortunately we need to use a personal token to trigger</span></span><br><span class="line">    <span class="comment"># a workflow in another repo, cannot use just GITHUB_TOKEN</span></span><br><span class="line">    <span class="attr">github-token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">script:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      const result = await require(&#x27;./.github/workflows/trigger-cypress.js&#x27;)(&#123; github, core &#125;);</span></span><br><span class="line"><span class="string">      return result;</span></span><br></pre></td></tr></table></figure>

<p>Inside the script we can use GitHub wrapper objects that call the API methods using the personal token we passed.</p>
<figure class="highlight js"><figcaption><span>.github/workflows/trigger-cypress.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">&#123; github, core &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> payload = &#123;</span><br><span class="line">    <span class="comment">// the name of this repo</span></span><br><span class="line">    <span class="attr">repo</span>: process.<span class="property">env</span>.<span class="property">REPO_NAME</span>,</span><br><span class="line">    <span class="attr">pullRequestNumber</span>: process.<span class="property">env</span>.<span class="property">PR_NUMBER</span>,</span><br><span class="line">    <span class="attr">ref</span>: process.<span class="property">env</span>.<span class="property">REF</span>,</span><br><span class="line">    <span class="attr">feedbackCommentId</span>: process.<span class="property">env</span>.<span class="property">FEEDBACK_COMMENT_ID</span>,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  core.<span class="title function_">info</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// https://octokit.github.io/rest.js/v19#repos-create-dispatch-event</span></span><br><span class="line">    github.<span class="property">rest</span>.<span class="property">repos</span></span><br><span class="line">      .<span class="title function_">createDispatchEvent</span>(&#123;</span><br><span class="line">        <span class="attr">owner</span>: <span class="string">&#x27;bahmutov&#x27;</span>,</span><br><span class="line">        <span class="attr">repo</span>: <span class="string">&#x27;todo-app-tests&#x27;</span>,</span><br><span class="line">        <span class="attr">event_type</span>: <span class="string">&#x27;trigger-tests&#x27;</span>,</span><br><span class="line">        <span class="attr">client_payload</span>: payload,</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(&#123;</span><br><span class="line">          <span class="attr">status</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&#x27;‚úÖ Success&#x27;</span>,</span><br><span class="line">          payload,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        core.<span class="title function_">error</span>(<span class="string">`Failed to dispatch event:<span class="subst">$&#123;err&#125;</span>`</span>)</span><br><span class="line">        <span class="comment">// In order to send error message in the following steps, do not raise an error</span></span><br><span class="line">        <span class="title function_">resolve</span>(&#123;</span><br><span class="line">          <span class="attr">status</span>: <span class="string">&#x27;fail&#x27;</span>,</span><br><span class="line">          <span class="attr">message</span>: <span class="string">`‚ùå Error: <span class="subst">$&#123;err.message || <span class="string">&#x27;Unknown error&#x27;</span>&#125;</span>`</span>,</span><br><span class="line">          payload,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The action shows the parameters being passed to the repo <code>bahmutov/todo-app-tests</code> correctly</p>
<p><img src="../images/two-repos/params.png" alt="Trigger the workflow run in the tests repo"></p>
<p>Now we can shift our attention to the repo <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app-tests">bahmutov&#x2F;todo-app-tests</a> that runs the E2E tests.</p>
<h2><span id="todo-app-tests-trigger-workflow">Todo-app-tests: Trigger workflow</span></h2><p>Any external caller can trigger the tests run in our <code>todo-app-tests</code> repo by calling GitHub API and sending the <code>repository_dispatch</code> event with type <code>trigger-tests</code>. For details, see <a href="/blog/run-and-trigger-github-workflow/" title="Run And Trigger GitHub Workflow">Run And Trigger GitHub Workflow</a> blog post. Here is the full workflow <a target="_blank" rel="noopener" href="https://github.com/bahmutov/todo-app-tests/blob/main/.github/workflows/trigger.yml">.github&#x2F;workflows&#x2F;trigger.yml</a> that receives this event.</p>
<figure class="highlight yml"><figcaption><span>.github/workflows/trigger.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">trigger</span></span><br><span class="line"><span class="comment"># run this workflow on trigger or manually</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="comment"># trigger this workflow by calling GitHub API</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">trigger-tests</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">tests:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">variables</span> <span class="string">üñ®Ô∏è</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo &#x27;### Workflow info üñ®Ô∏è&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">          echo &#x27;PR number $&#123;&#123; github.event.client_payload.pullRequestNumber &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">          echo &#x27;original repo $&#123;&#123; github.event.client_payload.repo &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">          echo &#x27;original repo reference $&#123;&#123; github.event.client_payload.ref &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="comment"># quickly post the workflow URL back in the original repo PR</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Post</span> <span class="string">workflow</span> <span class="string">URL</span> <span class="string">üîó</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="comment"># https://github.com/peter-evans/create-or-update-comment</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peter-evans/create-or-update-comment@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># need a personal token to be able to post a comment back</span></span><br><span class="line">          <span class="comment"># in the original repo</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">comment-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">issue-number:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pullRequestNumber</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">body:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            Tests workflow at $&#123;&#123; github.server_url &#125;&#125;/$&#123;&#123; github.repository &#125;&#125;/actions/runs/$&#123;&#123; github.run_id &#125;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="comment"># check out both the app and the tests</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">this</span> <span class="string">repo</span> <span class="string">üõé</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">the</span> <span class="string">application</span> <span class="string">repo</span> <span class="string">üõé</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.ref</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">app</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">app</span> <span class="string">dependencies</span> <span class="string">üì¶</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">bahmutov/npm-install@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">working-directory:</span> <span class="string">app</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Start</span> <span class="string">the</span> <span class="string">application</span> <span class="string">üé¨</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          cd app</span></span><br><span class="line"><span class="string">          npm run start &amp;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">E2E</span> <span class="string">tests</span> <span class="string">üèÉüèª‚Äç‚ôÇÔ∏è</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">tests</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">cypress-io/github-action@v6</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Post</span> <span class="string">results</span> <span class="string">üì®</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">always()</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">peter-evans/create-or-update-comment@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># need a personal token to be able to post a comment back</span></span><br><span class="line">          <span class="comment"># in the original repo</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">comment-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">issue-number:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pullRequestNumber</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">body:</span> <span class="string">|</span></span><br><span class="line"><span class="string">            Tests result: $&#123;&#123; steps.tests.outcome &#125;&#125;</span></span><br><span class="line"><span class="string"></span>          <span class="attr">reactions:</span> <span class="string">|</span></span><br><span class="line">            <span class="string">$&#123;&#123;</span> <span class="string">steps.tests.outcome</span> <span class="string">==</span> <span class="string">&#x27;success&#x27;</span> <span class="string">&amp;&amp;</span> <span class="string">&#x27;hooray&#x27;</span> <span class="string">||</span> <span class="string">&#x27;-1&#x27;</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>When we triggered the workflow using our <code>/cypress</code> comment, it finished successfully.</p>
<p><img src="../images/two-repos/finished.png" alt="The tests workflow has finished"></p>
<p>There are several things this workflow does to make it developer-friendly in two repos.</p>
<p>It posts the main information with the parameters it has received:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">variables</span> <span class="string">üñ®Ô∏è</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    echo &#x27;### Workflow info üñ®Ô∏è&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">    echo &#x27;PR number $&#123;&#123; github.event.client_payload.pullRequestNumber &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">    echo &#x27;original repo $&#123;&#123; github.event.client_payload.repo &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br><span class="line"><span class="string">    echo &#x27;original repo reference $&#123;&#123; github.event.client_payload.ref &#125;&#125;&#x27; &gt;&gt; $GITHUB_STEP_SUMMARY</span></span><br></pre></td></tr></table></figure>

<p>This is what you see right away in the workflow summary</p>
<p><img src="../images/two-repos/summary.png" alt="Client payload params in the job summary"></p>
<p>Then it forms the browser URL to the workflow run that you see in the browser screenshot and appends it back to the original comment using the repo name and the comment id. It uses GitHub Action <a target="_blank" rel="noopener" href="https://github.com/peter-evans/create-or-update-comment">peter-evans&#x2F;create-or-update-comment</a> by the same person <a target="_blank" rel="noopener" href="https://github.com/peter-evans">Peter Evans</a> that wrote the slash comment dispatch action.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># quickly post the workflow URL back in the original repo PR</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Post</span> <span class="string">workflow</span> <span class="string">URL</span> <span class="string">üîó</span></span><br><span class="line">  <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="comment"># https://github.com/peter-evans/create-or-update-comment</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">peter-evans/create-or-update-comment@v3</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="comment"># need a personal token to be able to post a comment back</span></span><br><span class="line">    <span class="comment"># in the original repo</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">comment-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">issue-number:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pullRequestNumber</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">body:</span> <span class="string">|</span></span><br><span class="line">      <span class="string">Tests</span> <span class="string">workflow</span> <span class="string">at</span> <span class="string">$&#123;&#123;</span> <span class="string">github.server_url</span> <span class="string">&#125;&#125;/$&#123;&#123;</span> <span class="string">github.repository</span> <span class="string">&#125;&#125;/actions/runs/$&#123;&#123;</span> <span class="string">github.run_id</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>If you are looking at the pull request in the &quot;todo-app&quot; repo, you will see the tests workflow that you can click.</p>
<p><img src="../images/two-repos/url.png" alt="The tests workflow URL is appended to the original slash comment"></p>
<p>Then we need to check out the tests, the application code, and start the application. We will check out the application code using the branch reference name passed to us using <code>ref: $&#123;&#123; github.event.client_payload.ref &#125;&#125;</code> parameter.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check out both the app and the tests</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">this</span> <span class="string">repo</span> <span class="string">üõé</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">the</span> <span class="string">application</span> <span class="string">repo</span> <span class="string">üõé</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">ref:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.ref</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">app</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">app</span> <span class="string">dependencies</span> <span class="string">üì¶</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">bahmutov/npm-install@v1</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="attr">working-directory:</span> <span class="string">app</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Start</span> <span class="string">the</span> <span class="string">application</span> <span class="string">üé¨</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    cd app</span></span><br><span class="line"><span class="string">    npm run start &amp;</span></span><br></pre></td></tr></table></figure>

<p>Now that the application is running in the background, let&#39;s run Cypress tests</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">E2E</span> <span class="string">tests</span> <span class="string">üèÉüèª‚Äç‚ôÇÔ∏è</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">tests</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">cypress-io/github-action@v6</span></span><br></pre></td></tr></table></figure>

<p>I am assigning this step an id <code>tests</code> so that later we can refer to the outcome of the step. We want to post the result back in the original comment in the &quot;todo-app&quot; repository.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Post</span> <span class="string">results</span> <span class="string">üì®</span></span><br><span class="line">  <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">always()</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&amp;&amp;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="attr">uses:</span> <span class="string">peter-evans/create-or-update-comment@v3</span></span><br><span class="line">  <span class="attr">with:</span></span><br><span class="line">    <span class="comment"># need a personal token to be able to post a comment back</span></span><br><span class="line">    <span class="comment"># in the original repo</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.PERSONAL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">comment-id:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.feedbackCommentId</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">issue-number:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.pullRequestNumber</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.event.client_payload.repo</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">body:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      Tests result: $&#123;&#123; steps.tests.outcome &#125;&#125;</span></span><br><span class="line"><span class="string"></span>    <span class="attr">reactions:</span> <span class="string">|</span></span><br><span class="line">      <span class="string">$&#123;&#123;</span> <span class="string">steps.tests.outcome</span> <span class="string">==</span> <span class="string">&#x27;success&#x27;</span> <span class="string">&amp;&amp;</span> <span class="string">&#x27;hooray&#x27;</span> <span class="string">||</span> <span class="string">&#x27;-1&#x27;</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>The <code>steps.tests.outcome</code> can be &quot;success&quot;, &quot;failure&quot;, &quot;cancelled&quot;, or &quot;skipped&quot;. We are only interested in the &quot;success&quot; vs the others. In our case, the step succeeded, and thus we see in the comment the final status</p>
<p><img src="../images/two-repos/final.png" alt="The tests outcome posted as text and reaction"></p>
<p>Nice, this pull request is passing its tests.</p>
<p>In the next blog post I will describe how you can post a commit status back in the original repo. This way you can protected the branch and require the tests to pass before merging pull requests. Read the blog post <a href="/blog/set-commit-status-in-another-repo/" title="Set Commit Status In Another Repo">Set Commit Status In Another Repo</a>.</p>

      
    </div>

    
      <footer class="article-footer personal-links">
  <p>
    Follow Gleb Bahmutov <a target="_blank" rel="noopener" href="https://twitter.com/bahmutov">@bahmutov</a>,
    see his projects at <a href="https://glebbahmutov.com">glebbahmutov.com</a>,
    watch his Cypress <a target="_blank" rel="noopener" href="https://www.youtube.com/c/glebbahmutov/videos">videos</a>,
    browse his <a target="_blank" rel="noopener" href="https://slides.com/bahmutov">presentations</a>
  </p>
  <p>
    Want to know more about Cypress? Check out <a href="https://cypress.tips" target="_blank">cypress.tips</a>
  </p>
  <p>
    Have a Cypress question? Want me to answer it? Consider supporting me via <a target="_blank" rel="noopener" href="https://github.com/sponsors/bahmutov">GitHub Sponsors</a> or by purchasing my <a target="_blank" rel="noopener" href="https://cypress.tips/courses">Cypress courses</a>.
  </p>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/two-repo-github-actions-setup/" data-id="clxxclpom00kdchn7gxdv4g15" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/two-repo-github-actions-setup/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/cypress/" rel="tag">cypress</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/github/" rel="tag">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/testing/" rel="tag">testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../set-commit-status-in-another-repo/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Set Commit Status In Another Repo
        
      </div>
    </a>
  
  
    <a href="../test-refactoring/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Test Refactoring Example</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/climate/">climate</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">173</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">566</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="../tags/11ty/" rel="tag">11ty</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/" rel="tag">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/a11y/" rel="tag">a11y</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/" rel="tag">advice</a><span class="tag-list-count">120</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/algolia/" rel="tag">algolia</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/" rel="tag">angular</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/" rel="tag">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/" rel="tag">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/" rel="tag">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/" rel="tag">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/" rel="tag">browser</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/" rel="tag">ci</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/circle/" rel="tag">circle</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/climate/" rel="tag">climate</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/code-coverage/" rel="tag">code coverage</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/" rel="tag">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/" rel="tag">cypress</a><span class="tag-list-count">317</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress-dashboard/" rel="tag">cypress dashboard</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/" rel="tag">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/" rel="tag">db</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/" rel="tag">docker</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/documentation/" rel="tag">documentation</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/email/" rel="tag">email</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/" rel="tag">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/" rel="tag">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/" rel="tag">functional</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/" rel="tag">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/" rel="tag">git</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/github/" rel="tag">github</a><span class="tag-list-count">42</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/" rel="tag">graphql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/" rel="tag">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/" rel="tag">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hiring/" rel="tag">hiring</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/" rel="tag">hyperapp</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/" rel="tag">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/" rel="tag">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/" rel="tag">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">166</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/" rel="tag">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/model-based-testing/" rel="tag">model-based testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/" rel="tag">modular development</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/netlify/" rel="tag">netlify</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">85</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/" rel="tag">performance</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/" rel="tag">presentation</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/" rel="tag">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/" rel="tag">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react/" rel="tag">react</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react-native/" rel="tag">react native</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/" rel="tag">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/" rel="tag">reactjs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/renovate/" rel="tag">renovate</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/" rel="tag">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/" rel="tag">security</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/" rel="tag">sentry</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/state-machine/" rel="tag">state machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/" rel="tag">testing</a><span class="tag-list-count">194</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/" rel="tag">typescript</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/" rel="tag">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vercel/" rel="tag">vercel</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/visual-testing/" rel="tag">visual testing</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/" rel="tag">vuejs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/11ty/" style="font-size: 10.34px;">11ty</a> <a href="../tags/QUnit/" style="font-size: 11.38px;">QUnit</a> <a href="../tags/a11y/" style="font-size: 10.69px;">a11y</a> <a href="../tags/advice/" style="font-size: 18.97px;">advice</a> <a href="../tags/algolia/" style="font-size: 10.69px;">algolia</a> <a href="../tags/angular/" style="font-size: 10.69px;">angular</a> <a href="../tags/angularjs/" style="font-size: 17.93px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 12.76px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.41px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 14.48px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 15.52px;">browser</a> <a href="../tags/ci/" style="font-size: 17.24px;">ci</a> <a href="../tags/circle/" style="font-size: 14.48px;">circle</a> <a href="../tags/climate/" style="font-size: 14.83px;">climate</a> <a href="../tags/code-coverage/" style="font-size: 15.17px;">code coverage</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.07px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 20px;">cypress</a> <a href="../tags/cypress-dashboard/" style="font-size: 14.14px;">cypress dashboard</a> <a href="../tags/d3/" style="font-size: 10.69px;">d3</a> <a href="../tags/db/" style="font-size: 14.14px;">db</a> <a href="../tags/docker/" style="font-size: 13.79px;">docker</a> <a href="../tags/documentation/" style="font-size: 11.72px;">documentation</a> <a href="../tags/email/" style="font-size: 10.69px;">email</a> <a href="../tags/es6/" style="font-size: 14.14px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.28px;">functional</a> <a href="../tags/generators/" style="font-size: 11.38px;">generators</a> <a href="../tags/git/" style="font-size: 14.83px;">git</a> <a href="../tags/github/" style="font-size: 17.59px;">github</a> <a href="../tags/graphql/" style="font-size: 11.38px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.07px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.69px;">gulp</a> <a href="../tags/hiring/" style="font-size: 11.38px;">hiring</a> <a href="../tags/hyperapp/" style="font-size: 12.07px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.38px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.69px;">interview</a> <a href="../tags/jade/" style="font-size: 11.03px;">jade</a> <a href="../tags/javascript/" style="font-size: 19.31px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.69px;">jshint</a> <a href="../tags/markdown/" style="font-size: 13.45px;">markdown</a> <a href="../tags/model-based-testing/" style="font-size: 10px;">model-based testing</a> <a href="../tags/modular-development/" style="font-size: 16.21px;">modular development</a> <a href="../tags/netlify/" style="font-size: 11.03px;">netlify</a> <a href="../tags/nodejs/" style="font-size: 18.62px;">nodejs</a> <a href="../tags/performance/" style="font-size: 15.86px;">performance</a> <a href="../tags/presentation/" style="font-size: 12.07px;">presentation</a> <a href="../tags/promises/" style="font-size: 16.9px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.34px;">proposal</a> <a href="../tags/ramda/" style="font-size: 16.21px;">ramda</a> <a href="../tags/react/" style="font-size: 12.07px;">react</a> <a href="../tags/react-native/" style="font-size: 11.72px;">react native</a> <a href="../tags/reactive/" style="font-size: 13.79px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 11.38px;">reactjs</a> <a href="../tags/renovate/" style="font-size: 11.38px;">renovate</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 13.45px;">security</a> <a href="../tags/sentry/" style="font-size: 13.45px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 11.72px;">service workers</a> <a href="../tags/state-machine/" style="font-size: 10px;">state machine</a> <a href="../tags/testing/" style="font-size: 19.66px;">testing</a> <a href="../tags/tutorial/" style="font-size: 16.55px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 12.76px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.34px;">ui</a> <a href="../tags/vercel/" style="font-size: 13.1px;">vercel</a> <a href="../tags/visual-testing/" style="font-size: 11.38px;">visual testing</a> <a href="../tags/vuejs/" style="font-size: 11.38px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 11.72px;">web workers</a> <a href="../tags/webpack/" style="font-size: 10.69px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/06/">June 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/04/">April 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/03/">March 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/02/">February 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2024/01/">January 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/12/">December 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/11/">November 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/10/">October 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/09/">September 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/08/">August 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/07/">July 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/06/">June 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/05/">May 2023</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/04/">April 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/03/">March 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/02/">February 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2023/01/">January 2023</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/12/">December 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/11/">November 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/10/">October 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/09/">September 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/08/">August 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/07/">July 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/06/">June 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/05/">May 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/04/">April 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/12/">December 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/11/">November 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/10/">October 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/09/">September 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/08/">August 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/07/">July 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/06/">June 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/05/">May 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/04/">April 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/03/">March 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/01/">January 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/11/">November 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/03/">March 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/03/">March 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/01/">January 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/09/">September 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../how-to-pick-cypress-plugins/">How To Pick Cypress Plugins You Can Trust</a>
          </li>
        
          <li>
            <a href="../pass-cypress-info-via-request-headers/">Pass Cypress Test Info Via Request Headers</a>
          </li>
        
          <li>
            <a href="../cypress-alias-documentation/">Cypress Alias Documentation Trick</a>
          </li>
        
          <li>
            <a href="../flaky-iframe-test/">Flaky IFrame Online Store Test</a>
          </li>
        
          <li>
            <a href="../test-apps-that-use-central-state/">Cypress Tests For Apps That Use Central State</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/two-repo-github-actions-setup/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="../fancybox/jquery.fancybox.css">

  
<script src="../fancybox/jquery.fancybox.pack.js"></script>




<script src="../js/script.js"></script>


  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
