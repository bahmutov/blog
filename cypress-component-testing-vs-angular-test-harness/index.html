<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Cypress Component Testing vs Angular Test Harness | Better world by better software</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Yesterday I have attended DevReach Boston conference. I got a chance to sit and listen to Alisa Duncan presentation &quot;Angular Component Test Harnesses FTW&quot;. In her presentation Alisa compared">
<meta property="og:type" content="article">
<meta property="og:title" content="Cypress Component Testing vs Angular Test Harness">
<meta property="og:url" content="https://glebbahmutov.com/blog/cypress-component-testing-vs-angular-test-harness/index.html">
<meta property="og:site_name" content="Better world by better software">
<meta property="og:description" content="Yesterday I have attended DevReach Boston conference. I got a chance to sit and listen to Alisa Duncan presentation &quot;Angular Component Test Harnesses FTW&quot;. In her presentation Alisa compared">
<meta property="og:locale">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/vs.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/desktop.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/nav-test.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/visible.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/nav-full-test.gif">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/spies.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/nav-tests.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/email.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/email-enter.gif">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/mount-template.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/add.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/email-tests.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/add-comment1.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/empty-comment.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/add-comment-tests.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/list-dramas.png">
<meta property="og:image" content="https://glebbahmutov.com/blog/images/ng-components/one-drama.png">
<meta property="article:published_time" content="2022-09-15T04:00:00.000Z">
<meta property="article:modified_time" content="2022-10-25T14:09:40.764Z">
<meta property="article:author" content="Gleb Bahmutov">
<meta property="article:tag" content="testing">
<meta property="article:tag" content="cypress">
<meta property="article:tag" content="angular">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://glebbahmutov.com/blog/images/ng-components/vs.png">
<meta name="twitter:creator" content="@bahmutov">
  
    <link rel="alternative" href="/blog/atom.xml" title="Better world by better software" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="preload" href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" as="style">
  
<link rel="stylesheet" href="../css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59999353-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-titles">
      <div id="header-title" class="inner">
        <h1 id="logo-wrap">
          <a href="../index.html" id="logo">Better world by better software</a>
        </h1>
        <!--
        
        -->
        <!-- <span class="no-mobile">Software advice from</span> -->
        <h2 id="subtitle-wrap">
          <span class="subtitle">
            <a id="subtitle" href="https://glebbahmutov.com">Gleb Bahmutov PhD</a>
            <a id="nav-house-link" class="nav-icon" href="/" title="Home"></a>
            
              <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
            
            <a id="nav-search-btn" class="nav-icon" title="Search"></a>
            <div id="search-form-wrap">
              <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://glebbahmutov.com/blog"></form>
            </div>
          </span>
        </h2>

      </div>
    </div>
    <div id="climate-crisis">
      <h2>Our planet üåè is in danger</h2>
      <h3>Act today: <a href="/blog/climate-emergency/">what you can do</a></h3>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-cypress-component-testing-vs-angular-test-harness" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="" class="article-date">
  <time datetime="2022-09-15T04:00:00.000Z" itemprop="datePublished">Sep 15 2022</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="../categories/products/">products</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Cypress Component Testing vs Angular Test Harness
    </h1>

    <h2 class="article-title" itemprop="name">
      A few Angular component test examples comparing Cypress and test harness.
    </h2>

  


      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Yesterday I have attended DevReach Boston conference. I got a chance to sit and listen to <a target="_blank" rel="noopener" href="https://twitter.com/AlisaDuncan">Alisa Duncan</a> presentation &quot;<a target="_blank" rel="noopener" href="https://componentharnessesftw.alisaduncan.dev/">Angular Component Test Harnesses FTW</a>&quot;. In her presentation Alisa compared Angular component tests using TestBed vs <a target="_blank" rel="noopener" href="https://dev.to/this-is-angular/create-a-component-harness-for-your-tests-with-angular-cdk-46bg">TestBed + Test harnesses</a>. For comparison, here is the code for testing the navigation component.</p>
<p><img src="../images/ng-components/vs.png" alt="Plain TestBed vs Harness plus TestBed tests"></p>
<blockquote class="pullquote"><p>üéÅ You can find these tests in the repo <a target="_blank" rel="noopener" href="https://github.com/bahmutov/component-harness-ftw-code">bahmutov&#x2F;component-harness-ftw-code</a> that I forked from <a target="_blank" rel="noopener" href="https://github.com/alisaduncan/component-harness-ftw-code">alisaduncan&#x2F;component-harness-ftw-code</a>.</p>
</blockquote>

<p>Ok. Even with the harness, writing component tests is not going to be easy. Yes, the interactions with the component are abstracted away a little into the harness, but it is still <em>a lot</em> of boilerplate code just to get the component mounted. There must be a better way. Luckily, I just came from ng-conf conference, where I taught Cypress testing workshop, including the recently released <a target="_blank" rel="noopener" href="https://www.cypress.io/blog/2022/08/15/cypress-10-5-0-introducing-angular-component-testing/">Cypress Angular Component Testing</a>. Can we try writing Cypress Ng component tests? The existing example tests for the Navigation component test the following:</p>
<ul>
<li>component mounts</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;should create&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">expect</span>(component).<span class="title function_">toBeTruthy</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>component shows Home and Log In by default</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;should show \&#x27;HOME\&#x27; and \&#x27;LOG IN\&#x27; when user is not signed in&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  (<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(signinServiceSpy, <span class="string">&#x27;isLoggedIn&#x27;</span>)?.<span class="property">get</span> <span class="keyword">as</span> jasmine.<span class="property">Spy</span>).<span class="property">and</span>.<span class="title function_">returnValue</span>(<span class="literal">false</span>);</span><br><span class="line">  fixture.<span class="title function_">detectChanges</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> buttonEls = <span class="keyword">await</span> loader.<span class="title function_">getAllHarnesses</span>(<span class="title class_">MatButtonHarness</span>);</span><br><span class="line">  <span class="title function_">expect</span>(buttonEls).<span class="title function_">toHaveSize</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> buttonTexts = <span class="keyword">await</span> <span class="title function_">parallel</span>(<span class="function">() =&gt;</span> buttonEls.<span class="title function_">map</span>(<span class="function"><span class="params">btn</span> =&gt;</span> btn.<span class="title function_">getText</span>()));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> expected = [<span class="string">&#x27;HOME&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>];</span><br><span class="line">  <span class="title function_">expect</span>(buttonTexts).<span class="title function_">toEqual</span>(expected);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>component shows three buttons when logged in</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;should show \&#x27;HOME\&#x27;, \&#x27;PROFILE\&#x27;, and \&#x27;LOG OUT\&#x27; when user is signed in&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  (<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(signinServiceSpy, <span class="string">&#x27;isLoggedIn&#x27;</span>)?.<span class="property">get</span> <span class="keyword">as</span> jasmine.<span class="property">Spy</span>).<span class="property">and</span>.<span class="title function_">returnValue</span>(<span class="literal">true</span>);</span><br><span class="line">  fixture.<span class="title function_">detectChanges</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> buttonEls = <span class="keyword">await</span> loader.<span class="title function_">getAllHarnesses</span>(<span class="title class_">MatButtonHarness</span>);</span><br><span class="line">  <span class="title function_">expect</span>(buttonEls).<span class="title function_">toHaveSize</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="keyword">const</span> buttonTexts = <span class="keyword">await</span> <span class="title function_">parallel</span>(<span class="function">() =&gt;</span> buttonEls.<span class="title function_">map</span>(<span class="function"><span class="params">btn</span> =&gt;</span> btn.<span class="title function_">getText</span>()));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> expected = [<span class="string">&#x27;HOME&#x27;</span>, <span class="string">&#x27;PROFILE&#x27;</span>, <span class="string">&#x27;LOG OUT&#x27;</span>];</span><br><span class="line">  <span class="title function_">expect</span>(buttonTexts).<span class="title function_">toEqual</span>(expected);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Let&#39;s do it.</p>
<h2><span id="installation">Installation</span></h2><p>The Angular project is using v14.1.0 which is automatically picked up by Cypress, so there is nothing to install. The config is pretty much the standard</p>
<figure class="highlight ts"><figcaption><span>cypress.config.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&quot;cypress&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">component</span>: &#123;</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="attr">framework</span>: <span class="string">&quot;angular&quot;</span>,</span><br><span class="line">      <span class="attr">bundler</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">specPattern</span>: <span class="string">&quot;**/*.cy.ts&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/desktop.png" alt="Cypress E2E and Component Test intro screen"></p>
<h2><span id="the-first-navigation-test">The first navigation test</span></h2><p>Let&#39;s see if we can mount the component following the <a target="_blank" rel="noopener" href="https://docs.cypress.io/guides/component-testing/quickstart-angular">Cypress Angular documentation</a>. Right next to the component we can create a spec file. We will import the component itself and use the <code>cy.mount</code> command to put the component onto the page.</p>
<figure class="highlight ts"><figcaption><span>src/app/nav/nav.component.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NavComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./nav.component&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;NavComponent&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;should create and show the links&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    cy.<span class="title function_">mount</span>(<span class="title class_">NavComponent</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Click on the new spec file and run the test.</p>
<p><img src="../images/ng-components/nav-test.png" alt="Cypress component test mounts the navigation component"></p>
<p>It cannot be this easy, can it?! Let&#39;s confirm the buttons &#x2F; links are visible.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">mount</span>(<span class="title class_">NavComponent</span>)</span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/visible.png" alt="The expected links are visible"></p>
<p>Notice that once the component is mounted, we can use the standard <a target="_blank" rel="noopener" href="https://on.cypress.io/api">Cypress commands</a> to interact with the page. No special commands, abstractions, or adaptors needed.</p>
<p>Let&#39;s see if our component is working. Let&#39;s see what happens if we click on the &quot;Log in&quot; button. I added <code>.wait(1000)</code> just to make the GIF clearly show each step.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;should create and show the links&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">mount</span>(<span class="title class_">NavComponent</span>)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>).<span class="title function_">wait</span>(<span class="number">1000</span>).<span class="title function_">click</span>()</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;PROFILE&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG OUT&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>).<span class="title function_">wait</span>(<span class="number">1000</span>).<span class="title function_">click</span>()</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Our component is working!</p>
<p><img src="../images/ng-components/nav-full-test.gif" alt="The Nav component is working as expected"></p>
<h2><span id="spying-on-the-signin-service">Spying on the Signin Service</span></h2><p>Ok, the original tests also confirmed the SigninService worked. Well, they just stubbed it, so not really confirming it. We want to check if the SigninService is receiving the expected calls from the Navigation component when we click on the &quot;Log in&quot; and &quot;Log out&quot; buttons.</p>
<figure class="highlight ts"><figcaption><span>src/app/nav/nav.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// templates and styles</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">NavComponent</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> signinService: SigninService</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">login</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">signinService</span>.<span class="title function_">login</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">logout</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">signinService</span>.<span class="title function_">logout</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight ts"><figcaption><span>src/app/signin.service.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">  <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">SigninService</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> isLoggedInState = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">get</span> <span class="title function_">isLoggedIn</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isLoggedInState</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">login</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isLoggedInState</span> = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">logout</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isLoggedInState</span> = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let&#39;s update our test. The <code>NavComponent</code> gets an instance of the service via its props. The test can create an instance and pass it. The <code>cy.mount</code> command has options for that.</p>
<figure class="highlight ts"><figcaption><span>src/app/nav/nav.component.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NavComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./nav.component&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">SigninService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../signin.service&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;NavComponent&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;should create and show the links&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> signinService = <span class="keyword">new</span> <span class="title class_">SigninService</span>()</span><br><span class="line">    cy.<span class="title function_">spy</span>(signinService, <span class="string">&#x27;login&#x27;</span>).<span class="title function_">as</span>(<span class="string">&#x27;login&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">spy</span>(signinService, <span class="string">&#x27;logout&#x27;</span>).<span class="title function_">as</span>(<span class="string">&#x27;logout&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">mount</span>(<span class="title class_">NavComponent</span>, &#123;</span><br><span class="line">      <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">        signinService,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>).<span class="title function_">wait</span>(<span class="number">1000</span>).<span class="title function_">click</span>()</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;@login&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.been.called&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;PROFILE&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG OUT&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>).<span class="title function_">wait</span>(<span class="number">1000</span>).<span class="title function_">click</span>()</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;@logout&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.been.called&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;HOME&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;LOG IN&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>We can see the confirmed calls to the service in the Command Log left column.</p>
<p><img src="../images/ng-components/spies.png" alt="The full NavComponent test"></p>
<p>Ughh, this is seriously nice. Let&#39;s compare it to the original TestBed test variants.</p>
<p><img src="../images/ng-components/nav-tests.png" alt="TestBed vs Cypress component test"></p>
<h2><span id="email-subscription-component-tests">Email subscription component tests</span></h2><p>Maybe the navigation component is a weird case especially suitable for Cypress component testing. Let&#39;s look at the EmailSubscriptionComponent. The test harness mounts the component and lists a series of imports.</p>
<figure class="highlight ts"><figcaption><span>src/app/profile/email-subscription.component.with-harness.spec.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> <span class="title class_">TestBed</span>.<span class="title function_">configureTestingModule</span>(&#123;</span><br><span class="line">  <span class="attr">declarations</span>: [ <span class="title class_">EmailSubscriptionComponent</span> ],</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">NoopAnimationsModule</span>,</span><br><span class="line">    <span class="title class_">FormsModule</span>,</span><br><span class="line">    <span class="title class_">MatFormFieldModule</span>,</span><br><span class="line">    <span class="title class_">MatInputModule</span>,</span><br><span class="line">    <span class="title class_">MatSlideToggleModule</span>,</span><br><span class="line">    <span class="title class_">MatButtonModule</span>,</span><br><span class="line">    <span class="title class_">MatIconModule</span></span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">compileComponents</span>();</span><br></pre></td></tr></table></figure>

<p>Ok, we can mount the component pretty much in the same way - Cypress component <code>cy.mount</code> for Angular is using the TestBed under the hood!</p>
<figure class="highlight ts"><figcaption><span>src/app/profile/email-subscription.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;EmailSubscriptionComponent&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;works&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    cy.<span class="title function_">mount</span>(<span class="title class_">EmailSubscriptionComponent</span>, &#123;</span><br><span class="line">      <span class="attr">imports</span>: [</span><br><span class="line">        <span class="title class_">NoopAnimationsModule</span>,</span><br><span class="line">        <span class="title class_">FormsModule</span>,</span><br><span class="line">        <span class="title class_">MatFormFieldModule</span>,</span><br><span class="line">        <span class="title class_">MatInputModule</span>,</span><br><span class="line">        <span class="title class_">MatSlideToggleModule</span>,</span><br><span class="line">        <span class="title class_">MatButtonModule</span>,</span><br><span class="line">        <span class="title class_">MatIconModule</span>,</span><br><span class="line">      ],</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>We can see the component on the page. Hmm, not sure why the &quot;+&quot; icon is showing up as &quot;add&quot; but let&#39;s skip this problem for now.</p>
<p><img src="../images/ng-components/email.png" alt="Mounted EmailSubscription component"></p>
<p>Let&#39;s check the slider: it should be disabled until we enter an email.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">mount</span>(<span class="title class_">EmailSubscriptionComponent</span>, &#123;</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">NoopAnimationsModule</span>,</span><br><span class="line">    <span class="title class_">FormsModule</span>,</span><br><span class="line">    <span class="title class_">MatFormFieldModule</span>,</span><br><span class="line">    <span class="title class_">MatInputModule</span>,</span><br><span class="line">    <span class="title class_">MatSlideToggleModule</span>,</span><br><span class="line">    <span class="title class_">MatButtonModule</span>,</span><br><span class="line">    <span class="title class_">MatIconModule</span>,</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=email]&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;email@email.email&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.enabled&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/email-enter.gif" alt="Enter an email and the toggle element is enabled"></p>
<p>Ok, the component also emits the entered email when the user clicks the &quot;add&quot; button. Does this work?</p>
<figure class="highlight ts"><figcaption><span>src/app/profile/email-subscription.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">EmailSubscriptionComponent</span> &#123;</span><br><span class="line">  <span class="meta">@Output</span>() <span class="attr">emailSubscription</span>: <span class="title class_">EventEmitter</span>&lt;<span class="title class_">EmailSubscription</span>&gt; = <span class="keyword">new</span> <span class="title class_">EventEmitter</span>&lt;<span class="title class_">EmailSubscription</span>&gt;();</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">email</span>: <span class="built_in">string</span>|<span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">public</span> isSubscribed = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">onEmailSubscriptionChange</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">emailSubscription</span>.<span class="title function_">emit</span>(&#123;<span class="attr">email</span>: <span class="variable language_">this</span>.<span class="property">email</span>, <span class="attr">subscribe</span>: <span class="variable language_">this</span>.<span class="property">isSubscribed</span>&#125; <span class="keyword">as</span> <span class="title class_">EmailSubscription</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let&#39;s see how this component is used in the application. It is used by the Profile component like this:</p>
<figure class="highlight html"><figcaption><span>src/app/profile/profile.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;my-9 bg-zinc-50 border border-slate-400 rounded-lg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">app-email-subscription</span> (<span class="attr">emailSubscription</span>)=<span class="string">&quot;onEmailSubscription($event)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">app-email-subscription</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Ok, let&#39;s do the same thing. Instead of mounting the component instance, we will mount a template snippet</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;works&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;my-9 bg-zinc-50 border border-slate-400 rounded-lg&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;app-email-subscription (emailSubscription)=&quot;onEmailSubscription($event)&quot;&gt;&lt;/app-email-subscription&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">  cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">    <span class="attr">declarations</span>: [<span class="title class_">EmailSubscriptionComponent</span>],</span><br><span class="line">    <span class="attr">imports</span>: [</span><br><span class="line">      <span class="title class_">NoopAnimationsModule</span>,</span><br><span class="line">      <span class="title class_">FormsModule</span>,</span><br><span class="line">      <span class="title class_">MatFormFieldModule</span>,</span><br><span class="line">      <span class="title class_">MatInputModule</span>,</span><br><span class="line">      <span class="title class_">MatSlideToggleModule</span>,</span><br><span class="line">      <span class="title class_">MatButtonModule</span>,</span><br><span class="line">      <span class="title class_">MatIconModule</span>,</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=email]&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;email@email.email&#x27;</span>)</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.enabled&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/mount-template.png" alt="Mount template with the component"></p>
<p>But we still need to pass a function stub as <code>(emailSubscription)=&quot;onEmailSubscription($event)&quot;</code> for the component to call when the test clicks the &quot;Add&quot; button.</p>
<figure class="highlight ts"><figcaption><span>src/app/profile/email-subscription.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">  <span class="attr">declarations</span>: [<span class="title class_">EmailSubscriptionComponent</span>],</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">NoopAnimationsModule</span>,</span><br><span class="line">    <span class="title class_">FormsModule</span>,</span><br><span class="line">    <span class="title class_">MatFormFieldModule</span>,</span><br><span class="line">    <span class="title class_">MatInputModule</span>,</span><br><span class="line">    <span class="title class_">MatSlideToggleModule</span>,</span><br><span class="line">    <span class="title class_">MatButtonModule</span>,</span><br><span class="line">    <span class="title class_">MatIconModule</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">    <span class="attr">onEmailSubscription</span>: cy.<span class="title function_">stub</span>().<span class="title function_">as</span>(<span class="string">&#x27;onEmailSubscription&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> email = <span class="string">&#x27;email@email.email&#x27;</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=email]&#x27;</span>).<span class="title function_">type</span>(email)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input:checkbox[role=switch]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.enabled&#x27;</span>)</span><br><span class="line"><span class="comment">// needs a better selector</span></span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;add_box&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;@onEmailSubscription&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.calledOnceWithExactly&#x27;</span>, &#123;</span><br><span class="line">  email,</span><br><span class="line">  <span class="attr">subscribe</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>We use <a target="_blank" rel="noopener" href="https://on.cypress.io/stub">cy.stub</a> to create and pass a Sinon.js stub function as a prop to the component. After clicking on the Add button we confirm that stub was called with expected arguments.</p>
<p><img src="../images/ng-components/add.png" alt="The email subscribe prop was called correctly"></p>
<p>Let&#39;s compare this test to the original TestBed vs TestBed + test harness specs.</p>
<p><img src="../images/ng-components/email-tests.png" alt="The three tests checking the EmailSubscription component"></p>
<p>I know which one I like.</p>
<h2><span id="add-comment-component-test">Add comment component test</span></h2><p>Let&#39;s confirm the <code>AddCommentComponent</code> test works. First, the happy path test</p>
<figure class="highlight ts"><figcaption><span>src/app/shared/comment/add-comment.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AddCommentComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./add-comment.component&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FormsModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/forms&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;AddCommentComponent&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;submits a comment&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;app-add-comment (comment)=&quot;onCommented($event)&quot;&gt;&lt;/app-add-comment&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">      <span class="attr">declarations</span>: [<span class="title class_">AddCommentComponent</span>],</span><br><span class="line">      <span class="attr">imports</span>: [<span class="title class_">FormsModule</span>],</span><br><span class="line">      <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">        <span class="attr">onCommented</span>: cy.<span class="title function_">stub</span>().<span class="title function_">as</span>(<span class="string">&#x27;onCommented&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> comment = <span class="string">&#x27;TEST TEST&#x27;</span></span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">type</span>(comment)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>)</span><br><span class="line">      <span class="comment">// cy.click only works if the button is no longer disabled</span></span><br><span class="line">      .<span class="title function_">click</span>()</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;@onCommented&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.calledOnceWithExactly&#x27;</span>, comment)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/add-comment1.png" alt="The comment is added"></p>
<p>Next, the edge case - the user should not be able to add a comment with just space characters. Let&#39;s copy &#x2F; paste our previous test</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;does not allow empty comments&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;app-add-comment (comment)=&quot;onCommented($event)&quot;&gt;&lt;/app-add-comment&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">  cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">    <span class="attr">declarations</span>: [<span class="title class_">AddCommentComponent</span>],</span><br><span class="line">    <span class="attr">imports</span>: [<span class="title class_">FormsModule</span>],</span><br><span class="line">    <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">      <span class="attr">onCommented</span>: cy.<span class="title function_">stub</span>().<span class="title function_">as</span>(<span class="string">&#x27;onCommented&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">const</span> comment = <span class="string">&#x27;    &#x27;</span></span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">type</span>(comment)</span><br><span class="line">  cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;@onCommented&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.calledOnceWithExactly&#x27;</span>, comment)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Hmm, the test happily passes, the component simply accepts the comments with just spaces. It does not throw any errors.</p>
<p><img src="../images/ng-components/empty-comment.png" alt="An empty comment is added"></p>
<p>Hmm, the test harness example shows the following unhappy path test:</p>
<figure class="highlight ts"><figcaption><span>src/app/shared/comment/testing/add-comment-harness.spec.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;should throw when an invalid comment is added&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="keyword">await</span> loader.<span class="title function_">getHarness</span>(<span class="title class_">AddCommentHarness</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">expectAsync</span>(el.<span class="title function_">setComment</span>(<span class="string">&#x27;     &#x27;</span>)).<span class="title function_">toBeRejectedWithError</span>(<span class="string">&#x27;Comment is invalid&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Where and how does it get &quot;Comment is invalid&quot; error? If we do a text search in the project, we find the custom component harness file</p>
<figure class="highlight ts"><figcaption><span>src/app/shared/comment/testing/add-comment-harness.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">async</span> <span class="title function_">setComment</span>(<span class="attr">comment</span>: <span class="built_in">string</span>): <span class="title class_">Promise</span>&lt;<span class="built_in">void</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (comment.<span class="title function_">trim</span>() === <span class="string">&#x27;&#x27;</span>) <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Comment is invalid&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> input = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">_commentInput</span>();</span><br><span class="line">  <span class="keyword">await</span> input.<span class="title function_">clear</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> input.<span class="title function_">sendKeys</span>(comment);</span><br><span class="line">  <span class="keyword">await</span> input.<span class="title function_">setInputValue</span>(comment);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>So it is NOT the production component code checking if the comment is all blank spaces. It is our test code... Hmm. This is my argument against using PageObject in general. By adding logic here, we suddenly created a problem and unexpected behavior that is NOT part of the application. Keep it simple. If you use PageObjects, use them for simple consistent access to the page, and not for places to hide the bugs.</p>
<p>Ok, let&#39;s refactor our spec a little.</p>
<figure class="highlight ts"><figcaption><span>src/app/shared/comment/add-comment.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AddCommentComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./add-comment.component&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FormsModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/forms&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;AddCommentComponent&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;app-add-comment (comment)=&quot;onCommented($event)&quot;&gt;&lt;/app-add-comment&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">      <span class="attr">declarations</span>: [<span class="title class_">AddCommentComponent</span>],</span><br><span class="line">      <span class="attr">imports</span>: [<span class="title class_">FormsModule</span>],</span><br><span class="line">      <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">        <span class="attr">onCommented</span>: cy.<span class="title function_">stub</span>().<span class="title function_">as</span>(<span class="string">&#x27;onCommented&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;submits a comment&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> comment = <span class="string">&#x27;TEST TEST&#x27;</span></span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">type</span>(comment)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>)</span><br><span class="line">      <span class="comment">// cy.click only works if the button is no longer disabled</span></span><br><span class="line">      .<span class="title function_">click</span>()</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;@onCommented&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.calledOnceWithExactly&#x27;</span>, comment)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;does not allow empty comments&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> comment = <span class="string">&#x27;    &#x27;</span></span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=text]&#x27;</span>).<span class="title function_">type</span>(comment)</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;button&#x27;</span>, <span class="string">&#x27;Add&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">    cy.<span class="title function_">get</span>(<span class="string">&#x27;@onCommented&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.calledOnceWithExactly&#x27;</span>, comment)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>Let&#39;s compare the code with the test harness variant (including the custom component test harness).</p>
<p><img src="../images/ng-components/add-comment-tests.png" alt="Test harness tests vs Cypress component tests for AddComment component"></p>
<p>Happy component testing!</p>
<blockquote class="pullquote"><p>üéì You can find a lot of component testing examples for different frameworks from Cypress team in the repo <a target="_blank" rel="noopener" href="https://github.com/cypress-io/cypress-component-testing-examples">cypress-io&#x2F;cypress-component-testing-examples</a>.</p>
</blockquote>

<h2><span id="update-1-testing-input-component">Update 1: testing Input component</span></h2><p>One of the components uses the <code>@Input</code> to get an object from the outer component.</p>
<figure class="highlight ts"><figcaption><span>src/app/dramas/drama.component.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span>, <span class="title class_">Input</span>, <span class="title class_">OnInit</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Drama</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../models/dramas&#x27;</span>;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">DramaComponent</span> <span class="keyword">implements</span> <span class="title class_">OnInit</span> &#123;</span><br><span class="line">  <span class="meta">@Input</span>() <span class="keyword">public</span> drama!: <span class="title class_">Drama</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line">  <span class="title function_">ngOnInit</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let&#39;s write a test for it - let&#39;s mount a list of dramas</p>
<figure class="highlight ts"><figcaption><span>src/app/dramas/drama.component.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">DramaService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./../drama.service&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">DramaComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./drama.component&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Drama</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../models/dramas&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dramaService = <span class="keyword">new</span> <span class="title class_">DramaService</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="attr">dramas</span>: <span class="title class_">Drama</span>[] = dramaService.<span class="title function_">getDramas</span>()</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;shows list of dramas&#x27;</span>, &#123; <span class="attr">viewportHeight</span>: <span class="number">1000</span>, <span class="attr">viewportWidth</span>: <span class="number">600</span> &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> template =</span><br><span class="line">    <span class="string">&#x27;&lt;app-drama *ngFor=&quot;let d of dramas&quot; [drama]=&quot;d&quot;&gt;&lt;/app-drama&gt;&#x27;</span></span><br><span class="line">  cy.<span class="title function_">mount</span>(template, &#123;</span><br><span class="line">    <span class="attr">declarations</span>: [<span class="title class_">DramaComponent</span>],</span><br><span class="line">    <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">      <span class="attr">dramas</span>: dramas,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>The list shows up</p>
<p><img src="../images/ng-components/list-dramas.png" alt="Testing a list of dramas"></p>
<p>Or we can test a single Drama component and pass a single component property &quot;drama&quot;</p>
<figure class="highlight ts"><figcaption><span>src/app/dramas/drama.component.cy.ts</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">DramaService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./../drama.service&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">DramaComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./drama.component&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Drama</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../models/dramas&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dramaService = <span class="keyword">new</span> <span class="title class_">DramaService</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="attr">dramas</span>: <span class="title class_">Drama</span>[] = dramaService.<span class="title function_">getDramas</span>()</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;shows one drama&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">mount</span>(<span class="title class_">DramaComponent</span>, &#123;</span><br><span class="line">    <span class="attr">componentProperties</span>: &#123;</span><br><span class="line">      <span class="attr">drama</span>: dramas[<span class="number">0</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="../images/ng-components/one-drama.png" alt="Testing a single Drama component"></p>

      
    </div>

    
      <footer class="article-footer personal-links">
  <p>
    Follow Gleb Bahmutov <a target="_blank" rel="noopener" href="https://twitter.com/bahmutov">@bahmutov</a>,
    see his projects at <a href="https://glebbahmutov.com">glebbahmutov.com</a>,
    watch his Cypress <a target="_blank" rel="noopener" href="https://www.youtube.com/c/glebbahmutov/videos">videos</a>,
    browse his <a target="_blank" rel="noopener" href="https://slides.com/bahmutov">presentations</a>
  </p>
  <p>
    Want to know more about Cypress? Check out <a href="https://cypress.tips" target="_blank">cypress.tips</a>
  </p>
  <p>
    Have a Cypress question? Want me to answer it? Consider supporting me via <a target="_blank" rel="noopener" href="https://github.com/sponsors/bahmutov">GitHub Sponsors</a> or by purchasing my <a target="_blank" rel="noopener" href="https://cypress.tips/courses">Cypress courses</a>.
  </p>
</footer>
<script src="https://rawgit.com/toddmotto/linkjuice/702066a37124081e7ad1a972844a9a91115be05a/dist/linkjuice.js"></script>
<script>
function contentFn (node, icon) {
  const s = '<a href="#' + node.id + '" class="linkjuice">' +
    node.innerHTML + ' ' + icon + '</a>\n'
  return s
}
linkjuice.init('.article-entry', {
  selectors: ['h2 span'],
  icon: '<span class="link-symbol">#</span>',
  contentFn: contentFn
});
</script>

    

    <footer class="article-footer">
      <a data-url="https://glebbahmutov.com/blog/cypress-component-testing-vs-angular-test-harness/" data-id="cla4ete3s003ul2vgbg0whik9" class="article-share-link">Share</a>
      
        <a href="https://glebbahmutov.com/blog/cypress-component-testing-vs-angular-test-harness/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/angular/" rel="tag">angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/cypress/" rel="tag">cypress</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../tags/testing/" rel="tag">testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../dependent-test/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Writing Tests That Depend On Other Tests
        
      </div>
    </a>
  
  
    <a href="../cypress-if/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Conditional Commands For Cypress</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    <style>
#carbonads {
  display: block;
  overflow: hidden;
  font-size: 11px;
  font-family: Verdana, "Helvetica Neue", Helvetica, sans-serif;
  line-height: 1.5;
}

#carbonads a {
  color: #258fb8;
  text-decoration: none;
}

#carbonads a:hover {
  text-decoration: underline;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

.carbon-img {
  float: left;
  margin-right: 1em;
}

.carbon-img img { display: block; }

.carbon-text {
  display: block;
  float: left;
  text-align: left;
  margin-top: 0.5em;
}
@media screen and (min-width: 1024px) {
  .carbon-text {
    max-width: calc(100% - 130px - 1em);
  }
}

.carbon-poweredby {
  /*position: absolute;
  right: 0;
  bottom: 0;*/
  float: right;
  display: block;
  font-size: 11px;
}
</style>
<div class="widget-wrap">
  <div class="widget-title">&nbsp;</div>
  <div class="widget">
    <!-- Carbon Ads -->
    <script async type="text/javascript"
      src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=glebbahmutovcom"
      id="_carbonads_js"></script>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../categories/book-review/">book review</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/climate/">climate</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/people/">people</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/process/">process</a><span class="category-list-count">149</span></li><li class="category-list-item"><a class="category-list-link" href="../categories/products/">products</a><span class="category-list-count">502</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="../tags/11ty/" rel="tag">11ty</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/QUnit/" rel="tag">QUnit</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/a11y/" rel="tag">a11y</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/advice/" rel="tag">advice</a><span class="tag-list-count">113</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/algolia/" rel="tag">algolia</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angular/" rel="tag">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs/" rel="tag">angularjs</a><span class="tag-list-count">58</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/angularjs2/" rel="tag">angularjs2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/assertions/" rel="tag">assertions</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ast/" rel="tag">ast</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/boilerplate/" rel="tag">boilerplate</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/browser/" rel="tag">browser</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ci/" rel="tag">ci</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/circle/" rel="tag">circle</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/climate/" rel="tag">climate</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/code-coverage/" rel="tag">code coverage</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cyclejs/" rel="tag">cyclejs</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress/" rel="tag">cypress</a><span class="tag-list-count">236</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/cypress-dashboard/" rel="tag">cypress dashboard</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/d3/" rel="tag">d3</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/db/" rel="tag">db</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/docker/" rel="tag">docker</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/documentation/" rel="tag">documentation</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es6/" rel="tag">es6</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/es7/" rel="tag">es7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/functional/" rel="tag">functional</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/generators/" rel="tag">generators</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/git/" rel="tag">git</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/github/" rel="tag">github</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/graphql/" rel="tag">graphql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/grunt/" rel="tag">grunt</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/gulp/" rel="tag">gulp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hiring/" rel="tag">hiring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/hyperapp/" rel="tag">hyperapp</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/immutable/" rel="tag">immutable</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/interview/" rel="tag">interview</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jade/" rel="tag">jade</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">166</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/jshint/" rel="tag">jshint</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/model-based-testing/" rel="tag">model-based testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/modular-development/" rel="tag">modular development</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/netlify/" rel="tag">netlify</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">84</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/performance/" rel="tag">performance</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/presentation/" rel="tag">presentation</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/promises/" rel="tag">promises</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/proposal/" rel="tag">proposal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ramda/" rel="tag">ramda</a><span class="tag-list-count">28</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react/" rel="tag">react</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/react-native/" rel="tag">react native</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactive/" rel="tag">reactive</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/reactjs/" rel="tag">reactjs</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/renovate/" rel="tag">renovate</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/screencast/" rel="tag">screencast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/security/" rel="tag">security</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/sentry/" rel="tag">sentry</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/service-workers/" rel="tag">service workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/state-machine/" rel="tag">state machine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/testing/" rel="tag">testing</a><span class="tag-list-count">152</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/tutorial/" rel="tag">tutorial</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/typescript/" rel="tag">typescript</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/ui/" rel="tag">ui</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vercel/" rel="tag">vercel</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/visual-testing/" rel="tag">visual testing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/vuejs/" rel="tag">vuejs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/web-workers/" rel="tag">web workers</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="../tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="../tags/11ty/" style="font-size: 10.37px;">11ty</a> <a href="../tags/QUnit/" style="font-size: 11.48px;">QUnit</a> <a href="../tags/a11y/" style="font-size: 10.74px;">a11y</a> <a href="../tags/advice/" style="font-size: 18.89px;">advice</a> <a href="../tags/algolia/" style="font-size: 10.74px;">algolia</a> <a href="../tags/angular/" style="font-size: 10px;">angular</a> <a href="../tags/angularjs/" style="font-size: 17.78px;">angularjs</a> <a href="../tags/angularjs2/" style="font-size: 10px;">angularjs2</a> <a href="../tags/assertions/" style="font-size: 12.96px;">assertions</a> <a href="../tags/ast/" style="font-size: 12.59px;">ast</a> <a href="../tags/boilerplate/" style="font-size: 14.81px;">boilerplate</a> <a href="../tags/browser/" style="font-size: 15.56px;">browser</a> <a href="../tags/ci/" style="font-size: 17.41px;">ci</a> <a href="../tags/circle/" style="font-size: 14.44px;">circle</a> <a href="../tags/climate/" style="font-size: 14.44px;">climate</a> <a href="../tags/code-coverage/" style="font-size: 15.19px;">code coverage</a> <a href="../tags/concurrency/" style="font-size: 10px;">concurrency</a> <a href="../tags/cyclejs/" style="font-size: 12.22px;">cyclejs</a> <a href="../tags/cypress/" style="font-size: 20px;">cypress</a> <a href="../tags/cypress-dashboard/" style="font-size: 14.07px;">cypress dashboard</a> <a href="../tags/d3/" style="font-size: 10.74px;">d3</a> <a href="../tags/db/" style="font-size: 14.44px;">db</a> <a href="../tags/docker/" style="font-size: 14.07px;">docker</a> <a href="../tags/documentation/" style="font-size: 11.85px;">documentation</a> <a href="../tags/es6/" style="font-size: 14.44px;">es6</a> <a href="../tags/es7/" style="font-size: 10px;">es7</a> <a href="../tags/functional/" style="font-size: 18.15px;">functional</a> <a href="../tags/generators/" style="font-size: 11.48px;">generators</a> <a href="../tags/git/" style="font-size: 15.19px;">git</a> <a href="../tags/github/" style="font-size: 16.67px;">github</a> <a href="../tags/graphql/" style="font-size: 11.48px;">graphql</a> <a href="../tags/grunt/" style="font-size: 12.22px;">grunt</a> <a href="../tags/gulp/" style="font-size: 10.74px;">gulp</a> <a href="../tags/hiring/" style="font-size: 11.11px;">hiring</a> <a href="../tags/hyperapp/" style="font-size: 12.22px;">hyperapp</a> <a href="../tags/immutable/" style="font-size: 11.48px;">immutable</a> <a href="../tags/interview/" style="font-size: 10.74px;">interview</a> <a href="../tags/jade/" style="font-size: 11.11px;">jade</a> <a href="../tags/javascript/" style="font-size: 19.63px;">javascript</a> <a href="../tags/jshint/" style="font-size: 10.74px;">jshint</a> <a href="../tags/markdown/" style="font-size: 13.7px;">markdown</a> <a href="../tags/model-based-testing/" style="font-size: 10px;">model-based testing</a> <a href="../tags/modular-development/" style="font-size: 17.04px;">modular development</a> <a href="../tags/netlify/" style="font-size: 11.11px;">netlify</a> <a href="../tags/nodejs/" style="font-size: 18.52px;">nodejs</a> <a href="../tags/performance/" style="font-size: 16.3px;">performance</a> <a href="../tags/presentation/" style="font-size: 12.22px;">presentation</a> <a href="../tags/promises/" style="font-size: 17.41px;">promises</a> <a href="../tags/proposal/" style="font-size: 10.37px;">proposal</a> <a href="../tags/ramda/" style="font-size: 17.04px;">ramda</a> <a href="../tags/react/" style="font-size: 12.22px;">react</a> <a href="../tags/react-native/" style="font-size: 11.11px;">react native</a> <a href="../tags/reactive/" style="font-size: 14.07px;">reactive</a> <a href="../tags/reactjs/" style="font-size: 11.11px;">reactjs</a> <a href="../tags/renovate/" style="font-size: 11.48px;">renovate</a> <a href="../tags/screencast/" style="font-size: 10px;">screencast</a> <a href="../tags/security/" style="font-size: 12.96px;">security</a> <a href="../tags/sentry/" style="font-size: 13.7px;">sentry</a> <a href="../tags/service-workers/" style="font-size: 11.85px;">service workers</a> <a href="../tags/state-machine/" style="font-size: 10px;">state machine</a> <a href="../tags/testing/" style="font-size: 19.26px;">testing</a> <a href="../tags/tutorial/" style="font-size: 15.93px;">tutorial</a> <a href="../tags/typescript/" style="font-size: 12.59px;">typescript</a> <a href="../tags/ui/" style="font-size: 10.37px;">ui</a> <a href="../tags/vercel/" style="font-size: 13.33px;">vercel</a> <a href="../tags/visual-testing/" style="font-size: 11.11px;">visual testing</a> <a href="../tags/vuejs/" style="font-size: 11.48px;">vuejs</a> <a href="../tags/web-workers/" style="font-size: 11.85px;">web workers</a> <a href="../tags/webpack/" style="font-size: 10.74px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/11/">November 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/10/">October 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/09/">September 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/08/">August 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/07/">July 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/06/">June 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/05/">May 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/04/">April 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/02/">February 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/12/">December 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/11/">November 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/10/">October 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/09/">September 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/08/">August 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/07/">July 2021</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/06/">June 2021</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/05/">May 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/04/">April 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/03/">March 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2021/01/">January 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/11/">November 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/06/">June 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/03/">March 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/09/">September 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/03/">March 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2019/01/">January 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/11/">November 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/09/">September 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/08/">August 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/04/">April 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/03/">March 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/12/">December 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/09/">September 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/06/">June 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/04/">April 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/03/">March 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/02/">February 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2017/01/">January 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/10/">October 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/09/">September 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/08/">August 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/07/">July 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/06/">June 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/05/">May 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/04/">April 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/03/">March 2016</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2016/01/">January 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/12/">December 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/11/">November 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/10/">October 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/06/">June 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/05/">May 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/04/">April 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/03/">March 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/02/">February 2015</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2015/01/">January 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/12/">December 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/11/">November 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/10/">October 2014</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/09/">September 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/08/">August 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/07/">July 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/06/">June 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/05/">May 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/04/">April 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/03/">March 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/02/">February 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2014/01/">January 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/12/">December 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/11/">November 2013</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/10/">October 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="../archives/2013/09/">September 2013</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="../tips-and-tricks-for-e2e/">Tips And Tricks For Writing Fast And Maintainable Front-End Tests</a>
          </li>
        
          <li>
            <a href="../mock-process-env-in-react/">Mock process.env In Your Cypress React Tests</a>
          </li>
        
          <li>
            <a href="../text-input/">Playing With DevExtreme Text Input</a>
          </li>
        
          <li>
            <a href="../cypress-devextreme-example/">Cypress DevExtreme Example</a>
          </li>
        
          <li>
            <a href="../spok-redux/">Check Redux Store Using cy-spok</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Gleb Bahmutov<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
</nav>
    
<script>
  var disqus_shortname = 'betterworldbybettersoftware';
  
  var disqus_url = 'https://glebbahmutov.com/blog/cypress-component-testing-vs-angular-test-harness/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="../fancybox/jquery.fancybox.css">

  
<script src="../fancybox/jquery.fancybox.pack.js"></script>




<script src="../js/script.js"></script>


  </div>
  <script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
<script>
(function centerMainOnAsideScroll () {
  // when aside side bar scrolls outside the view
  // it centers the main content.
  const main = document.querySelector('#main')
  const aside = document.querySelector('aside#sidebar')
  console.assert(main, 'could not get #main')
  console.assert(aside, 'could not get aside')
  // initially the aside sidebar is visible
  let asideVisible = true

  function centerMain () {
    console.log('adding class center-main')
    main.classList.add('center-main')
  }
  function leftMain () {
    main.classList.remove('center-main')
  }

  function callWhenAsideScrollsUp (becameInvisible, becameVisible) {
    return function () {
      const border = 50
      const rect = aside.getBoundingClientRect()
      if (asideVisible && rect.bottom < -border) {
        asideVisible = false
        becameInvisible()
      }

      if (!asideVisible && window.scrollY < border) {
        asideVisible = true
        becameVisible()
      }
    }
  }
  const throttleWaitMs = 250
  const onScroll = _.throttle(
    callWhenAsideScrollsUp(centerMain, leftMain),
    throttleWaitMs
  )
  window.addEventListener('scroll', onScroll)
}())
</script>

</body>
</html>
